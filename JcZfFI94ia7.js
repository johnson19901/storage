"use strict";if(!function(){var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global;if(void 0===e.AbortController){var t=function(){function e(){this.__listeners=new Map}return e.prototype=Object.create(Object.prototype),e.prototype.addEventListener=function(e,t,n){if(arguments.length<2)throw TypeError("TypeError: Failed to execute 'addEventListener' on 'CustomEventTarget': 2 arguments required, but only "+arguments.length+" present.");var r=this.__listeners,o=e.toString();r.has(o)||r.set(o,new Map);var i=r.get(o);i.has(t)||i.set(t,n)},e.prototype.removeEventListener=function(e,t,n){if(arguments.length<2)throw TypeError("TypeError: Failed to execute 'addEventListener' on 'CustomEventTarget': 2 arguments required, but only "+arguments.length+" present.");var r=this.__listeners,o=e.toString();if(r.has(o)){var i=r.get(o);i.has(t)&&i.delete(t)}},e.prototype.dispatchEvent=function(e){if(!(e instanceof Event))throw TypeError("Failed to execute 'dispatchEvent' on 'CustomEventTarget': parameter 1 is not of type 'Event'.");var t=e.type,n=this.__listeners;if(n=n.get(t))for(var t=n.entries(),r=Array.isArray(t),o=0,t=r?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}var i,a=i[0];i=i[1];try{"function"==typeof a?a.call(this,e):a&&"function"==typeof a.handleEvent&&a.handleEvent(e)}catch(u){setTimeout(function(){throw u})}i&&i.once&&n.delete(a)}return!0},e}(),n={};e.AbortSignal=function(){function e(e){if(e!==n)throw TypeError("Illegal constructor.");t.call(this),this._aborted=!1}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object.defineProperty(e.prototype,"onabort",{get:function(){return this._onabort},set:function(e){var t=this._onabort;t&&this.removeEventListener("abort",t),this._onabort=e,this.addEventListener("abort",e)}}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this._aborted}}),e}(),e.AbortController=function(){function e(){this._signal=new AbortSignal(n)}return e.prototype=Object.create(Object.prototype),Object.defineProperty(e.prototype,"signal",{get:function(){return this._signal}}),e.prototype.abort=function(){var e=this.signal;e.aborted||(e._aborted=!0,e.dispatchEvent(new Event("abort")))},e}()}}(),null==Array.prototype.at&&(Array.prototype.at=function(e){return(Number.isInteger(e=parseInt(e,10))||(e=0),e>=0&&e<this.length)?this[e]:this[this.length+e]}),!function(){if(!Array.prototype.flat){var e=function e(t){return t<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n},[])};Array.prototype.flat=function(){return e.call(this,isNaN(arguments[0])?1:Number(arguments[0]))}}if(!Array.prototype.flatMap){var t=function(e,t){var n=[];if("function"!=typeof t)throw TypeError("Callback function must be callable.");for(var r=0;r<e.length;r++){var o=t.call(e,e[r],r,e);Array.isArray(o)?n.push.apply(n,o):n.push(o)}return n};Array.prototype.flatMap=function(e){var n=arguments[1]||this;return t(n,e)}}}(),function(){var e=Array.prototype.indexOf;function t(e){var t;return Number.isFinite(e=Number(e))&&0!==e?(t=e,(t>=0?1:-1)*Math.floor(Math.abs(e))):e}if(Array.prototype.includes||(Array.prototype.includes=function(n){if(void 0!==n&&Array.isArray(this)&&!Number.isNaN(n))return -1!==e.apply(this,arguments);var r,o=Object(this),i=o.length?(r=o.length,Math.min(Math.max(t(r),0),Number.MAX_SAFE_INTEGER)):0;if(0===i)return!1;for(var a=arguments.length>1?t(arguments[1]):0,u=a<0?Math.max(i+a,0):a,l=Number.isNaN(n);u<i;){var s=o[u];if(s===n||l&&Number.isNaN(s))return!0;u++}return!1}),!Array.prototype.values){var n="function"==typeof Symbol?Symbol.iterator:"@@iterator",r=function(){function e(e){if(this.$1=void 0,this.$2=0,null==e)throw TypeError("Cannot convert undefined or null to object");this.$1=Object(e)}var t=e.prototype;return t.next=function(){if(null==this.$1||this.$2>=this.$1.length)return this.$1=void 0,{value:void 0,done:!0};var e=this.$1[this.$2];return this.$2++,{value:e,done:!1}},t[n]=function(){return this},e}();Array.prototype.values=function(){return new r(this)}}Array.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]||(Array.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=Array.prototype.values)}(),function(e){var t={},n=function(e,t){if(!e&&!t)return null;var n={};return void 0!==e&&(n.type=e),void 0!==t&&(n.signature=t),n},r=function(e,t,n){return e},o=function(e,t,r){if("sourcemeta"in __transform_includes&&(e.__SMmeta=t),"typechecks"in __transform_includes){var o,i;(t=(o=t?t.name:void 0,i=r,n(o&&/^[A-Z]/.test(o)?o:void 0,i&&(i.params&&i.params.length||i.returns)?"function("+(i.params?i.params.map(function(e){return/\?/.test(e)?"?"+e.replace("?",""):e}).join(","):"")+")"+(i.returns?":"+i.returns:""):void 0)))&&__w(e,t)}return e},i=function(e,t,n){return n.apply(e,t)},a=function(e,t,n,r){return r&&r.params&&__t.apply(e,r.params),n=n.apply(e,t),r&&r.returns&&__t([n,r.returns]),n};a=function(e,n,r,o,i){return i&&(i.callId||(i.callId=i.module+":"+(i.line||0)+":"+(i.column||0)),t[o=i.callId]=(t[o]||0)+1),r.apply(e,n)},"undefined"==typeof __transform_includes?(e.__annotator=r,e.__bodyWrapper=i):(e.__annotator=o,"codeusage"in __transform_includes?(e.__annotator=r,e.__bodyWrapper=a,e.__bodyWrapper.getCodeUsage=function(){return t},e.__bodyWrapper.clearCodeUsage=function(){t={}}):(__transform_includes,e.__bodyWrapper=i))}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0!==this?this:"undefined"!=typeof self?self:{}),function(e){e.__t=function(e){return e[0]},e.__w=function(e){return e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0!==this?this:"undefined"!=typeof self?self:{}),self.__DEV__=self.__DEV__||0,self.emptyFunction=function(){},function(e,t){var n,r,o,i,a="keys",u="values",l="entries",s=((r=f(Array))||(n=function(){function e(e,t){this.$1=e,this.$2=t,this.$3=0}var t=e.prototype;return t.next=function(){if(null==this.$1)return{value:void 0,done:!0};var e=this.$1,t=this.$1.length,n=this.$3,r=this.$2;return n>=t?(this.$1=void 0,{value:void 0,done:!0}):(this.$3=n+1,r===a)?{value:n,done:!1}:r===u?{value:e[n],done:!1}:r===l?{value:[n,e[n]],done:!1}:void 0},t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}()),{keys:r?function(e){return e.keys()}:function(e){return new n(e,a)},values:r?function(e){return e.values()}:function(e){return new n(e,u)},entries:r?function(e){return e.entries()}:function(e){return new n(e,l)}}),c=((i=f(String))||(o=function(){function e(e){this.$1=e,this.$2=0}var t=e.prototype;return t.next=function(){if(null==this.$1)return{value:void 0,done:!0};var e=this.$2,t=this.$1,n=t.length;if(e>=n)return this.$1=void 0,{value:void 0,done:!0};var r=t.charCodeAt(e);return r=r<55296||r>56319||e+1===n?t[e]:(n=t.charCodeAt(e+1))<56320||n>57343?t[e]:t[e]+t[e+1],this.$2=e+r.length,{value:r,done:!1}},t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}()),{keys:function(){throw TypeError("Strings default iterator doesn't implement keys.")},values:i?function(e){return e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]()}:function(e){return new o(e)},entries:function(){throw TypeError("Strings default iterator doesn't implement entries.")}});function f(e){return"function"==typeof e.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]&&"function"==typeof e.prototype.values&&"function"==typeof e.prototype.keys&&"function"==typeof e.prototype.entries}var d=function(){function e(e,t){this.$1=e,this.$2=t,this.$3=Object.keys(e),this.$4=0}var t=e.prototype;return t.next=function(){var e=this.$3.length,t=this.$4,n=this.$2,r=this.$3[t];return t>=e?(this.$1=void 0,{value:void 0,done:!0}):(this.$4=t+1,n===a)?{value:r,done:!1}:n===u?{value:this.$1[r],done:!1}:n===l?{value:[r,this.$1[r]],done:!1}:void 0},t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}(),p={keys:function(e){return new d(e,a)},values:function(e){return new d(e,u)},entries:function(e){return new d(e,l)}};function h(e,t){return"string"==typeof e?c[t||u](e):Array.isArray(e)?s[t||u](e):e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]?e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]():p[t||l](e)}Object.assign(h,{KIND_KEYS:a,KIND_VALUES:u,KIND_ENTRIES:l,keys:function(e){return h(e,a)},values:function(e){return h(e,u)},entries:function(e){return h(e,l)},generic:p.entries}),e.FB_enumerate=h}("object"==typeof global?global:"object"==typeof this?this:"object"==typeof window?window:"object"==typeof self?self:{}),!function(){"undefined"==typeof Element||Element.prototype.scroll||(Element.prototype.scroll=Element.prototype.scrollTo=function(){e.call(this,arguments)},Element.prototype.scrollBy=function(){e.call(this,arguments,!0)});function e(e,t){if(void 0===t&&(t=!1),0!==e.length){var n=e[0],r=e[1];if(n=Number(n)||0,r=Number(r)||0,1===e.length){if(null==(e=e[0]))return;n=e.left,r=e.top,void 0!==n&&(n=Number(n)||0),void 0!==r&&(r=Number(r)||0)}void 0!==n&&(this.scrollLeft=(t?this.scrollLeft:0)+n),void 0!==r&&(this.scrollTop=(t?this.scrollTop:0)+r)}}}(),!function(){var e,t,n;(function e(){if("object"!=typeof JSON||"function"!=typeof JSON.stringify)return!1;if("undefined"==typeof navigator||!navigator.userAgent)return!0;var t=navigator.userAgent;if(t.indexOf("Firefox/")>-1)return!(parseInt(t.match(/Firefox\/([0-9]+)/)[1],10)>=62);if(t.indexOf("Edg/")>-1)return!(parseInt(t.match(/Edg\/([0-9]+)/)[1],10)>=79);if(t.indexOf("Chrome/")>-1)return!(parseInt(t.match(/Chrome\/([0-9]+)/)[1],10)>=66);if(t.indexOf("CriOS/")>-1)return!(parseInt(t.match(/CriOS\/([0-9]+)/)[1],10)>=66);if(t.indexOf("Safari/")>-1&&t.indexOf("Version/")>-1)return!(parseInt(t.match(/Version\/([0-9]+)/)[1],10)>=12);return!0})()&&'["\\u2028\\u2029"]'!==JSON.stringify(["\u2028\u2029"])&&(JSON.stringify=(e=JSON.stringify,t=/\u2028/g,n=/\u2029/g,function(r,o,i){return(r=e.call(this,r,o,i))&&(-1<r.indexOf("\u2028")&&(r=r.replace(t,"\\u2028")),-1<r.indexOf("\u2029")&&(r=r.replace(n,"\\u2029"))),r}))}(),!function(){var e=Object.prototype.hasOwnProperty;Object.entries=function(t){if(null==t)throw TypeError("Object.entries called on non-object");var n=[];for(var r in t)e.call(t,r)&&n.push([r,t[r]]);return n},"function"!=typeof Object.fromEntries&&(Object.fromEntries=function(e){for(var t={},e=e,n=Array.isArray(e),r=0,e=n?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var o,i=o[0];o=o[1],t[i]=o}return t}),Object.values=function(t){if(null==t)throw TypeError("Object.values called on non-object");var n=[];for(var r in t)e.call(t,r)&&n.push(t[r]);return n}}(),(e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0!==this?this:"undefined"!=typeof self?self:{}).__m=function(e,t){return e.__SMmeta=t,e},String.prototype.contains||(String.prototype.contains=String.prototype.includes),String.prototype.padStart||(String.prototype.padStart=function(e,t){return(e>>=0,t=String(t||" "),this.length>e)?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return(e>>=0,t=String(t||" "),this.length>e)?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))}),!String.prototype.matchAll){var e,t=250;String.prototype.matchAll=function(e){if(!e.global)throw TypeError("String.prototype.matchAll called with a non-global RegExp argument");for(var n,r=String(this),o=[],i=0;(n=e.exec(r))&&i++<t;)o.push(n);return o}}String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),!function(e){function e(){return"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof File&&"function"==typeof Blob}if(e()){var t={},n=URL.createObjectURL,r=URL.revokeObjectURL;URL.createObjectURL=function(e){var r=null,o=0;return e instanceof File?(r="File",o=e.size):e instanceof Blob?(r="Blob",o=e.size):"function"==typeof MediaSource&&e instanceof MediaSource&&(r="MediaSource",o=0),e=n.call(URL,e),null!==r&&(t[e]={type:r,size:o}),e},URL.revokeObjectURL=function(e){r.call(URL,e),delete t[e]},URL._fbRegisteredObjectURL=function(){return Object.values(t)}}}(this),function(e){var t=e.babelHelpers={},n=Object.prototype.hasOwnProperty;function r(e){this.wrapped=e}function o(e){var t,n;function o(t,n){try{var a=e[t](n),u=(n=a.value)instanceof r;Promise.resolve(u?n.wrapped:n).then(function(e){if(u){o("return"===t?"return":"next",e);return}i(a.done?"return":"normal",e)},function(e){o("throw",e)})}catch(l){i("throw",l)}}function i(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=function e(r,i){return new Promise(function(e,a){e={key:r,arg:i,resolve:e,reject:a,next:null},n?n=n.next=e:(t=n=e,o(r,i))})},"function"!=typeof e.return&&(this.return=void 0)}"undefined"==typeof Symbol||("function"==typeof Symbol?Symbol.asyncIterator:"@@asyncIterator")||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")),"function"==typeof Symbol&&("function"==typeof Symbol?Symbol.asyncIterator:"@@asyncIterator")&&(o.prototype["function"==typeof Symbol?Symbol.asyncIterator:"@@asyncIterator"]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)},t.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.inheritsLoose=function(e,t){return Object.assign(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.__superConstructor__=t,t},t.wrapNativeSuper=function(e){var n="function"==typeof Map?new Map:void 0;return t.wrapNativeSuper=function(e){if(null===e)return null;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){e.apply(this,arguments)}return t.inheritsLoose(r,e),r},t.wrapNativeSuper(e)},t.assertThisInitialized=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t._extends=Object.assign,t.extends=t._extends,t.construct=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},t.objectWithoutPropertiesLoose=function(e,t){var r={};for(var o in e)!n.call(e,o)||t.indexOf(o)>=0||(r[o]=e[o]);return r},t.taggedTemplateLiteralLoose=function(e,t){return t||(t=e.slice(0)),e.raw=t,e},t.bind=Function.prototype.bind,t.wrapAsyncGenerator=function(e){return function(){return new o(e.apply(this,arguments))}},t.awaitAsyncGenerator=function(e){return new r(e)},t.asyncIterator=function(e){var t;if("undefined"!=typeof Symbol&&(("function"==typeof Symbol?Symbol.asyncIterator:"@@asyncIterator")&&null!=(t=e[Symbol.asyncIterator])||("function"==typeof Symbol?Symbol.iterator:"@@iterator")&&null!=(t=e[Symbol.iterator])))return t.call(e);throw TypeError("Object is not async iterable")},t.asyncGeneratorDelegate=function(e,t){var n={},r=!1;function o(n,o){return r=!0,{done:!1,value:t(o=new Promise(function(t){t(e[n](o))}))}}return"function"==typeof Symbol&&("function"==typeof Symbol?Symbol.iterator:"@@iterator")&&(n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this}),n.next=function(e){return r?(r=!1,e):o("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return o("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):o("return",e)}),n}}("undefined"==typeof global?self:global),function(e){if(null==e.require){var t,n=null,r=null,o=[],i={},a={},u=0,l=0,s=0,c=0,f=0,d=1,p=2,h=4,m=8,g=16,v=32,y=64,b={},S={},$=Object.prototype.hasOwnProperty,E=Object.prototype.toString,_=!!(ed=e.Env||{}).gk_require_when_ready_in_order,C=!!ed.profile_require_factories,w=e.performance||{};if(w.now&&w.timing&&w.timing.navigationStart){var R=w.timing.navigationStart;t=function(){return w.now()+R}}else t=function(){return Date.now()};var T=0,I=!!(null!=e&&null!=e.document&&"createElement"in e.document),k=!0===ed.use_fbt_virtual_modules&&I,P="$fbt_virtual",A={},D=null,O=6e4,L=["fbt","fbs","errorDesc","adsErrorDesc","codedError","errorSummary"];if(ei("module",0),ei("exports",0),ei("define",Q),ei("global",e),ei("require",F),ei("requireInterop",F),ei("importDefault",B),ei("importNamespace",j),ei("requireDynamic",ea),ei("requireLazy",X),ei("requireWeak",eu),ei("ifRequired",el),ei("ifRequireable",es),n=[F.call(null,"global"),F.call(null,"require"),F.call(null,"requireDynamic"),F.call(null,"requireLazy"),F.call(null,"requireInterop"),null],r=[F.call(null,"global"),F.call(null,"require"),F.call(null,"importDefault"),F.call(null,"importNamespace"),F.call(null,"requireLazy"),F.call(null,"requireInterop"),null],Q.amd={},e.define=Q,e.require=F,e.requireInterop=F,e.importDefault=B,e.importNamespace=j,e.requireDynamic=ea,e.requireLazy=X,e.__onBeforeModuleFactory=null,e.__onAfterModuleFactory=null,ed={getDupCount:function(){return[c,f]},getModules:function(){var e={};for(var t in i)i[t]&&Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e},modulesMap:i,debugUnresolvedDependencies:N},ei("__getTotalRequireCalls",W),ei("__getModuleTimeDetails",function e(){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t}),ei("__debug",ed),e.__d=function(e,t,n,r,o){ef()(function(){Q(e,t,n,(r||p)|m,null,null,null,o)},"define "+e,{root:!0})()},e.__d_stub){for(I=0;I<e.__d_stub.length;I++)e.__d.apply(null,e.__d_stub[I]);delete e.__d_stub}if(e.__rl_stub){for(eu=0;eu<e.__rl_stub.length;eu++)X.apply(null,e.__rl_stub[eu]);delete e.__rl_stub}es=function(){},e.$RefreshReg$=es,e.$RefreshSig$=function(){return function(e){return e}}}function N(e){e=Array.prototype.slice.call(e);for(var t,n,r,o,a={};e.length;){if(!a[n=e.shift()]){if(a[n]=!0,!(!(r=i[n])||en(r))&&r.dependencies)for(t=0;t<r.dependencies.length;t++)en(o=r.dependencies[t])||e.push(o.id)}}for(n in a)$.call(a,n)&&e.push(n);for(t=0,a=[];t<e.length;t++){var u=n=e[t];if(n=(r=i[n])?r.dependencies:null,r&&n){if(en(r))u+=" is ready";else{r=[];for(var l=0;l<n.length;l++)en(o=n[l])||r.push(o.id);u+=" is waiting for "+r.join(", ")}}else u+=" is not defined";a.push(u)}return a.join("\n")}function x(e){var t=Error(e);t.name="ModuleError",t.messageFormat=e;for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.messageParams=r.map(function(e){return String(e)}),t.taalOpcodes=[2,2],t}function U(o){T++;var u=i[o];return u&&(null!=u.exports||u.factoryFinished)||(function o(u){var l=e.ErrorGuard;if(l&&!l.inGuard())return l.applyWithGuard(o,null,[u]);if(!(l=i[u])){var s='Requiring unknown module "%s"';throw x(s,u)}if(null==e.__onBeforeModuleFactory||e.__onBeforeModuleFactory(l),l.hasError){if(null==l.error)throw x('Requiring module "%s" which threw an exception',u);throw s=H(l.error),q(s,{messageFormat:'Requiring module "%s" which threw an exception',messageParams:[u]}),s}if(!en(l))throw x('Requiring module "%s" with unresolved dependencies: %s',u,N([u]));G(l),s=l.exports={};var c=l.factory,f=l.dependencies;if("[object Function]"===E.call(c)&&null!=f){var d,g,S=f.length;try{try{(function e(t){if(null!=t.sideEffectDependencyException)throw t.sideEffectDependencyException;if(!t.ranRecursiveSideEffects){t.ranRecursiveSideEffects=!0;var n=t.dependencies;if(n)for(var r=0;r<n.length;r++){var o=n[r];try{e(o)}catch(i){throw t.sideEffectDependencyException=i,i}if(o.special&h)try{F.call(null,o.id)}catch(a){throw t.sideEffectDependencyException=a,a}}}})(l)}catch(_){z(_,u)}var w,R,T=[],I=S;if(l.special&m){var k=l.special&v?r:n;(T=k.slice(0))[k.length-2]=l,T[k.length-1]=s,I+=T.length}for(l.special&p&&(k=(w=l,-1===w.factoryLength&&(w.factoryLength=w.factory.length),w.factoryLength),I=Math.min(S+T.length,k)),s=0;s<S;s++)k=f[s],T.length<I&&T.push(F.call(null,k.id));C&&(R=t()),a[l.id].factoryRun=!0;try{k=null!=l.context?l.context:e,g=c.apply(k,T)}catch(P){z(P,u)}finally{if(C&&(I=t(),(f=a[l.id]).factoryTime=I-(R||0),f.factoryEnd=I,f.factoryStart=R,c.__SMmeta))for(S in c.__SMmeta)Object.prototype.hasOwnProperty.call(c.__SMmeta,S)&&(f[S]=c.__SMmeta[S])}}catch(A){throw l.hasError=!0,l.error=A,l.exports=null,A}finally{}if(g&&(l.exports=g),l.special&y?null!=l.exports&&$.call(l.exports,"default")&&(l.defaultExport=d=l.exports.default):l.defaultExport=d=l.exports,"function"==typeof d&&(s=d.__superConstructor__,!d.displayName||s&&s.displayName===d.displayName))try{d.displayName=(d.name||"(anonymous)")+" [from "+u+"]"}catch(D){}l.factoryFinished=!0}else l.exports=c;(T=i[k="__isRequired__"+u])&&!en(T)&&Q(k,b),null==e.__onAfterModuleFactory||e.__onAfterModuleFactory(l)}(o),u=i[o]),u&&1==u.refcount--&&(i[o]=null),u}function M(e){return e.defaultExport!==S?e.defaultExport:e.exports}function F(e){if(e=U(e))return M(e)}function B(e){if(e=U(e))return e.defaultExport!==S?e.defaultExport:null}function j(e){if(e=U(e))return e.exports}function H(t){return null!=e.getErrorSafe?e.getErrorSafe(t):null!=t&&"object"==typeof t&&"string"==typeof t.message?t:x("Non-error thrown: %s",String(t))}function q(t,n){var r=e.ErrorSerializer;r&&r.aggregateError(t,n)}function z(e,t){throw e=H(e),q(e,{messageFormat:'Module "%s"',messageParams:[t],forcedKey:t.startsWith("__")?null:t}),e}function W(){return T}function G(e){!e.nonJSDeps&&(e.nonJSDeps=!0,e.dependencies&&e.dependencies.forEach(G))}function J(e,n){e in i||e in A||(A[e]={injectTime:t(),hash:n?n.dataset.bootloaderHash||n.dataset.bootloaderHashClient:null}),D||(D=setTimeout(ef()(V,"_checkFbtVirtualModuleTimeout"),O))}function V(){D=null,k||X.apply(null,[["FBLogger"],function(e){e("binary_transparency","invalid_vmod_use").mustfix("_checkFbtVirtualModuleTimeout timeout queued when USE_FBT_VIRTUAL_MODULES is false!")}]),null==e.__translationFetchTracker&&(e.__translationFetchTracker={});var n=e.__translationFetchTracker,r=t(),o={};for(var i in A){var a=A[i],u=a.hash;r-(a=a.injectTime)<=O||((a=null==u||!(u in n)||"fetched"===n[u])?(o[a=null!=u?u:"unknown"]=o[a]||[],o[a].push(i),delete A[i]):null==u||"failed"!==n[u]||delete A[i])}Object.keys(A).length>0&&(D=setTimeout(ef()(V,"_checkFbtVirtualModuleTimeout"),O)),Object.keys(o).length>0&&X.apply(null,[["FBLogger"],function(e){for(var t in o)e("binary_transparency","vmod_timeout").warn("The following virtual modules in resource %s are taking over %sms to be defined: %s...",t,O,o[t].join(",").slice(0,300))}])}function Q(n,r,u,l,s,d,p,h){void 0===r?(r=[],u=n,n=Z()):void 0===u&&(u=r,"[object Array]"===E.call(n)?n=Z((r=n).join(",")):r=[]);var m,v={cancel:(function e(t){if(i[t]){var n=i[t];if(i[t]=null,n.dependencies)for(t=0;t<n.dependencies.length;t++){var r=n.dependencies[t];1==r.refcount--&&e(r.id)}}}).bind(this,n)},y=K(n);if(!r&&!u&&d)return y.refcount+=d,v;if(k&&(n in A&&delete A[n],Array.isArray(r)&&function e(t,n,r){if(k&&-1===L.indexOf(t)){for(var o=0;o<n.length;o++)if(-1!==L.indexOf(n[o])){var i=t+P;n.push(i),J(i,r);break}}}(n,r,h)),a[n]={id:n,dependencies:r,meta:p,category:l,defined:C?t():null,factoryTime:null,factoryStart:null,factoryEnd:null,factoryRun:!1},y.dependencies&&!0!==y.reload)return -1!=n.indexOf(":")?f++:c++,v;if(d&&(y.refcount+=d),h=r.map(K),y.factory=u,y.dependencies=h,y.context=s,y.special=l,(y.nonJSDeps||(m=y,m.special&g))&&(y.nonJSDeps=!1,G(y)),eo(y),o.length>0){var b=o;o=[],(p=e.ScheduleJSWork?e.ScheduleJSWork:ec)(function(){if(_){for(var e=0;e<b.length;e++)F.call(null,b[e].id);b.length=0}else for(;b.length>0;)F.call(null,b.pop().id)})()}return v}function K(e){var t=i[e];return t||(t=new Y(e,0),i[e]=t),t}function Y(e,t,n){this.id=e,this.refcount=t,this.exports=n||null,this.defaultExport=n||S,this.factory=void 0,this.factoryLength=-1,this.factoryFinished=!1,this.dependencies=void 0,this.depPosition=0,this.context=void 0,this.special=0,this.hasError=!1,this.error=null,this.ranRecursiveSideEffects=!1,this.sideEffectDependencyException=null,this.nextDepWaitingHead=null,this.nextDepWaitingNext=null,this.tarjanGeneration=-1,this.tarjanLow=0,this.tarjanIndex=0,this.tarjanOnStack=!1,this.nonJSDeps=!1}function X(e,t,n){return Q("__requireLazy____requireLazy__x__"+u++,e,ef()(t,"requireLazy",{propagationType:0}),d|g,n,1)}function Z(e){return"__mod__"+(null!=e?e+"__":"")+u++}function ee(e){var t=e.dependencies;if(!t)throw x("Called _replaceCycleLinkWithSCCDeps on an undefined module");l++,function e(t,n,r){if(r.tarjanGeneration!=l&&(r.tarjanGeneration=l,r.tarjanLow=r.tarjanIndex=s++,r.tarjanOnStack=!0,n.push(r)),null!=r.dependencies)for(var o=r.depPosition;o<r.dependencies.length;o++){var i=r.dependencies[o];i.tarjanGeneration!=l?(e(t,n,i),r.tarjanLow=Math.min(r.tarjanLow,i.tarjanLow)):i.tarjanOnStack&&(r.tarjanLow=Math.min(r.tarjanLow,i.tarjanIndex))}if(r.tarjanLow==r.tarjanIndex){i=[];do if((o=n.pop()).tarjanOnStack=!1,i.push(o),r==n[0]&&o!=r&&null!=o.dependencies)for(var a=o.depPosition;a<o.dependencies.length;a++){var u=o.dependencies[a];en(u)||-1!=t.indexOf(u)||-1!=n.indexOf(u)||-1!=i.indexOf(u)||t.push(u)}while(o!=r)}}(t,[],e),e.depPosition++,eo(e)}function et(e,t){for(var n=t;n.dependencies&&n.depPosition!=n.dependencies.length;)if((n=n.dependencies[n.depPosition])==e){ee(e);return}e.nextDepWaitingNext=t.nextDepWaitingHead,t.nextDepWaitingHead=e}function en(e){return null!=e.dependencies&&e.depPosition>=e.dependencies.length}function er(e){e.depPosition++,eo(e)}function eo(e){for(;null!=e.dependencies&&e.depPosition<e.dependencies.length;){var t,n=e.dependencies[e.depPosition];if(!en(n)&&e!=n){et(e,n);return}e.depPosition++}(t=e).special&d&&o.push(e),null!==e.nextDepWaitingHead&&function e(t){var n=t.nextDepWaitingHead;for(t.nextDepWaitingHead=null;null!=n;){var r=n;r.nonJSDeps&&G(t),n=r.nextDepWaitingNext,r.nextDepWaitingNext=null,i[r.id]&&er(r)}}(e)}function ei(e,t){i[e]=new Y(e,0,t),a[e]={id:e,dependencies:[],category:0,factoryLengthAccessTime:null,factoryTime:null,factoryStart:null,factoryEnd:null,factoryRun:!1}}function ea(e,t){throw ReferenceError("requireDynamic is not defined")}function eu(e,t){el.call(null,e,function(e){t(e)},function(){Q("__requireWeak__"+e+"__"+u++,["__isRequired__"+e],ef()(function(){return t(M(i[e]))},"requireWeak"),d,null,1)})}function el(e,t,n){if((e=i[e])&&e.factoryFinished){if("function"==typeof t)return t(M(e))}else if("function"==typeof n)return n()}function es(e,t,n){var r=i[e];if(r&&r.nonJSDeps&&en(r)){if("function"==typeof t)return t(F.call(null,e))}else if("function"==typeof n)return n()}function ec(e){return e}function ef(){var t=e.TimeSlice&&e.TimeSlice.guard?e.TimeSlice.guard:ec;return function(){return t.apply(void 0,arguments)}}function ed(e,t){return!0}}(void 0!==this?this:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}),function(e){var t=e.performance;t&&t.setResourceTimingBufferSize&&(t.setResourceTimingBufferSize(1e5),t.onresourcetimingbufferfull=function(){e.__isresourcetimingbufferfull=!0},t.setResourceTimingBufferSize=function(){})}("object"==typeof this?this:"object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:{}),__d("Env",[],function(e,t,n,r,o,i){t={ajaxpipe_token:null,compat_iframe_token:null,iframeKey:"",iframeTarget:"",iframeToken:"",isCQuick:!1,jssp_header_sent:!1,jssp_targeting_enabled:!1,loadHyperion:!1,start:Date.now(),nocatch:!1,useTrustedTypes:!1,isTrustedTypesReportOnly:!1,enableDefaultTrustedTypesPolicy:!1,ig_server_override:"",barcelona_server_override:"",ig_mqtt_wss_endpoint:"",ig_mqtt_polling_endpoint:""},e.Env&&Object.assign(t,e.Env),e.Env=t,n=t,i.default=n},66),__d("fb-error-lite",[],function(e,t,n,r,o,i){var a={PREVIOUS_FILE:1,PREVIOUS_FRAME:2,PREVIOUS_DIR:3,FORCED_KEY:4};function e(e){var t=Error(e);if(void 0===t.stack)try{throw t}catch(n){}t.messageFormat=e;for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.messageParams=o.map(function(e){return String(e)}),t.taalOpcodes=[a.PREVIOUS_FRAME],t}t={err:e,TAALOpcode:a},i.default=t},66),__d("sprintf",[],function(e,t,n,r,o,i){function e(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0;return e.replace(/%s/g,function(){return String(n[o++])})}i.default=e},66),__d("invariant",["Env","fb-error-lite","sprintf"],function(e,t,n,r,o,i,a){var u;function e(e,t){if(!e){for(var r=t,o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];if("number"==typeof r){var l,s,c,f,d,p=(l=r,s=i,c="Minified invariant #"+l+"; %s",s.length>0&&(c+=" Params: "+s.map(function(e){return"%s"}).join(", ")),{message:c,decoderLink:l=!0===(u||(u=n("Env"))).show_invariant_decoder?"visit "+(f=l,d=s,f="https://www.internalfb.com/intern/invariant/"+f+"/",d.length>0&&(f+="?"+d.map(function(e,t){return"args["+t+"]="+encodeURIComponent(String(e))}).join("&")),f)+" to see the full message.":""}),h=p.message,m=p.decoderLink;r=h,i.unshift(m)}else if(void 0===r){r="Invariant: ";for(var g=0;g<i.length;g++)r+="%s,"}var v=r,y=Error(v);throw y.name="Invariant Violation",y.messageFormat=r,y.messageParams=i.map(function(e){return String(e)}),y.taalOpcodes=[n("fb-error-lite").TAALOpcode.PREVIOUS_FRAME],y.stack,y}}a.default=e},98),__d("ArbiterToken",["invariant"],function(e,t,n,r,o,i,a,u){e=function(){function e(e,t){this.unsubscribe=function(){for(var e=0;e<this.$2.length;e++)this.$2[e].remove();this.$2.length=0},this.$1=e,this.$2=t}return e.prototype.isForArbiterInstance=function(e){return this.$1||u(0,2506),this.$1===e},e}(),a.default=e},98),__d("performance",[],function(e,t,n,r,o,i){n=t=e.performance||e.msPerformance||e.webkitPerformance||{},i.default=n},66),__d("performanceNow",["performance"],function(e,t,n,r,o,i,a){var u;if((u||(u=n("performance"))).now)t=function(){return(u||(u=n("performance"))).now()};else{r=e._cstart,o=Date.now();var l="number"==typeof r&&r<o?r:o,s=0;t=function(){var e=Date.now(),t=e-l;return t<s&&(l-=s-t,t=e-l),s=t,t}}i=t,a.default=i},98),__d("performanceNowSinceAppStart",["performanceNow"],function(e,t,n,r,o,i,a){var u;a.default=u||n("performanceNow")},98),__d("removeFromArray",[],function(e,t,n,r,o,i){function e(e,t){-1!==(t=e.indexOf(t))&&e.splice(t,1)}i.default=e},66),__d("fb-error",["performanceNowSinceAppStart","removeFromArray"],function(e,t,n,r,o,i){var a={PREVIOUS_FILE:1,PREVIOUS_FRAME:2,PREVIOUS_DIR:3,FORCED_KEY:4};function u(e){var t=Error(e);if(void 0===t.stack)try{throw t}catch(n){}t.messageFormat=e;for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.messageParams=o.map(function(e){return String(e)}),t.taalOpcodes=[a.PREVIOUS_FRAME],t}var l=!1,s={errorListener:function(t){var n=e.console,r=n[t.type]?t.type:"error";"fatal"!==t.type&&("error"!==r||l)||(r=t.message,n.error("ErrorUtils caught an error:\n\n"+r+"\n\nSubsequent non-fatal errors won't be logged; see https://fburl.com/debugjs."),l=!0)}},c={access_token:null},f=new Map,d=0,p={shouldLog:function(e){return function e(n){!function e(){var n=t("performanceNowSinceAppStart")();if(n>d+6e4){for(var r=n-6e5,o=f,i=Array.isArray(o),a=0,o=i?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(i){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var u,l=u[0];(u=u[1]).lastAccessed<r&&f.delete(l)}d=n}}();var r=t("performanceNowSinceAppStart")(),o=f.get(n);if(null==o)return f.set(n,{dropped:0,logged:[r],lastAccessed:r}),1;n=o.dropped;var i=o.logged;for(o.lastAccessed=r;i[0]<r-6e4;)i.shift();return i.length<6?(o.dropped=0,i.push(r),n+1):(o.dropped++,null)}(e.hash)}},h="RE_EXN_ID";function m(e){var t=null;return(null==e||"object"!=typeof e?t=u("Non-object thrown: %s",String(e)):Object.prototype.hasOwnProperty.call(e,h)?t=u("Rescript exception thrown: %s",JSON.stringify(e)):"function"==typeof(null==e?void 0:e.then)?t=u("Promise thrown: %s",JSON.stringify(e)):"string"!=typeof e.message?t=u("Non-error thrown: %s, keys: %s",String(e),JSON.stringify(Object.keys(e).sort())):null!=e.messageFormat&&"string"!=typeof e.messageFormat?t=u("Error with non-string messageFormat thrown: %s, %s, keys: %s",String(e.message),String(e),JSON.stringify(Object.keys(e).sort())):Object.isExtensible&&!Object.isExtensible(e)&&(t=u("Non-extensible thrown: %s",String(e.message))),null!=t)?(t.taalOpcodes=t.taalOpcodes||[],t.taalOpcodes.push(a.PREVIOUS_FRAME),t):e}var g,v="undefined"==typeof window?"<self.onerror>":"<window.onerror>";function y(e){var t=null!=e.error?m(e.error):u(e.message||"");null==t.fileName&&null!=e.filename&&(t.fileName=e.filename),null==t.line&&null!=e.lineno&&(t.line=e.lineno),null==t.column&&null!=e.colno&&(t.column=e.colno),t.guardList=[v],t.loggingSource="ONERROR",null===(e=g)||void 0===e||e.reportError(t)}var b={setup:function(t){"function"==typeof e.addEventListener&&null==g&&(g=t,e.addEventListener("error",y))}},S=[],$={pushGuard:function(e){S.unshift(e)},popGuard:function(){S.shift()},inGuard:function(){return 0!==S.length},cloneGuardList:function(){return S.map(function(e){return e.name})},findDeferredSource:function(){for(var e=0;e<S.length;e++){var t=S[e];if(null!=t.deferredSource)return t.deferredSource}}},E=[],_=function(){function e(){this.metadata=[].concat(E)}var t=e.prototype;return t.addEntries=function(){var e;return(e=this.metadata).push.apply(e,arguments),this},t.addEntry=function(e,t,n){return this.metadata.push([e,t,n]),this},t.isEmpty=function(){return 0===this.metadata.length},t.clearEntries=function(){this.metadata=[]},t.format=function(){var e=[];return this.metadata.forEach(function(t){t&&t.length&&(t=t.map(function(e){return null!=e?String(e).replace(/:/g,"_"):""}).join(":"),e.push(t))}),e},t.getAll=function(){return this.metadata},e.addGlobalMetadata=function(e,t,n){E.push([e,t,n])},e.getGlobalMetadata=function(){return E},e.unsetGlobalMetadata=function(e,t){E=E.filter(function(n){return!(Array.isArray(n)&&n[0]===e&&n[1]===t)})},e}(),C={debug:1,info:2,warn:3,error:4,fatal:5};function n(e,t){if(!Object.isFrozen(e)){t.type&&(!e.type||C[e.type]>C[t.type])&&(e.type=t.type);var n,r,o=t.metadata;null!=o&&(n=null!==(n=e.metadata)&&void 0!==n?n:new _,null!=o&&n.addEntries.apply(n,o.getAll()),e.metadata=n),null!=t.project&&(e.project=t.project),null!=t.errorName&&(e.errorName=t.errorName),null!=t.componentStack&&(e.componentStack=t.componentStack),null!=t.deferredSource&&(e.deferredSource=t.deferredSource),null!=t.blameModule&&(e.blameModule=t.blameModule),null!=t.loggingSource&&(e.loggingSource=t.loggingSource),n=null!==(o=e.messageFormat)&&void 0!==o?o:e.message,o=null!==(o=e.messageParams)&&void 0!==o?o:[],n!==t.messageFormat&&null!=t.messageFormat&&(n+=" [Caught in: "+t.messageFormat+"]",o.push.apply(o,null!==(r=t.messageParams)&&void 0!==r?r:[])),e.messageFormat=n,e.messageParams=o,r=t.forcedKey,n=e.forcedKey,o=null!=r&&null!=n?r+"_"+n:null!=r?r:n,e.forcedKey=o}}function r(e){var t,n,r,o;return n=null!==(t=e.messageFormat)&&void 0!==t?t:e.message,r=e.messageParams||[],o=0,n=(n=String(n)).replace(/%s/g,function(){return o<r.length?r[o++]:"NOPARAM"}),o<r.length&&(n+=" PARAMS"+JSON.stringify(r.slice(o))),n}function i(e){return(null!=e?e:[]).map(function(e){return String(e)})}var w={aggregateError:n,toReadableMessage:r,toStringParams:i},R=[];function T(e){R.push(e),R.length>5&&R.shift()}function I(e){var t=e.getAllResponseHeaders();null!=t&&t.indexOf("X-FB-Debug")>=0&&(t=e.getResponseHeader("X-FB-Debug"))&&T(t)}function k(){return R}var P={add:T,addFromXHR:I,getAll:k};function A(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++){var i=n[o];if(null!=i)for(var a=i.length,u=0;u<a;u++)e=(e<<5)-e+i.charCodeAt(u)}for(var l="",s=0;s<6;s++)l="abcdefghijklmnopqrstuvwxyz012345".charAt(31&e)+l,e>>=5;return l}var D=[/\(([^\s\)\()]+):(\d+):(\d+)\)$/,/@([^\s\)\()]+):(\d+):(\d+)$/,/^([^\s\)\()]+):(\d+):(\d+)$/,/^at ([^\s\)\()]+):(\d+):(\d+)$/],O=/^\w+:\s.*?\n/g;function L(e){if((e=e.trim()).includes("charset=utf-8;base64,"))t="<inlined-file>";else{for(var t,n,r,o,i,a=0;a<D.length;a++){var u=D[a];if(null!=(i=e.match(u)))break}null!=i&&4===i.length?(n=i[1],r=parseInt(i[2],10),o=parseInt(i[3],10),t=e.substring(0,e.length-i[0].length)):t=e,t=t.replace(/^at /,"").trim()}return(u={identifier:t,script:n,line:r,column:o}).text=N(u),u}function N(e){var t=e.identifier,n=e.script,r=e.line;return e=e.column,t="    at "+(null!=t?t:"<unknown>"),null!=n&&null!=r&&null!=e&&(t+=" ("+n+":"+r+":"+e+")"),t}null!=Error.stackTraceLimit&&Error.stackTraceLimit<80&&(Error.stackTraceLimit=80);var x={formatStackFrame:N,normalizeError:function n(r){var o,i,u,l,s,c,f,d,p=null==(i=o=function e(t){var n=t.name,r=t.message;if(null==(t=t.stack))return null;if(null!=n&&null!=r&&""!==r){var o=n+": "+r+"\n";if(t.startsWith(o))return t.substr(o.length);if(t===n+": "+r)return null}return null!=n&&(o=n+"\n",t.startsWith(o))?t.substr(o.length):null!=r&&""!==r&&(n=": "+r+"\n",o=t.indexOf(n),r=t.substring(0,o),/^\w+$/.test(r))?t.substring(o+n.length):t.replace(O,"")}(o=r))||""===i?[]:i.split(/\n\n/)[0].split("\n").map(L);u=null!==(u=r.taalOpcodes)&&void 0!==u?u:[];var h=r.framesToPop;if(null!=h)for(h=Math.min(h,p.length);h-- >0;)u.unshift(a.PREVIOUS_FRAME);h=null!==(h=r.messageFormat)&&void 0!==h?h:r.message,l=(null!==(l=r.messageParams)&&void 0!==l?l:[]).map(function(e){return String(e)});var m=null==(y=r.componentStack)||""===y?null:((y=y.split("\n")).splice(0,1),y.map(function(e){return e.trim()})),g=null==m?null:m.map(L),v=r.metadata?r.metadata.format():new _().format();0===v.length&&(v=void 0);var y,b,S=p.map(function(e){return e.text}).join("\n");s=null!==(s=r.errorName)&&void 0!==s?s:r.name;var $=null!=(b=r).type?b.type:"GUARDED"==b.loggingSource||"ERROR_BOUNDARY"==b.loggingSource||"SyntaxError"==b.name?"fatal":"ONERROR"==b.loggingSource&&b.message.indexOf("ResizeObserver loop")>=0?"warn":null!=b.stack&&b.stack.indexOf("chrome-extension://")>=0?"warn":"error",E=r.loggingSource,C=r.project;c=null!==(c=r.lineNumber)&&void 0!==c?c:r.line,f=null!==(f=r.columnNumber)&&void 0!==f?f:r.column,d=null!==(d=r.fileName)&&void 0!==d?d:r.sourceURL;var R=p.length>0;for(f in R&&null==c&&(c=p[0].line),R&&null==f&&(f=p[0].column),R&&null==d&&(d=p[0].script),g={blameModule:r.blameModule,column:null==f?null:String(f),clientTime:Math.floor(Date.now()/1e3),componentStackFrames:g,deferredSource:null!=r.deferredSource?n(r.deferredSource):null,extra:null!==(R=r.extra)&&void 0!==R?R:{},fbtrace_id:r.fbtrace_id,guardList:null!==(f=r.guardList)&&void 0!==f?f:[],hash:A(s,S,$,C,E),isNormalizedError:!0,line:null==c?null:String(c),loggingSource:E,message:w.toReadableMessage(r),messageFormat:h,messageParams:l,metadata:v,name:s,page_time:Math.floor(t("performanceNowSinceAppStart")()),project:C,reactComponentStack:m,script:d,serverHash:r.serverHash,stack:S,stackFrames:p,type:$,xFBDebug:P.getAll()},null!=r.forcedKey&&(g.forcedKey=r.forcedKey),u.length>0&&(g.taalOpcodes=u),(R=e.location)&&(g.windowLocationURL=R.href),g)null==g[f]&&delete g[f];return g},ifNormalizedError:function e(t){return null!=t&&"object"==typeof t&&!0===t.isNormalizedError?t:null}},U=[],M=[],F=!1,B={history:M,addListener:function(e,t){void 0===t&&(t=!1),U.push(e),t||M.forEach(function(t){return e(t,null!==(t=t.loggingSource)&&void 0!==t?t:"DEPRECATED")})},unshiftListener:function(e){U.unshift(e)},removeListener:function(e){t("removeFromArray")(U,e)},reportError:function(e){e=x.normalizeError(e),B.reportNormalizedError(e)},reportNormalizedError:function(e){if(F)return!1;var t,n=$.cloneGuardList();for(e.componentStackFrames&&n.unshift("<global.react>"),n.length>0&&(e.guardList=n),null==e.deferredSource&&null!=(n=$.findDeferredSource())&&(e.deferredSource=x.normalizeError(n)),M.length>50&&M.splice(25,1),M.push(e),F=!0,n=0;n<U.length;n++)try{U[n](e,null!==(t=e.loggingSource)&&void 0!==t?t:"DEPRECATED")}catch(r){}return F=!1,!0}};B.addListener(s.errorListener);var j="<anonymous guard>",H=!1,q={applyWithGuard:function(e,t,n,r){if($.pushGuard({name:((null==r?void 0:r.name)!=null?r.name:null)||(e.name?"func_name:"+e.name:null)||j,deferredSource:null==r?void 0:r.deferredSource}),H)try{return e.apply(t,n)}finally{$.popGuard()}try{return Function.prototype.apply.call(e,t,n)}catch(o){try{var i=(t=null!=r?r:babelHelpers.extends({},null)).deferredSource,a=t.onError;t=t.onNormalizedError;var u=m(o);i={deferredSource:i,loggingSource:"GUARDED",project:null!==(i=null==r?void 0:r.project)&&void 0!==i?i:"ErrorGuard",type:null==r?void 0:r.errorType},w.aggregateError(u,i),r=x.normalizeError(u),null==u&&e&&(r.extra[e.toString().substring(0,100)]="function",null!=n&&n.length&&(r.extra[Array.from(n).toString().substring(0,100)]="args")),r.guardList=$.cloneGuardList(),a&&a(u),t&&t(r),B.reportNormalizedError(r)}catch(l){}}finally{$.popGuard()}},guard:function(e,t){function n(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return q.applyWithGuard(e,this,r,t)}return e.__SMmeta&&(n.__SMmeta=e.__SMmeta),n},inGuard:function(){return $.inGuard()},skipGuardGlobal:function(e){H=e}},z=[],W=0;function G(e){return String(e)}function J(e){return null==e?null:String(e)}function V(e){return(null!=e?e:[]).map(function(e){return{column:J(e.column),identifier:e.identifier,line:J(e.line),script:e.script}})}function Q(e){return(e=String(e)).length>1024?e.substring(0,1021)+"...":e}function K(e,t){i={appId:J(t.appId),cavalry_lid:t.cavalry_lid,access_token:c.access_token,ancestor_hash:e.hash,bundle_variant:null!==(i=t.bundle_variant)&&void 0!==i?i:null,clientTime:G(e.clientTime),column:e.column,componentStackFrames:V(e.componentStackFrames),events:e.events,extra:(n=e.extra,r=t.extra,o={},r&&r.forEach(function(e){o[e]=!0}),Object.keys(n).forEach(function(e){n[e]?o[e]=!0:o[e]&&delete o[e]}),Object.keys(o)),forcedKey:e.forcedKey,frontend_env:null!==(i=t.frontend_env)&&void 0!==i?i:null,guardList:e.guardList,line:e.line,loggingFramework:t.loggingFramework,messageFormat:Q(e.messageFormat),messageParams:e.messageParams.map(Q),name:e.name,sample_weight:J(t.sample_weight),script:e.script,site_category:t.site_category,stackFrames:V(e.stackFrames),type:e.type,page_time:J(e.page_time),project:e.project,push_phase:t.push_phase,report_source:t.report_source,report_source_ref:t.report_source_ref,rollout_hash:null!==(i=t.rollout_hash)&&void 0!==i?i:null,script_path:t.script_path,server_revision:J(t.server_revision),spin:J(t.spin),svn_rev:String(t.client_revision),additional_client_revisions:Array.from(null!==(i=t.additional_client_revisions)&&void 0!==i?i:[]).map(G),taalOpcodes:null==e.taalOpcodes?null:e.taalOpcodes.map(function(e){return e}),web_session_id:t.web_session_id,version:"3",xFBDebug:e.xFBDebug},t=e.blameModule;var n,r,o,i,a=e.deferredSource;return null!=t&&(i.blameModule=String(t)),a&&a.stackFrames&&(i.deferredSource={stackFrames:V(a.stackFrames)}),e.metadata&&(i.metadata=e.metadata),e.loadingUrls&&(i.loadingUrls=e.loadingUrls),null!=e.serverHash&&(i.serverHash=e.serverHash),null!=e.windowLocationURL&&(i.windowLocationURL=e.windowLocationURL),null!=e.loggingSource&&(i.loggingSource=e.loggingSource),i}var Y={createErrorPayload:K,postError:function e(t,n,r){if(W++,0===n.sample_weight)return!1;var o,i=p.shouldLog(t);return!(null==i||null!==(o=n.projectBlocklist)&&void 0!==o&&o.includes(t.project))&&(Object.assign(o=K(t,n),{ancestors:z.slice(),clientWeight:G(i),page_position:G(W)}),z.length<15&&z.push(t.hash),r(o),!0)}},X=null,Z=!1;function ee(e){if(null!=X){var t,n=X,r=e.reason;if(null!=r&&"object"==typeof r&&(null==r.name||""===r.name||null==r.message||""===r.message))try{(t=u("UnhandledRejection: %s",JSON.stringify(r))).loggingSource="ONUNHANDLEDREJECTION"}catch(o){(t=u("UnhandledRejection: (circular) %s",Object.keys(r).join(","))).loggingSource="ONUNHANDLEDREJECTION"}else(t=m(r)).loggingSource||(t.loggingSource="ONUNHANDLEDREJECTION");try{r=e.promise,t.stack=String(t.stack||"")+(null!=r&&"string"==typeof r.settledStack?"\n(<promise_settled_stack_below>)\n"+r.settledStack:"")+(null!=r&&"string"==typeof r.createdStack?"\n(<promise_created_stack_below>)\n"+r.createdStack:"")}catch(i){}n.reportError(t),e.preventDefault()}}var et={onunhandledrejection:ee,setup:function t(n){X=n,"function"!=typeof e.addEventListener||Z||(Z=!0,e.addEventListener("unhandledrejection",ee))}};n={preSetup:function(e){(null==e||!0!==e.ignoreOnError)&&b.setup(B),(null==e||!0!==e.ignoreOnUnahndledRejection)&&et.setup(B)},setup:function(e,t){B.addListener(function(n){Y.postError(n,e,t)})}};var en=function(){function e(e){this.project=e,this.events=[],this.metadata=new _,this.taalOpcodes=[]}var t=e.prototype;return t.$1=function(t,n){for(var r,o,i=String(n),u=this.events,l=this.project,s=this.metadata,c=this.blameModule,f=this.forcedKey,d=this.error,p=arguments.length,h=Array(p>2?p-2:0),m=2;m<p;m++)h[m-2]=arguments[m];if(this.normalizedError){var g={message:this.normalizedError.messageFormat+" [Caught in: "+i+"]",params:[].concat(this.normalizedError.messageParams,h),forcedKey:f};o=babelHelpers.extends({},this.normalizedError,{message:g.message,messageFormat:g.message,messageParams:w.toStringParams(g.params),project:l,type:t,loggingSource:"FBLOGGER"})}else if(d)this.taalOpcodes.length>0&&new e("fblogger").blameToPreviousFrame().blameToPreviousFrame().warn("Blame helpers do not work with catching"),w.aggregateError(d,{messageFormat:i,messageParams:w.toStringParams(h),errorName:d.name,forcedKey:f,project:l,type:t,loggingSource:"FBLOGGER"}),o=x.normalizeError(d);else{if(void 0===(d=Error(i)).stack)try{throw d}catch(v){}d.messageFormat=i,d.messageParams=w.toStringParams(h),d.blameModule=c,d.forcedKey=f,d.project=l,d.type=t,d.loggingSource="FBLOGGER",d.taalOpcodes=[a.PREVIOUS_FRAME,a.PREVIOUS_FRAME].concat(this.taalOpcodes),(o=x.normalizeError(d)).name="FBLogger"}if(!s.isEmpty()){if(null==o.metadata)o.metadata=s.format();else{var y=o.metadata.concat(s.format()),b=new Set(y);o.metadata=Array.from(b.values())}}return u.length>0&&(null!=o.events?(r=o.events).push.apply(r,u):o.events=u),B.reportNormalizedError(o),d},t.fatal=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["fatal",e].concat(n))},t.mustfix=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["error",e].concat(n))},t.warn=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["warn",e].concat(n))},t.info=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["info",e].concat(n))},t.debug=function(e){},t.mustfixThrow=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.$1.apply(this,["error",e].concat(n));o||((o=u("mustfixThrow does not support catchingNormalizedError")).taalOpcodes=o.taalOpcodes||[],o.taalOpcodes.push(a.PREVIOUS_FRAME));try{o.message=w.toReadableMessage(o)}catch(i){}throw o},t.catching=function(t){return t instanceof Error?this.error=t:new e("fblogger").blameToPreviousFrame().warn("Catching non-Error object is not supported"),this},t.catchingNormalizedError=function(e){return this.normalizedError=e,this},t.event=function(e){return this.events.push(e),this},t.blameToModule=function(e){return this.blameModule=e,this},t.blameToPreviousFile=function(){return this.taalOpcodes.push(a.PREVIOUS_FILE),this},t.blameToPreviousFrame=function(){return this.taalOpcodes.push(a.PREVIOUS_FRAME),this},t.blameToPreviousDirectory=function(){return this.taalOpcodes.push(a.PREVIOUS_DIR),this},t.addToCategoryKey=function(e){return this.forcedKey=e,this},t.addMetadata=function(e,t,n){return this.metadata.addEntry(e,t,n),this},e}();(r=function(e,t){var n=new en(e);return null!=t?n.event(e+"."+t):n}).addGlobalMetadata=function(e,t,n){_.addGlobalMetadata(e,t,n)},I={err:u,ErrorBrowserConsole:s,ErrorDynamicData:c,ErrorFilter:p,ErrorGlobalEventHandler:b,ErrorGuard:q,ErrorGuardState:$,ErrorMetadata:_,ErrorNormalizeUtils:x,ErrorPoster:Y,ErrorPubSub:B,ErrorSerializer:w,ErrorSetup:n,ErrorXFBDebug:P,FBLogger:r,getErrorSafe:m,getSimpleHash:A,TAAL:i={blameToPreviousFile:function(e){var t;return e.taalOpcodes=null!==(t=e.taalOpcodes)&&void 0!==t?t:[],e.taalOpcodes.push(a.PREVIOUS_FILE),e},blameToPreviousFrame:function(e){var t;return e.taalOpcodes=null!==(t=e.taalOpcodes)&&void 0!==t?t:[],e.taalOpcodes.push(a.PREVIOUS_FRAME),e},blameToPreviousDirectory:function(e){var t;return e.taalOpcodes=null!==(t=e.taalOpcodes)&&void 0!==t?t:[],e.taalOpcodes.push(a.PREVIOUS_DIR),e}},TAALOpcode:a,renameFunction:function e(t,n){if(null!=t&&null!=n)try{Object.defineProperty(t,"name",{value:"<CUSTOM_NAME: "+n+">"})}catch(r){}return t}},o.exports=I},null),__d("ErrorGuard",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").ErrorGuard},98),__d("CallbackDependencyManager",["ErrorGuard"],function(e,t,n,r,o,i){var a;e=function(){function e(){this.$1=new Map,this.$2=new Map,this.$3=1,this.$4=new Map}var n=e.prototype;return n.$5=function(e,t){for(var n=0,r=new Set,o=0,i=t.length;o<i;o++)r.add(t[o]);for(o=Array.isArray(t=r.keys()),i=0,t=o?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(o){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}if(!this.$4.get(r)){n++;var a=this.$1.get(r);void 0===a&&(a=new Map,this.$1.set(r,a)),a.set(e,(a.get(e)||0)+1)}}return n},n.$6=function(e){if(e=this.$1.get(e))for(var n=e.entries(),r=Array.isArray(n),o=0,n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var i,u=i[0];i=i[1]-1,e.set(u,i),i<=0&&e.delete(u),void 0!==(i=this.$2.get(u))&&(i.$7--,i.$7<=0&&(i=i.$8,this.$2.delete(u),(a||(a=t("ErrorGuard"))).applyWithGuard(i,null,[])))}},n.addDependenciesToExistingCallback=function(e,t){var n=this.$2.get(e);return n?(t=this.$5(e,t),n.$7+=t,e):null},n.isPersistentDependencySatisfied=function(e){return!!this.$4.get(e)},n.satisfyPersistentDependency=function(e){this.$4.set(e,1),this.$6(e)},n.satisfyNonPersistentDependency=function(e){var t=1===this.$4.get(e);t||this.$4.set(e,1),this.$6(e),t||this.$4.delete(e)},n.registerCallback=function(e,n){var r=this.$3;return(this.$3++,0===(n=this.$5(r,n)))?((a||(a=t("ErrorGuard"))).applyWithGuard(e,null,[]),null):(this.$2.set(r,{$8:e,$7:n}),r)},e}(),o.exports=e},null),__d("EventSubscription",[],function(e,t,n,r,o,i){e=function(e){var t=this;this.remove=function(){t.subscriber&&(t.subscriber.removeSubscription(t),t.subscriber=null)},this.subscriber=e},i.default=e},66),__d("EmitterSubscription",["EventSubscription"],function(e,t,n,r,o,i,a){e=function(e){function t(t,n,r){return(t=e.call(this,t)||this).listener=n,t.context=r,t}return babelHelpers.inheritsLoose(t,e),t}(n("EventSubscription")),a.default=e},98),__d("EventSubscriptionVendor",["invariant"],function(e,t,n,r,o,i,a){e=function(){function e(){this.$1={}}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber===this||a(0,2828),this.$1[e]||(this.$1[e]=[]);var n=this.$1[e].length;return this.$1[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this.$1={}:delete this.$1[e]},t.removeSubscription=function(e){var t=e.eventType;e=e.key,(t=this.$1[t])&&delete t[e]},t.getSubscriptionsForType=function(e){return this.$1[e]},e}(),o.exports=e},null),__d("emptyFunction",[],function(e,t,n,r,o,i){function e(e){return function(){return e}}(t=function(){}).thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},n=t,i.default=n},66),__d("FBLogger",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").FBLogger},98),__d("unrecoverableViolation",["FBLogger"],function(e,t,n,r,o,i,a){function e(e,t,r,o){for(r=(r=void 0===r?{}:r).error,t=n("FBLogger")(t),t=r?t.catching(r):t.blameToPreviousFrame(),r=0;r<(null!=(i=null==o?void 0:o.blameToPreviousFrame)?i:0);++r){var i;t=t.blameToPreviousFrame()}return null!=(i=null==o?void 0:o.categoryKey)&&(t=t.addToCategoryKey(i)),t.mustfixThrow(e)}a.default=e},98),__d("BaseEventEmitter",["EmitterSubscription","ErrorGuard","EventSubscriptionVendor","emptyFunction","unrecoverableViolation"],function(e,t,n,r,o,i){var a;e=function(){function e(){this.$2=new(t("EventSubscriptionVendor")),this.$1=null}var n=e.prototype;return n.addListener=function(e,n,r){return this.$2.addSubscription(e,new(t("EmitterSubscription"))(this.$2,n,r))},n.removeListener=function(e){this.$2.removeSubscription(e)},n.once=function(e,t,n){var r=this;return this.addListener(e,function(){r.removeCurrentListener(),t.apply(n,arguments)})},n.removeAllListeners=function(e){this.$2.removeAllSubscriptions(e)},n.removeCurrentListener=function(){if(!this.$1)throw t("unrecoverableViolation")("Not in an emitting cycle; there is no current subscription","emitter");this.$2.removeSubscription(this.$1)},n.listeners=function(e){return(e=this.$2.getSubscriptionsForType(e))?e.filter(t("emptyFunction").thatReturnsTrue).map(function(e){return e.listener}):[]},n.emit=function(e){var t=this.$2.getSubscriptionsForType(e);if(t){for(var n,r=Object.keys(t),o=0;o<r.length;o++){var i=t[r[o]];if(i){if(this.$1=i,null==n){n=[i,e];for(var a=0,u=arguments.length<=1?0:arguments.length-1;a<u;a++)n[a+2]=a+1<1||arguments.length<=a+1?void 0:arguments[a+1]}else n[0]=i;this.__emitToSubscription.apply(this,n)}}this.$1=null}},n.__emitToSubscription=function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(a||(a=t("ErrorGuard"))).applyWithGuard(e.listener,e.context,o,{name:"EventEmitter "+n+" event"})},e}(),o.exports=e},null),__d("EventEmitter",["BaseEventEmitter"],function(e,t,n,r,o,i,a){e=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t}(n("BaseEventEmitter")),a.default=e},98),__d("EventEmitterWithHolding",[],function(e,t,n,r,o,i){e=function(){function e(e,t){this.$2=e,this.$3=t,this.$1=null,this.$5=[],this.$4=0}var t=e.prototype;return t.addListener=function(e,t,n){return this.$2.addListener(e,t,n)},t.once=function(e,t,n){return this.$2.once(e,t,n)},t.addRetroactiveListener=function(e,t,n){var r=this.$2.addListener(e,t,n),o=this.$5;return o.push(!1),this.$4++,this.$3.emitToListener(e,t,n),this.$4--,o[o.length-1]&&r.remove(),o.pop(),r},t.removeAllListeners=function(e){this.$2.removeAllListeners(e)},t.removeCurrentListener=function(){if(this.$4){var e=this.$5;e[e.length-1]=!0}else this.$2.removeCurrentListener()},t.listeners=function(e){return this.$2.listeners(e)},t.emit=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.$2).emit.apply(t,[e].concat(r))},t.emitAndHold=function(e){for(var t,n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];this.$1=(t=this.$3).holdEvent.apply(t,[e].concat(o)),(n=this.$2).emit.apply(n,[e].concat(o)),this.$1=null},t.releaseCurrentEvent=function(){null!=this.$1?this.$3.releaseEvent(this.$1):this.$4>0&&this.$3.releaseCurrentEvent()},t.releaseHeldEventType=function(e){this.$3.releaseEventType(e)},e}(),i.default=e},66),__d("EventHolder",["invariant"],function(e,t,n,r,o,i,a,u){e=function(){function e(){this.$1={},this.$2=[]}var t=e.prototype;return t.holdEvent=function(e){this.$1[e]=this.$1[e]||[];for(var t=this.$1[e],n={eventType:e,index:t.length},r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.push(o),n},t.emitToListener=function(e,t,n){var r=this,o=this.$1[e];o&&o.forEach(function(o,i){o&&(r.$2.push({eventType:e,index:i}),t.apply(n,o),r.$2.pop())})},t.releaseCurrentEvent=function(){this.$2.length||u(0,1764),this.releaseEvent(this.$2[this.$2.length-1])},t.releaseEvent=function(e){delete this.$1[e.eventType][e.index]},t.releaseEventType=function(e){this.$1[e]=[]},e}(),a.default=e},98),__d("Arbiter",["invariant","ArbiterToken","CallbackDependencyManager","ErrorGuard","EventEmitter","EventEmitterWithHolding","EventHolder"],function(e,t,n,r,o,i,a,u){function l(e){return Array.isArray(e)?e:[e]}function s(e){return e instanceof f||e===f?e:f}var c,f=function(){function e(){var e=new(n("EventEmitter"));this.$3=new d,this.$2=new(n("EventEmitterWithHolding"))(e,this.$3),this.$1=new(n("CallbackDependencyManager")),this.$4=[]}var t=e.prototype;return t.subscribe=function(e,t,r){var o=this;return(e=l(e)).forEach(function(e){e&&"string"==typeof e||u(0,1966,e)}),"function"==typeof t||u(0,1967,t),"new"===(r=r||"all")||"all"===r||u(0,1968,r),e=e.map(function(e){var n=function(n){return o.$5(t,e,n)};return(n.__SMmeta=t.__SMmeta,"new"===r)?o.$2.addListener(e,n):(o.$4.push({}),n=o.$2.addRetroactiveListener(e,n),o.$4.pop(),n)}),new(n("ArbiterToken"))(this,e)},t.$5=function(e,t,r){var o=this.$4[this.$4.length-1];!1!==o[t]&&(!1===(e=(c||(c=n("ErrorGuard"))).applyWithGuard(e,null,[t,r]))&&this.$2.releaseCurrentEvent(),o[t]=e)},t.unsubscribeCurrentSubscription=function(){this.$2.removeCurrentListener()},t.releaseCurrentPersistentEvent=function(){this.$2.releaseCurrentEvent()},t.subscribeOnce=function(e,t,n){var r=this;return e=this.subscribe(e,function(e,n){return r.unsubscribeCurrentSubscription(),t(e,n)},n)},t.unsubscribe=function(e){e.isForArbiterInstance(this)||u(0,1969),e.unsubscribe()},t.inform=function(e,t,n){var r=Array.isArray(e);e=l(e);var o="state"===(n=n||"event")||"persistent"===n;this.$4.push({});for(var i=0;i<e.length;i++){var a=e[i];a||u(0,1970,a),this.$3.setHoldingBehavior(a,n),this.$2.emitAndHold(a,t),this.$6(a,t,o)}return a=this.$4.pop(),r?a:a[e[0]]},t.query=function(e){var t=this.$3.getHoldingBehavior(e);return t&&"state"!==t&&u(0,1971,e),t=null,this.$3.emitToListener(e,function(e){t=e}),t},t.registerCallback=function(e,t){return"function"==typeof e?this.$1.registerCallback(e,t):this.$1.addDependenciesToExistingCallback(e,t)},t.$6=function(e,t,n){null!==t&&(n?this.$1.satisfyPersistentDependency(e):this.$1.satisfyNonPersistentDependency(e))},e.subscribe=function(t,n,r){return e.prototype.subscribe.apply(s(this),arguments)},e.unsubscribeCurrentSubscription=function(){return e.prototype.unsubscribeCurrentSubscription.apply(s(this))},e.releaseCurrentPersistentEvent=function(){return e.prototype.releaseCurrentPersistentEvent.apply(s(this))},e.subscribeOnce=function(t,n,r){return e.prototype.subscribeOnce.apply(s(this),arguments)},e.unsubscribe=function(t){return e.prototype.unsubscribe.apply(s(this),arguments)},e.inform=function(t,n,r){return e.prototype.inform.apply(s(this),arguments)},e.informSingle=function(t,n,r){return e.prototype.inform.apply(s(this),arguments)},e.query=function(t){return e.prototype.query.apply(s(this),arguments)},e.registerCallback=function(t,n){return e.prototype.registerCallback.apply(s(this),arguments)},e.$6=function(t,n,r){return e.prototype.$6.apply(s(this),arguments)},e.$5=function(t,n,r){return e.prototype.$5.apply(s(this),arguments)},e}(),d=function(e){function t(){var t;return(t=e.call(this)||this).$ArbiterEventHolder1={},t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setHoldingBehavior=function(e,t){this.$ArbiterEventHolder1[e]=t},n.getHoldingBehavior=function(e){return this.$ArbiterEventHolder1[e]},n.holdEvent=function(t){var n,r=this.$ArbiterEventHolder1[t];if("persistent"!==r&&this.$ArbiterEventHolder2(t),"event"!==r){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return(n=e.prototype.holdEvent).call.apply(n,[this,t].concat(i))}},n.$ArbiterEventHolder2=function(e){this.emitToListener(e,this.releaseCurrentEvent,this)},n.releaseEvent=function(t){t&&e.prototype.releaseEvent.call(this,t)},t}(n("EventHolder"));f.call(f),e=f,a.default=e},98),__d("objectValues",[],function(e,t,n,r,o,i){function e(e){return Object.values(e)}i.default=e},66),__d("BootloaderEvents",["Arbiter","objectValues"],function(e,t,n,r,o,i,a){var u="bootloader/bootload",l="bootloader/callback_timeout",s="bootloader/defer_timeout",c="hasteResponse/handle",f="bootloader/resource_in_longtail_bt_manifest",d=new(n("Arbiter")),p=new Set,h=new Set;function m(e,t){return"haste_response_ef:"+e+":"+(null!=(e=t)?e:"<unknown>")}function e(e){for(var t=new Map,e=n("objectValues")(e),r=Array.isArray(e),o=0,e=r?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=e.length)break;i=e[o++]}else{if((o=e.next()).done)break;i=o.value}for(var i=i,a=Array.isArray(i),u=0,i=a?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(a){if(u>=i.length)break;l=i[u++]}else{if((u=i.next()).done)break;l=u.value}var i,l,s=l[0];l=l[1],t.set(s,l)}}return t}function t(){return{blocking:new Map,nonblocking:new Map,default:new Map}}function r(e){p.add(e)}function o(e){p.delete(e),d.inform(u,e,"persistent")}function i(e,t){h.add(m(e,t))}a.flattenResourceMapSet=e,a.newResourceMapSet=t,a.notifyBootloadStart=r,a.notifyBootload=o,a.notifyHasteResponseEFStart=i,a.notifyHasteResponseEF=function e(t,n,r){d.inform(m(t,n),r,"persistent")},a.notifyDeferTimeout=function e(t){d.inform(s,t,"persistent")},a.onBootload=function e(t){return d.subscribe(u,function(e,n){return t(n)})},a.onDeferTimeout=function e(t){return d.subscribe(s,function(e,n){return t(n)})},a.getActiveBootloads=function e(){return new Set(p)},a.notifyHasteResponse=function e(t){d.inform(c,t,"persistent")},a.onHasteResponse=function e(t){return d.subscribe(c,function(e,n){if(e=m(n.source,n.sourceDetail),h.has(e)){d.subscribe(e,function(e,r){return t(babelHelpers.extends({},n,{efData:r}))});return}t(n)})},a.onResourceInLongTailBTManifest=function e(t){return d.subscribe(f,function(e,n){t(n)})},a.notifyResourceInLongTailBTManifest=function e(t,n){d.inform(f,{hashes:t,source:n},"persistent")},a.onBootloaderCallbackTimeout=function e(t){return d.subscribe(l,function(e,n){t(n)})},a.notifyBootloaderCallbackTimeout=function e(t){d.inform(l,t,"persistent")}},98),__d("performanceAbsoluteNow",["performance"],function(e,t,n,r,o,i,a){var u,l=function(){return Date.now()};function e(e){l=e}if((u||(u=n("performance"))).now&&(u||(u=n("performance"))).timing&&(u||(u=n("performance"))).timing.navigationStart){var s=(u||(u=n("performance"))).timing.navigationStart;t=function(){return(u||(u=n("performance"))).now()+s}}else t=function(){return l()};t.setFallback=e,r=t,a.default=r},98),__d("BootloaderEventsManager",["CallbackDependencyManager","performanceAbsoluteNow"],function(e,t,n,r,o,i){var a;e=function(){function e(){this.$1=new(t("CallbackDependencyManager")),this.$2=new Map}var n=e.prototype;return n.rsrcDone=function(e){return e},n.bootload=function(e){return"bl:"+e.join(",")},n.tierOne=function(e){return"t1:"+e},n.tierTwoStart=function(e){return"t2s:"+e},n.tierTwo=function(e){return"t2:"+e},n.tierThreeStart=function(e){return"t3s:"+e},n.tierThree=function(e){return"t3:"+e},n.tierOneLog=function(e){return"t1l:"+e},n.tierTwoLog=function(e){return"t2l:"+e},n.tierThreeLog=function(e){return"t3l:"+e},n.beDone=function(e){return"beDone:"+e},n.notify=function(e){this.$2.set(e,(a||(a=t("performanceAbsoluteNow")))()),this.$1.satisfyPersistentDependency(e)},n.getEventTime=function(e){return this.$2.get(e)},n.registerCallback=function(e,t){this.$1.registerCallback(e,t)},e}(),o.exports=e},null),__d("BootloaderRetryTracker",["ErrorGuard","performanceAbsoluteNow"],function(e,t,n,r,o,i,a){var u,l;t=function(){function t(e){this.$2=[],this.$3=new Map,this.$1=e,this.$4=this.$1.retries.length>0}var r=t.prototype;return r.getAllRetryAttempts_FOR_DEBUG_ONLY=function(){return this.$3},r.getNumRetriesForSource=function(e){return null!=(e=this.$3.get(e))?e:0},r.maybeScheduleRetry=function(t,r,o){var i=this,a=this.getNumRetriesForSource(t);if(!this.$5()||a>=this.$1.retries.length){o();return}this.$2.push((u||(u=n("performanceAbsoluteNow")))()),this.$3.set(t,a+1),e.setTimeout(function(){i.$5()?r():o()},this.$1.retries[a])},r.$5=function(){if(!this.$4)return!1;var e=this.$2.length;return e<this.$1.abortNum||((e=this.$2[e-1]-this.$2[e-this.$1.abortNum])<this.$1.abortTime&&((l||(l=n("ErrorGuard"))).applyWithGuard(this.$1.abortCallback,null,[]),this.$4=!1),this.$4)},t}(),a.default=t},98),__d("BitMap",[],function(e,t,n,r,o,i){function a(e){return e=e.toString(2),"0".repeat(e.length-1)+e}function u(e){e=(e+"00000").match(/[01]{6}/g);for(var t="",n=0;null!=e&&n<e.length;n++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[parseInt(e[n],2)];return t}e=function(){function e(){this.$1=[],this.$2=null}var t=e.prototype;return t.set=function(e){return null==this.$2||this.$1[e]||(this.$2=null),this.$1[e]=1,this},t.toString=function(){for(var e=[],t=0;t<this.$1.length;t++)e.push(this.$1[t]?1:0);return e.length?u(e.join("")):""},t.toCompressedString=function(){if(0===this.$1.length)return"";if(null!=this.$2)return this.$2;for(var e=[],t=1,n=this.$1[0]||0,r=n.toString(2),o=1;o<this.$1.length;o++){var i=this.$1[o]||0;i===n?t++:(e.push(a(t)),n=i,t=1)}return t&&e.push(a(t)),this.$2=u(r+e.join(""))},e}(),i.default=e},66),__d("CSRBitMap",["BitMap"],function(e,t,n,r,o,i,a){var u=new(n("BitMap"));function e(e){u.set(e)}function t(){return u.toCompressedString()}a.add=e,a.toCompressedString=t},98),__d("CSRIndexUtil",["invariant"],function(e,t,n,r,o,i,a,u){function e(e){return":"===e.substr(0,1)||u(0,21456,e),e.substr(1).split(",").map(function(e){return parseInt(e,10)})}t=0,a.UNKNOWN_RESOURCE_INDEX=t,a.parseCSRIndexes=e},98),__d("requireCond",[],function(e,t,n,r,o,i){function e(e,t,n){throw Error("Cannot use raw untransformed requireCond.")}t=e,i.default=t},66),__d("clearTimeout",["cr:7386"],function(e,t,n,r,o,i,a){a.default=t("cr:7386")},98),__d("ExecutionEnvironment",[],function(e,t,n,r,o,i){t=!!(void 0!==e&&e.document&&e.document.createElement),n="function"==typeof WorkerGlobalScope,r="function"==typeof SharedWorkerGlobalScope&&self instanceof SharedWorkerGlobalScope,e=o={canUseDOM:t,canUseEventListeners:t&&!!(e.addEventListener||e.attachEvent),canUseViewport:t&&!!window.screen,canUseWorkers:"undefined"!=typeof Worker,isInBrowser:t||n,isInSharedWorker:r,isInWorker:n},i.default=e},66),__d("err",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").err},98),__d("getSameOriginTransport",["ExecutionEnvironment","err","unrecoverableViolation"],function(e,t,n,r,o,i,a){var u;function t(){if(!(u||(u=n("ExecutionEnvironment"))).canUseDOM&&!(u||(u=n("ExecutionEnvironment"))).isInWorker)throw n("unrecoverableViolation")("getSameOriginTransport: Same origin transport unavailable in the server environment.","comet_infra",{},{blameToPreviousFrame:1});try{return new e.XMLHttpRequest}catch(t){throw n("err")("getSameOriginTransport: %s",t.message)}}a.default=t},98),__d("killswitch",["KSConfig"],function(e,t,n,r,o,i){function e(e){return t("KSConfig").killed.has(e)}o.exports=e},null),__d("setTimeout",["cr:7390"],function(e,t,n,r,o,i,a){a.default=t("cr:7390")},98),__d("NetworkHeartbeat",["clearTimeout","getSameOriginTransport","killswitch","setTimeout"],function(e,t,n,r,o,i,a){var u=100,l=null,s=0,c=null,f=n("killswitch")("DISABLE_HEARTBEAT_POLLING");function d(e,t){l=n("setTimeout")(function(){p(e,t,void 0,!0)},u),s++,u<6400&&(u=Math.min(u*Math.pow(2,s),6400)),t()}function p(e,t,r,o){var i,a;void 0===r&&(r=function(){return!0}),void 0===o&&(o=!1),f||(o||null==c&&r())&&(i=e,a=t,(c=n("getSameOriginTransport")()).open("GET","/nw/",!0),c.onload=function(){var e;c&&204===c.status&&(f=!0),e=i,c=null,u=100,s=0,n("clearTimeout")(l),e()},c.onerror=function(){d(i,a)},c.ontimeout=function(){d(i,a)},c.send())}function e(){return null!=c}a.maybeStartHeartbeat=p,a.isHeartbeatPending=e},98),__d("NetworkStatusImpl",["NetworkHeartbeat","performanceNow"],function(e,t,n,r,o,i,a){var u,l,s=[],c="undefined"!=typeof window?window:self,f=null==c?void 0:null==(u=c.navigator)?void 0:u.onLine,d=[],p=[],h=0,m=!1,g=function(){y(!0,!0)},v=function(){y(!1,!0)};function y(e,t){void 0===t&&(t=!1);var n=f===e;t=!t&&!0===e&&r("NetworkHeartbeat").isHeartbeatPending(),!n&&!t&&(m=m||!1===e,(f=e)||r("NetworkHeartbeat").maybeStartHeartbeat(g,v),s.slice().forEach(function(e){e({online:f})}))}function b(){var e=(l||(l=n("performanceNow")))();return d=d.filter(function(t){return S(t.startTime,e)}),(p=p.filter(function(t){return S(t.startTime,e)})).length/d.length<2}var S=function(e,t){return e>t-5e3};function e(){return f}function t(e){s.push(e);var t=!1;return{remove:function(){var n;t||(t=!0,n=e,(n=s.indexOf(n))>-1&&s.splice(n,1))}}}function o(){var e=(l||(l=n("performanceNow")))();d.push({startTime:e}),r("NetworkHeartbeat").maybeStartHeartbeat(g,v,b)}function i(){var e=(l||(l=n("performanceNow")))();p.push({startTime:e}),S(h,e)||(p=p.filter(function(t){return S(t.startTime,e)}),h=e)}function $(){return m}c.addEventListener("online",function(){y(!0)}),c.addEventListener("offline",function(){y(!1)}),a.isOnline=e,a.onChange=t,a.reportError=o,a.reportSuccess=i,a.wasOffline=$},98),__d("NetworkStatusSham",[],function(e,t,n,r,o,i){function e(){return!0}function t(e){return{remove:function(){}}}function n(){}function r(){}function o(){return!1}i.isOnline=e,i.onChange=t,i.reportError=n,i.reportSuccess=r,i.wasOffline=o},66),__d("SimpleHook",[],function(e,t,n,r,o,i){e=function(){function e(){this.__callbacks=[],this.call=this.$2}var t=e.prototype;return t.hasCallback=function(e){var t=this.__callbacks;return t.length>0&&(null==e||t.some(function(t){return t===e||t.$1===e}))},t.add=function(e,t){var n,r=this;return(null==t?void 0:t.once)===!0?((t=function(){r.remove(n),e.apply(null,arguments)}).$1=e,n=t):n=e,this.__callbacks.push(n),n},t.removeLast=function(){return this.__callbacks.pop()},t.remove=function(e){return this.removeIf(function(t){return t===e})},t.removeIf=function(e){var t=this.__callbacks;return this.__callbacks=t.filter(function(t){return!e(t)}),t.length>this.__callbacks.length},t.clear=function(){this.__callbacks=[]},t.$2=function(){for(var e=this.__callbacks,t=0,n=e.length;t<n;++t)e[t].apply(null,arguments)},e}(),i.SimpleHook=e},66),__d("BanzaiLazyQueue",["SimpleHook"],function(e,t,n,r,o,i,a){var u=[],l=new(r("SimpleHook")).SimpleHook;e={onQueue:l,queuePost:function(e,t,n){u.push([e,t,n]),l.call(e,t,n)},flushQueue:function(){var e=u;return u=[],e}},i.exports=e},34),__d("gkx",["invariant","BanzaiLazyQueue","ExecutionEnvironment","emptyFunction"],function(e,t,n,r,o,i,a,u){var l,s={},c={};function f(e){var t=s[e];return null!=t||u(0,11797,e),!c[e]&&null!=t.hash&&(c[e]=!0,((l||(l=n("ExecutionEnvironment"))).canUseDOM||(l||(l=n("ExecutionEnvironment"))).isInWorker)&&r("BanzaiLazyQueue").queuePost("gk2_exposure",{identifier:e,hash:t.hash})),t.result}f.add=function(e,t){for(var n in e)t&&t.entry++,n in s?t&&t.dup_entry++:s[n]=e[n]},f.addLoggedInternal=function(e){for(e in f.add(e),e)c[e]=!0},e=n("emptyFunction"),f.getGKs=function(){return null},f.getLogged=function(){return Object.keys(c).map(function(e){return{identifier:e,hash:s[e].hash}})},f.setPass=e,f.setFail=e,f.clear=e,t=f,a.default=t},98),__d("NetworkStatus",["NetworkStatusImpl","NetworkStatusSham","gkx"],function(e,t,n,r,o,i,a){t=e=r(n("gkx")("708253")&&n("gkx")("1263340")?"NetworkStatusImpl":"NetworkStatusSham"),a.default=t},98),__d("CircularBuffer",["unrecoverableViolation"],function(e,t,n,r,o,i,a){e=function(){function e(e){if(e<=0)throw n("unrecoverableViolation")("Buffer size should be a positive integer","comet_infra");this.$1=e,this.$2=0,this.$3=[],this.$4=[]}var t=e.prototype;return t.write=function(e){var t=this;return this.$3.length<this.$1?this.$3.push(e):(this.$4.forEach(function(e){return e(t.$3[t.$2])}),this.$3[this.$2]=e,this.$2++,this.$2%=this.$1),this},t.onEvict=function(e){return this.$4.push(e),this},t.read=function(){return this.$3.slice(this.$2).concat(this.$3.slice(0,this.$2))},t.expand=function(e){if(e>this.$1){var t=this.read();this.$2=0,this.$3=t,this.$1=e}return this},t.dropFirst=function(e){if(e<=this.$1){var t=this.read();this.$2=0,t.splice(0,e),this.$3=t}return this},t.clear=function(){return this.$2=0,this.$3=[],this},t.currentSize=function(){return this.$3.length},e}(),a.default=e},98),__d("ResourceTypes",[],function(e,t,n,r,o,i){t=e={JS:"js",CSS:"css",XHR:"xhr"},i.default=t},66),__d("TimingAnnotations",[],function(e,t,n,r,o,i){e=function(){function e(){}var t=e.prototype;return t.addStringAnnotation=function(e,t){return this},t.addSetAnnotation=function(e,t){return this},t.addSetElement=function(e,t){return this},t.registerOnBeforeSend=function(e){return this},t.addVectorAnnotation=function(e,t){return this},t.addVectorElement=function(e,t){return this},e}(),(t=function(){function e(){this.$1=null,this.$2=null,this.$3=null,this.$4=[]}var t=e.prototype;return t.addStringAnnotation=function(e,t){return this.$2=this.$2||new Map,this.$2.set(e,t),this},t.addSetAnnotation=function(e,t){var n=this.$1||new Map,r=n.get(e)||new Set;return t.forEach(function(e){return r.add(e)}),n.set(e,r),this.$1=n,this},t.addSetElement=function(e,t){var n=this.$1||new Map,r=n.get(e)||new Set;return r.add(t),n.set(e,r),this.$1=n,this},t.addVectorAnnotation=function(e,t){return this.$3=this.$3||new Map,this.$3.set(e,t),this},t.addVectorElement=function(e,t){var n=this.$3=this.$3||new Map,r=this.$3.get(e)||[];return r.push(t),n.set(e,r),this},t.registerOnBeforeSend=function(e){return this.$4.push(e),this},t.prepareToSend=function(){var e=this;this.$4.forEach(function(t){return t(e)}),this.$4=[];var t={};if(null!=this.$1)for(var n=this.$1,r=Array.isArray(n),o=0,n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var i,a=i[0];i=i[1],t[a]=Array.from(i.values())}if(a={},null!=this.$2)for(o=Array.isArray(i=this.$2),r=0,i=o?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(o){if(r>=i.length)break;n=i[r++]}else{if((r=i.next()).done)break;n=r.value}var u=n[0];n=n[1],a[u]=n}if(u={},null!=this.$3)for(r=Array.isArray(n=this.$3),o=0,n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var l=i[0];i=i[1],u[l]=i}return{setProps:t,stringProps:a,vectorProps:u}},e.combine=function(e,t){var n;return null!=e&&null!=t?(e.stringProps=babelHelpers.extends({},t.stringProps,e.stringProps),e.setProps=babelHelpers.extends({},t.setProps,e.setProps),n=e):null!=e?n=e:null!=t&&(n=t),n},e}()).EmptyTimingAnnotations=e,t.EmptyTraceTimingAnnotations=e,t.TraceTimingAnnotations=t,i.default=t},66),__d("BaseDeserializePHPQueryData",[],function(e,t,n,r,o,i){var a=/^([-_\w]+)((?:\[[-_\w]*\])+)=?(.*)/;function u(e){return"hasOwnProperty"===e||"__proto__"===e?"\ud83d\udf56":e}function e(e,t){if(null==e||""===e)return{};var n={};e=(e=e.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split("&");for(var r=Object.prototype.hasOwnProperty,o=0,i=e.length;o<i;o++){var l=e[o].match(a);if(l){p=l[2].split(/\]\[|\[|\]/).slice(0,-1),d=l[1],l=t(l[3]||""),p[0]=d,d=n;for(var s=0;s<p.length-1;s++){var c=u(p[s]);if(c){if(!r.call(d,c)){var f=p[s+1]&&!p[s+1].match(/^\d{1,3}$/)?{}:[];if(d[c]=f,d[c]!==f)return n}d=d[c]}else p[s+1]&&!p[s+1].match(/^\d{1,3}$/)?d.push({}):d.push([]),d=d[d.length-1]}d instanceof Array&&""===p[p.length-1]?d.push(l):d[u(p[p.length-1])]=l}else{var d=e[o].indexOf("=");if(-1===d)n[t(e[o])]=null;else{var p=e[o].substring(0,d);d=e[o].substring(d+1),n[t(p)]=t(d)}}}return n}i.deserialize=e},66),__d("flattenPHPQueryData",["invariant"],function(e,t,n,r,o,i,a,u){function e(e){return function e(t,n,r){if(null==t)r[n]=void 0;else if("object"==typeof t)for(var o in"function"!=typeof t.appendChild||u(0,2616),t)"$$typeof"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&void 0!==t[o]&&e(t[o],n?n+"["+o+"]":o,r);else r[n]=t;return r}(e,"",{})}a.default=e},98),__d("PHPQuerySerializer",["BaseDeserializePHPQueryData","flattenPHPQueryData"],function(e,t,n,r,o,i,a){function e(e){var t=[];for(var r in e=n("flattenPHPQueryData")(e))if(Object.prototype.hasOwnProperty.call(e,r)){var o=u(r);void 0===e[r]?t.push(o):t.push(o+"="+u(String(e[r])))}return t.join("&")}function u(e){return encodeURIComponent(e).replace(/%5D/g,"]").replace(/%5B/g,"[")}function t(e){return r("BaseDeserializePHPQueryData").deserialize(e,l)}function l(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}o={decodeComponent:l,deserialize:t,encodeComponent:u,serialize:e},i.exports=o},34),__d("PHPQuerySerializerNoEncoding",["BaseDeserializePHPQueryData","flattenPHPQueryData"],function(e,t,n,r,o,i,a){function e(e){var t=[];for(var r in e=n("flattenPHPQueryData")(e))if(Object.prototype.hasOwnProperty.call(e,r)){var o,i,a=(o=r,o);void 0===e[r]?t.push(a):t.push(a+"="+(i=String(e[r]),i))}return t.join("&")}function u(e){return e}function t(e){return r("BaseDeserializePHPQueryData").deserialize(e,l)}function l(e){return e}i=o={decodeComponent:l,deserialize:t,encodeComponent:u,serialize:e},a.default=i},98),__d("ReloadPage",["Env","cr:7936"],function(e,t,n,r,o,i){var a;function u(n){(a||(a=t("Env"))).isCQuick?t("cr:7936").sendMessage({compatAction:"reload"}):e.window.location.reload(n)}function n(t){e.setTimeout(u,t)}i.now=u,i.delay=n},66),__d("PHPStrictQuerySerializer",["PHPQuerySerializer","flattenPHPQueryData"],function(e,t,n,r,o,i,a){var u;function e(e){var t=[];for(var r in e=n("flattenPHPQueryData")(e))if(Object.prototype.hasOwnProperty.call(e,r)){var o=l(r);void 0===e[r]?t.push(o):t.push(o+"="+l(String(e[r])))}return t.join("&")}function l(e){return encodeURIComponent(e)}a.serialize=e,a.encodeComponent=l,a.deserialize=(u||(u=r("PHPQuerySerializer"))).deserialize,a.decodeComponent=u.decodeComponent},98),__d("URIRFC3986",[],function(e,t,n,r,o,i){var a=RegExp("^([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?");function e(e){if(""===e.trim()||null==(e=e.match(a)))return null;var t=e[2]?e[2].substr(2):null,n=e[1]?e[1].substr(0,e[1].length-1):null;return e={uri:e[0]?e[0]:null,scheme:n,authority:t,userinfo:e[3]?e[3].substr(0,e[3].length-1):null,host:e[2]?e[4]:null,port:e[5]&&e[5].substr(1)?parseInt(e[5].substr(1),10):null,path:e[6]?e[6]:null,query:e[7]?e[7].substr(1):null,fragment:e[8]?e[8].substr(1):null,isGenericURI:null===t&&!!n}}i.parse=e},66),__d("$InternalEnum",[],function(e,t,n,r,o,i){var a=Object.prototype.hasOwnProperty,u="function"==typeof WeakMap?new WeakMap:new Map;function l(e){var t=u.get(e);if(void 0!==t)return t;var n=new Map;Object.getOwnPropertyNames(e).forEach(function(t){n.set(e[t],t)});try{u.set(e,n)}catch(r){}return n}var s=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return l(this).has(e)}},cast:{value:function(e){return this.isValid(e)?e:void 0}},members:{value:function(){return l(this).keys()}},getName:{value:function(e){return l(this).get(e)}}}));function e(e){var t=Object.create(s);for(var n in e)a.call(e,n)&&Object.defineProperty(t,n,{value:e[n]});return Object.freeze(t)}var c=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(e){return"string"==typeof e&&a.call(this,e)}},cast:{value:s.cast},members:{value:function(){return Object.getOwnPropertyNames(this).values()}},getName:{value:function(e){return e}}}));e.Mirrored=function(e){for(var t=Object.create(c),n=0,r=e.length;n<r;++n)Object.defineProperty(t,e[n],{value:e[n]});return Object.freeze(t)},Object.freeze(e.Mirrored),o.exports=Object.freeze(e)},null),__d("URISchemes",["$InternalEnum"],function(e,t,n,r,o,i){var a=new Set(["about","accountscenter","aidemos","aistudio","apk","blob","cmms","fb","fba","fbatwork","fb-ama","fb-internal","fb-workchat","fb-workchat-secure","fb-messenger","fb-messenger-public","fb-messenger-group-thread","fb-page-messages","fb-pma","fbcf","fbconnect","fbinternal","fbmobilehome","fbrpc","file","flipper","ftp","gtalk","http","https","mailto","wss","ms-app","intent","itms","itms-apps","itms-services","lasso","market","svn+ssh","fbstaging","tel","sms","pebblejs","sftp","whatsapp","moments","flash","fblite","chrome-extension","webcal","instagram","iglite","fb124024574287414","fb124024574287414rc","fb124024574287414master","fb1576585912599779","fb929757330408142","designpack","fbpixelcloud","fbapi20130214","fb1196383223757595","tbauth","oculus","oculus.store","oculus.feed","oculusstore","socialplatform","odh","com.oculus.rd","aria","skype","ms-windows-store","callto","messenger","workchat","fb236786383180508","fb1775440806014337","data","fb-mk","munki","origami-file","fb-nimble-vrsrecorder","fb-nimble-monohandtrackingvis","together","togetherbl","horizonlauncher","venues","whatsapp-consumer","whatsapp-smb","fb-ide-opener","fb-vscode","fb-vscode-insiders","editor","spark-studio","spark-player","spark-simulator","arstudio","manifold","origami-internal","origami-public","stella","mwa","mattermost","logaggregator","pcoip","cinema","home","oculus360photos","systemux"]),u=t("$InternalEnum")({EXPLICITLY_ALLOWED_SCHEMES_ONLY:"explicitly_allowed_schemes_only",INCLUDE_DEFAULTS:"include_defaults"});function e(e,t,n){return void 0===t&&(t=u.INCLUDE_DEFAULTS),null==e||""===e||(null==n?void 0:n.has(e.toLowerCase()))||t===u.INCLUDE_DEFAULTS&&a.has(e.toLowerCase())}i.Options=u,i.isAllowed=e},66),__d("isSameOrigin",[],function(e,t,n,r,o,i){function e(e,t){return!!(e.getProtocol()&&e.getDomain()&&t.getProtocol()&&t.getDomain())&&e.getOrigin()===t.getOrigin()}i.default=e},66),__d("setHostSubdomain",[],function(e,t,n,r,o,i){function e(e,t){return(e=e.split(".")).length<3?e.unshift(t):e[0]=t,e.join(".")}i.default=e},66),__d("URIAbstractBase",["invariant","FBLogger","PHPStrictQuerySerializer","URIRFC3986","URISchemes","isSameOrigin","setHostSubdomain"],function(e,t,n,r,o,i,a){var u,l,s=RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),c=RegExp("^(?:[^/]*:|[\\x00-\\x1f]*/[\\x00-\\x1f]*/)"),f=[];e=function(){function e(n,r,o,i){void 0===o&&(o=(l||(l=t("URISchemes"))).Options.INCLUDE_DEFAULTS),r||a(0,2966),this.$9=r,this.$7="",this.$1="",this.$6="",this.$5="",this.$3="",this.$4=!1,this.$8={},this.$2=!1,this.$12=o,this.$13=i,e.parse(this,n,!0,r),this.$11=!1}e.parse=function(n,r,o,i){if(!r)return!0;if(r instanceof e)return n.setProtocol(r.getProtocol()),n.setDomain(r.getDomain()),n.setPort(r.getPort()),n.setPath(r.getPath()),n.setQueryData(i.deserialize(i.serialize(r.getQueryData()))),n.setFragment(r.getFragment()),n.setIsGeneric(r.getIsGeneric()),n.setForceFragmentSeparator(r.getForceFragmentSeparator()),n.setOriginalRawQuery(r.getOriginalRawQuery()),n.setQueryParamModified(!1),!0;r=r.toString().trim();var a=(u||(u=t("URIRFC3986"))).parse(r)||{fragment:null,scheme:null,query:null};if(!o&&!(l||(l=t("URISchemes"))).isAllowed(a.scheme,n.$12,n.$13)||(n.setProtocol(a.scheme||""),!o&&s.test(a.host||"")))return!1;if(n.setDomain(a.host||""),n.setPort(a.port||""),n.setPath(a.path||""),o)n.setQueryData(i.deserialize(a.query||"")||{});else try{n.setQueryData(i.deserialize(a.query||"")||{})}catch(f){return!1}if(n.setFragment(a.fragment||""),""===a.fragment&&n.setForceFragmentSeparator(!0),n.setIsGeneric(a.isGenericURI||!1),n.setOriginalRawQuery(a.query),n.setQueryParamModified(!1),null!==a.userinfo){if(o)throw Error("URI.parse: invalid URI (userinfo is not allowed in a URI): "+r);return!1}if(!n.getDomain()&&-1!==n.getPath().indexOf("\\")){if(o)throw Error("URI.parse: invalid URI (no domain but multiple back-slashes): "+r);return!1}if(!n.getProtocol()&&c.test(r)){if(o)throw Error("URI.parse: invalid URI (unsafe protocol-relative URLs): "+r+"'");return!1}if(n.getDomain()&&n.getPath()&&!n.getPath().startsWith("/")){if(o)throw Error("URI.parse: invalid URI (domain and path where path lacks leading slash): "+r);return!1}return!n.getProtocol()||n.getIsGeneric()||n.getDomain()||""===n.getPath()||t("FBLogger")("uri").warn('URI.parse: invalid URI (protocol "'+n.getProtocol()+'" with no domain)'),!0},e.tryParse=function(t,n,r,o){return r=new e(null,n,r,o),e.parse(r,t,!1,n)?r:null},e.isValid=function(t,n,r,o){return!!e.tryParse(t,n,r,o)};var n=e.prototype;return n.setProtocol=function(e){return(l||(l=t("URISchemes"))).isAllowed(e,this.$12,this.$13)||a(0,11793,e),this.$7=e,this},n.getProtocol=function(){return(this.$7||"").toLowerCase()},n.setSecure=function(e){return this.setProtocol(e?"https":"http")},n.isSecure=function(){return"https"===this.getProtocol()},n.setDomain=function(e){if(s.test(e))throw Error("URI.setDomain: unsafe domain specified: "+e+" for url "+this.toString());return this.$1=e,this},n.getDomain=function(){return this.$1},n.setPort=function(e){return this.$6=e,this},n.getPort=function(){return this.$6},n.setPath=function(e){return this.$5=e,this},n.getPath=function(){return this.$5},n.addQueryData=function(e,t){return"[object Object]"===Object.prototype.toString.call(e)?Object.assign(this.$8,e):this.$8[e]=t,this.$11=!0,this},n.setQueryData=function(e){return this.$8=e,this.$11=!0,this},n.getQueryData=function(){return this.$8},n.setQueryString=function(e){return this.setQueryData(this.$9.deserialize(e))},n.getQueryString=function(e,t,n){return void 0===e&&(e=!1),void 0===t&&(t=function(){return!1}),void 0===n&&(n=null),this.$14(!1,e,t,n)},n.$14=function(e,t,n,r){return(void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=function(){return!1}),void 0===r&&(r=null),!this.$11&&(t||n(this.getDomain())))?null!=(t=this.$10)?t:"":(e&&r?r:this.$9).serialize(this.getQueryData())},n.removeQueryData=function(e){Array.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;++t)delete this.$8[e[t]];return this.$11=!0,this},n.setFragment=function(e){return this.$3=e,this.setForceFragmentSeparator(!1),this},n.getFragment=function(){return this.$3},n.setForceFragmentSeparator=function(e){return this.$2=e,this},n.getForceFragmentSeparator=function(){return this.$2},n.setIsGeneric=function(e){return this.$4=e,this},n.getIsGeneric=function(){return this.$4},n.getOriginalRawQuery=function(){return this.$10},n.setOriginalRawQuery=function(e){return this.$10=e,this},n.setQueryParamModified=function(e){return this.$11=e,this},n.isEmpty=function(){return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||Object.keys(this.getQueryData()).length>0||this.getFragment())},n.toString=function(e,t){return void 0===e&&(e=function(){return!1}),void 0===t&&(t=null),this.$15(!1,!1,e,t)},n.toStringRawQuery=function(e,t){return void 0===e&&(e=function(){return!1}),void 0===t&&(t=null),this.$15(!0,!1,e,t)},n.toStringPreserveQuery=function(e,t){return void 0===e&&(e=function(){return!1}),void 0===t&&(t=null),this.$15(!1,!0,e,t)},n.toStringStrictQueryEncoding=function(e){return void 0===e&&(e=function(){return!1}),this.$15(!0,!1,e,t("PHPStrictQuerySerializer"))},n.$15=function(e,t,n,r){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=function(){return!1}),void 0===r&&(r=null);for(var o=this,i=0;i<f.length;i++)o=f[i](o);return o.$16(e,t,n,r)},n.$16=function(e,t,n,r){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=function(){return!1}),void 0===r&&(r=null);var o="",i=this.getProtocol();return i&&(o+=i+":"+(this.getIsGeneric()?"":"//")),(i=this.getDomain())&&(o+=i),(i=this.getPort())&&(o+=":"+i),(i=this.getPath())?o+=i:o&&(o+="/"),(i=this.$14(e,t,n,r))&&(o+="?"+i),(e=this.getFragment())?o+="#"+e:this.getForceFragmentSeparator()&&(o+="#"),o},e.registerFilter=function(e){f.push(e)},n.getOrigin=function(){var e=this.getPort();return this.getProtocol()+"://"+this.getDomain()+(e?":"+e:"")},n.isSameOrigin=function(e){return t("isSameOrigin")(this,e)},n.getQualifiedURIBase=function(){return new e(this,this.$9).qualify()},n.qualify=function(){if(!this.getDomain()){var t=new e(window.location.href,this.$9);this.setProtocol(t.getProtocol()).setDomain(t.getDomain()).setPort(t.getPort())}return this},n.setSubdomain=function(e){var n=this.qualify();return n=n.getDomain(),this.setDomain(t("setHostSubdomain")(n,e))},n.getSubdomain=function(){if(!this.getDomain())return"";var e=this.getDomain().split(".");return e.length<=2?"":e[0]},n.isSubdomainOfDomain=function(t){var n=this.getDomain();return e.isDomainSubdomainOfDomain(n,t,this.$9)},e.isDomainSubdomainOfDomain=function(t,n,r){if(""===n||""===t)return!1;if(t.endsWith(n)){var o=t.length,i=n.length,a=o-i-1;if(o===i||"."===t[a])return(o=new e(null,r)).setDomain(n),e.isValid(o,r)}return!1},e}(),o.exports=e},null),__d("URIBase",["ExecutionEnvironment","PHPQuerySerializerNoEncoding","URIAbstractBase","URISchemes","UriNeedRawQuerySVChecker","err"],function(e,t,n,r,o,i,a){var u,l;function s(e,t,r,o){try{return n("URIAbstractBase").parse(e,t,r,o)}catch(i){throw Error(n("err")(i.message))}}e=function(e){function t(t,n,o,i){return void 0===o&&(o=(l||(l=r("URISchemes"))).Options.INCLUDE_DEFAULTS),(o=e.call(this,t,n,o,i)||this).$URIBase1=n,s(babelHelpers.assertThisInitialized(o),t,!0,n),o}babelHelpers.inheritsLoose(t,e),t.tryParse=function(e,n,o,i){return void 0===o&&(o=(l||(l=r("URISchemes"))).Options.INCLUDE_DEFAULTS),o=new t(null,n,o,i),s(o,e,!1,n)?o:null},t.isValid=function(e,n,o,i){return void 0===o&&(o=(l||(l=r("URISchemes"))).Options.INCLUDE_DEFAULTS),!!t.tryParse(e,n,o,i)};var o=t.prototype;return o.setDomain=function(t){try{e.prototype.setDomain.call(this,t)}catch(r){throw Error(n("err")(r.message))}return this},o.getQualifiedURIBase=function(){return new t(this,this.$URIBase1).qualify()},o.qualify=function(){if(!this.getDomain()){var e=("undefined"!=typeof window?window:self).location.href;(u||(u=n("ExecutionEnvironment"))).isInWorker&&e&&e.startsWith("blob:")&&(e=e.substring(5,e.length)),e=new t(e,this.$URIBase1),this.setProtocol(e.getProtocol()).setDomain(e.getDomain()).setPort(e.getPort())}return this},o.isSubdomainOfDomain=function(e){var n=this.getDomain();return t.isDomainSubdomainOfDomain(n,e,this.$URIBase1)},t.isDomainSubdomainOfDomain=function(e,n,r){if(""===n||""===e)return!1;if(e.endsWith(n)){var o=e.length,i=n.length,a=o-i-1;if(o===i||"."===e[a])return(o=new t(null,r)).setDomain(n),t.isValid(o,r)}return!1},o.toString=function(){return e.prototype.toString.call(this,n("UriNeedRawQuerySVChecker").isDomainNeedRawQuery,n("PHPQuerySerializerNoEncoding"))},o.toStringRawQuery=function(){return e.prototype.toStringRawQuery.call(this,n("UriNeedRawQuerySVChecker").isDomainNeedRawQuery,n("PHPQuerySerializerNoEncoding"))},o.toStringPreserveQuery=function(){return e.prototype.toStringPreserveQuery.call(this,n("UriNeedRawQuerySVChecker").isDomainNeedRawQuery,n("PHPQuerySerializerNoEncoding"))},o.toStringStrictQueryEncoding=function(){return e.prototype.toStringStrictQueryEncoding.call(this,n("UriNeedRawQuerySVChecker").isDomainNeedRawQuery)},o.getQueryString=function(t){return void 0===t&&(t=!1),e.prototype.getQueryString.call(this,t,n("UriNeedRawQuerySVChecker").isDomainNeedRawQuery,n("PHPQuerySerializerNoEncoding"))},t}(n("URIAbstractBase")),a.default=e},98),__d("UriNeedRawQuerySVChecker",["PHPQuerySerializer","URIBase","UriNeedRawQuerySVConfig"],function(e,t,n,r,o,i){var a,u,l=["http","https"];function e(e){if(null==e||null==(e=e instanceof(a||(a=t("URIBase")))?e:(a||(a=t("URIBase"))).tryParse(e,u||(u=t("PHPQuerySerializer")))))return!1;var n=e.getProtocol();return!!l.includes(n)&&s(e.getDomain())}function s(e){return null!=e&&t("UriNeedRawQuerySVConfig").uris.some(function(n){return(a||(a=t("URIBase"))).isDomainSubdomainOfDomain(e,n,u||(u=t("PHPQuerySerializer")))})}o.exports={isUriNeedRawQuery:e,isDomainNeedRawQuery:s}},null),__d("ifRequired",[],function(e,t,n,r,o,i){function e(e,t,n){var o;return(r&&r.call(null,[e],function(e){o=e}),o&&t)?t(o):!o&&n?n():void 0}i.default=e},66),__d("isFacebookURI",[],function(e,t,n,r,o,i){var a=null,u=["http","https"];function e(e){return a||(a=RegExp("(^|\\.)facebook\\.com$","i")),(!e.isEmpty()||"#"===e.toString())&&(!(e.getDomain()||e.getProtocol())||-1!==u.indexOf(e.getProtocol())&&a.test(e.getDomain()))}e.setRegex=function(e){a=e},i.default=e},66),__d("memoize",["invariant"],function(e,t,n,r,o,i,a,u){function e(e){var t,n=e;return function(){return arguments.length&&u(0,4494),n&&(t=n(),n=null),t}}a.default=e},98),__d("memoizeStringOnly",[],function(e,t,n,r,o,i){function e(e){var t={};return function(n){return Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e.call(this,n)),t[n]}}i.default=e},66),__d("unexpectedUseInComet",["FBLogger","gkx"],function(e,t,n,r,o,i,a){function e(e){n("gkx")("708253")&&(e+=" called unexpectedly. This is not supported in Comet!",n("FBLogger")("comet_infra").blameToPreviousFrame().blameToPreviousFrame().mustfix(e))}a.default=e},98),__d("unqualifyURI",[],function(e,t,n,r,o,i){function e(e){return e.setProtocol("").setDomain("").setPort("")}i.default=e},66),__d("URI",["Env","FBLogger","PHPQuerySerializer","PHPQuerySerializerNoEncoding","ReloadPage","URIBase","UriNeedRawQuerySVChecker","ifRequired","isFacebookURI","memoize","memoizeStringOnly","unexpectedUseInComet","unqualifyURI"],function(e,t,n,r,o,i,a){var u,l,s,c=n("memoize")(function(){return new d(window.location.href)});function f(){return n("ifRequired")("PageTransitions",function(e){if(e.isInitialized())return e})}var d=function(t){function o(e,o,i){var a=r("UriNeedRawQuerySVChecker").isUriNeedRawQuery(e)?n("PHPQuerySerializerNoEncoding"):u||(u=n("PHPQuerySerializer"));return t.call(this,e,a,o,i)||this}babelHelpers.inheritsLoose(o,t);var i=o.prototype;return i.setPath=function(e){return this.path=e,t.prototype.setPath.call(this,e)},i.getPath=function(){var e=t.prototype.getPath.call(this);return e?e.replace(/^\/+/,"/"):e},i.setProtocol=function(e){return this.protocol=e,t.prototype.setProtocol.call(this,e)},i.setDomain=function(e){return this.domain=e,t.prototype.setDomain.call(this,e)},i.setPort=function(e){return this.port=e,t.prototype.setPort.call(this,e)},i.setFragment=function(e){return this.fragment=e,t.prototype.setFragment.call(this,e)},i.stripTrailingSlash=function(){return this.setPath(this.getPath().replace(/\/$/,"")),this},i.addTrailingSlash=function(){var e=this.getPath();return e.length>0&&"/"!==e[e.length-1]&&this.setPath(e+"/"),this},i.valueOf=function(){return this.toString()},i.getRegisteredDomain=function(){if(!this.getDomain())return"";if(!n("isFacebookURI")(this))return null;var e=this.getDomain().split("."),t=e.indexOf("facebook");return -1===t&&(t=e.indexOf("workplace")),e.slice(t).join(".")},i.getUnqualifiedURI=function(){return n("unqualifyURI")(new o(this))},i.getQualifiedURI=function(){return new o(this).qualify()},i.isSameOrigin=function(e){return null==e?e=c():e instanceof o||(e=new o(e.toString())),t.prototype.isSameOrigin.call(this,e)},o.goURIOnNewWindow=function(e){o.goURIOnWindow(e,window.open("","_blank"),!0)},o.goURIOnWindow=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),o.goURIOnWindowWithReference(e,t,n,r)},o.goURIOnWindowWithReference=function(t,i,a,u){void 0===a&&(a=!1),void 0===u&&(u=!1),t=new o(t);var s=!i||i===window;return(l||(l=n("Env"))).isCQuick&&n("isFacebookURI")(t)&&s&&(s={cquick:(l||(l=n("Env"))).iframeKey,ctarget:l.iframeTarget,cquick_token:l.iframeToken},t.addQueryData(s),a=!1),s=t.toString(),t=i||window,i=window.location.href===s&&t===window,!a&&e.PageTransitions?e.PageTransitions.go(s,u):i?r("ReloadPage").now():u?t.location.replace(s):t.location.href=s,t},i.go=function(e,t){n("unexpectedUseInComet")("uri.go"),o.go(this,e,t)},o.tryParseURI=function(e){return(e=(s||(s=n("URIBase"))).tryParse(e,u||(u=n("PHPQuerySerializer"))))?new o(e):null},o.isValidURI=function(e){return(s||(s=n("URIBase"))).isValid(e,u||(u=n("PHPQuerySerializer")))},o.getRequestURI=function(e,t){return(void 0===e&&(e=!0),void 0===t&&(t=!1),e&&(e=f()))?e.getCurrentURI(!!t).getQualifiedURI():new o(window.location.href)},o.getMostRecentURI=function(){var e=f();return e?e.getMostRecentURI().getQualifiedURI():new o(window.location.href)},o.getNextURI=function(){var e=f();return e?e.getNextURI().getQualifiedURI():new o(window.location.href)},o.encodeComponent=function(e){return encodeURIComponent(e).replace(/%5D/g,"]").replace(/%5B/g,"[")},o.decodeComponent=function(e){return decodeURIComponent(e.replace(/\+/g," "))},o.normalize=function(e){return null!=e&&"string"==typeof e?this.normalizeString(e):new o(e).toString()},o}(s||(s=n("URIBase")));d.go=function(e,t,r){n("unexpectedUseInComet")("URI.go"),d.goURIOnWindow(e,window,t,r)},d.normalizeString=n("memoizeStringOnly")(function(e){return new d(e).toString()}),d.expression=/(((\w+):\/\/)([^\/:]*)(:(\d+))?)?([^#?]*)(\?([^#]*))?(#(.*))?/,d.arrayQueryExpression=/^(\w+)((?:\[\w*\])+)=?(.*)/,a.default=d},98),__d("ResourceTimingsStore",["CircularBuffer","ResourceTypes","TimingAnnotations","URI","performanceAbsoluteNow"],function(e,t,n,r,o,i){var a,u,l=new(t("TimingAnnotations")).EmptyTimingAnnotations,s={},c={};Object.keys(t("ResourceTypes")).forEach(function(e){e=t("ResourceTypes")[e];var n=new(t("CircularBuffer"))(1e3),r=new Map;n.onEvict(function(e){r.delete(e)}),s[e]={idx:1,entries:n},c[e]=r});var f={getUID:function(e,n){var r=s[e],o=function e(n,r,o){var i;switch(n){case"css":case"js":var u=f.parseMakeHasteURL(r);i=o+"_"+(u=null==u?"unknown_resource":u[0]);break;case"xhr":i=o+"_"+(r=(u=new(a||(a=t("URI")))(r).getQualifiedURI()).getDomain()+u.getPath());break;default:i="never here"}return i}(e,n,r.idx);return r.entries.write(o),c[e].set(o,{uri:n,uid:o}),r.idx++,o},updateURI:function(e,t,n){null!=(e=c[e].get(t))&&(e.uri=n)},getMapFor:function(e){return c[e]},parseMakeHasteURL:function(e){if(!(e=e.match(/\/rsrc\.php\/.*\/([^\?]+)/)))return null;e=e[1];var t="",n=e.match(/\.(\w+)$/);return n&&(t=n[1]),[e,t]},measureRequestSent:function(e,n){null!=(e=(e=c[e]).get(n))&&null==e.requestSent&&(e.requestSent=(u||(u=t("performanceAbsoluteNow")))())},measureResponseReceived:function(e,n){null!=(e=(e=c[e]).get(n))&&null!=e.requestSent&&null==e.responseReceived&&(e.responseReceived=(u||(u=t("performanceAbsoluteNow")))())},annotate:function(e,n){return(e=(e=c[e]).get(n))?(null!=(n=e.annotations)||(n=new(t("TimingAnnotations")),e.annotations=n),n):l},getAnnotationsFor:function(e,t){return(e=(e=c[e]).get(t))&&null!=(t=e.annotations)?t.prepareToSend():null}};o.exports=f},null),__d("TimeSlice",["cr:1126"],function(e,t,n,r,o,i,a){a.default=t("cr:1126")},98),__d("clearInterval",["cr:7385"],function(e,t,n,r,o,i,a){a.default=t("cr:7385")},98),__d("isEmpty",["invariant"],function(e,t,n,r,o,i,a,u){function e(e){if(Array.isArray(e))return 0===e.length;if("object"!=typeof e)return!e;if(e){var t;for(var n in t=e,"undefined"!=typeof Symbol&&null!=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]&&void 0!==e.size&&u(0,1445),e)return!1}return!0}a.default=e},98),__d("nullthrows",[],function(e,t,n,r,o,i){function e(e,t){if(void 0===t&&(t="Got unexpected null or undefined"),null!=e)return e;throw(e=Error(t)).framesToPop=1,e}i.default=e},66),__d("setIntervalAcrossTransitions",["cr:7389"],function(e,t,n,r,o,i,a){a.default=t("cr:7389")},98),__d("CSSLoader",["CSSLoaderConfig","NetworkStatus","ResourceTimingsStore","TimeSlice","clearInterval","ifRequired","isEmpty","nullthrows","setIntervalAcrossTransitions"],function(e,t,n,r,o,i){var a,u,l,s=t("CSSLoaderConfig").timeout,c=t("CSSLoaderConfig").loadEventSupported,f=[],d=new Map;function p(e,n,r,o){var i=document.createElement("meta");if(i.id="bootloader_"+e.replace(/[^a-z0-9]/gi,"_"),n.appendChild(i),n=0!==d.size,l=Date.now()+s,d.set(e,{signal:i,load:r,error:o}),!n)var u=t("setIntervalAcrossTransitions")(function(){(function e(){var n=[],r=[];if(Date.now()>=l){for(var o,i=d.values(),u=Array.isArray(i),c=0,i=u?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(u){if(c>=i.length)break;o=i[c++]}else{if((c=i.next()).done)break;o=c.value}r.push(o.signal),n.push(o.error)}d.clear()}else for(c=Array.isArray(o=d),u=0,o=c?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(c){if(u>=o.length)break;i=o[u++]}else{if((u=o.next()).done)break;i=u.value}var f=i[0],p=(i=i[1]).signal,h=window.getComputedStyle?getComputedStyle(p):p.currentStyle;h&&parseInt(h.height,10)>1&&(n.push(i.load),r.push(p),d.delete(f))}for(h=0;h<r.length;h++)(i=t("nullthrows")(r[h].parentNode)).removeChild(r[h]);if(!(a||(a=t("isEmpty")))(n)){for(h=0;h<n.length;h++)n[h]();l=Date.now()+s}return 0===d.size})()&&t("clearInterval")(u)},20)}function h(e,n,r,o,i,a){var l=t("ResourceTimingsStore").getUID("css",n);t("ResourceTimingsStore").annotate("css",l).addStringAnnotation("name",e).addStringAnnotation("source",n).addStringAnnotation("caller","CSSLoader.loadStyleSheet"),t("ifRequired")("TimeSliceInteraction",function(t){t.informGlobally("CSSLoader.loadStyleSheet").addStringAnnotation("source",n).addStringAnnotation("name",e)}),t("ResourceTimingsStore").measureRequestSent("css",l);var s=function(){t("ResourceTimingsStore").measureResponseReceived("css",l),o()},f=t("TimeSlice").getGuardedContinuation("CSSLoader link.onresponse");a?!0!==c?(p(e,r,s,i),void 0===c&&function e(t){if(!u){u=!0;var n=document.createElement("link");n.onload=function(){c=!0,n.parentNode&&n.parentNode.removeChild(n)},n.rel="stylesheet",n.href="data:text/css;base64,",t.appendChild(n)}}(r)):(a.onload=f.bind(void 0,function(){a.onload=a.onerror=null,s()}),a.onerror=f.bind(void 0,function(){a.onload=a.onerror=null,i()})):p(e,r,s,i)}e={loadStyleSheet:function(e,n,r,o,i,a){var u,l=document;if("createStyleSheet"in l){for(var s=0;s<f.length;s++)if(f[s].imports.length<31){u=s;break}if(void 0===u){try{f.push(l.createStyleSheet())}catch(c){t("NetworkStatus").reportError(),a();return}u=f.length-1}t("NetworkStatus").reportSuccess(),f[u].addImport(n),h(e,n,r,i,a,null);return}(s=l.createElement("link")).rel="stylesheet",s.type="text/css",s.href=n,o&&(s.crossOrigin="anonymous"),h(e,n,r,i,a,s),r.appendChild(s)},setupEventListeners:function(e,t,n,r,o,i){h(e,t,n,r,o,i)}},o.exports=e},null),__d("ClientConsistencyEventEmitter",["BaseEventEmitter"],function(e,t,n,r,o,i,a){t=e=new(n("BaseEventEmitter")),a.default=t},98),__d("requireWeak",[],function(e,t,n,r,o,i){function e(e,t){r&&r.call(null,[e],t)}i.default=e},66),__d("ClientConsistency",["ClientConsistencyEventEmitter","SiteData","requireWeak"],function(e,t,n,r,o,i){var a,u=t("SiteData").client_revision,l=!1,s={},c=new Set,f=new Set,d=function(e){s={};var n,r=Object.keys(e).sort().reverse();"multiple_revs"===a&&(a=void 0);for(var o=r,i=Array.isArray(o),u=0,o=i?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();"break"!==(r=function(){if(i){if(u>=o.length)return"break";n=o[u++]}else{if((u=o.next()).done)return"break";n=u.value}var r=n,a=Number(r);if(0===(r=null!=(r=e[a])?r:[]).length)return p(a),"break";r.forEach(function(e){var n;s[e]=Math.max(null!=(n=s[e])?n:0,a),f.has(e)||(f.add(e),t("requireWeak").call(null,e,function(){s[e]&&p(s[e])}))})}()););},p=function(e){e>0&&null==a&&(a="multiple_revs"),2===e&&t("ClientConsistencyEventEmitter").emit("softRefresh","multiple_revs"),3===e&&t("ClientConsistencyEventEmitter").emit("hardRefresh","multiple_revs")},h=function(e){var t=e.actions;(e=e.rev)!==u&&("multiple_revs"===a&&(a=void 0),null!=t&&d(t))};e={init:function(){l||(t("ClientConsistencyEventEmitter").addListener("newEntry",function(e){h(e)}),t("ClientConsistencyEventEmitter").addListener("softRefresh",function(e){a=e}),t("ClientConsistencyEventEmitter").addListener("hardRefresh",function(e){a=e}),l=!0)},addAdditionalRevision:function(e){e!==u&&(c.add(e),t("ClientConsistencyEventEmitter").emit("newRevision",e))},getAdditionalRevisions:function(){return c},getPendingRefresh:function(){return a}},o.exports=e},null),__d("ErrorPubSub",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").ErrorPubSub},98),__d("JSResourceEvents",["performanceAbsoluteNow"],function(e,t,n,r,o,i,a){var u,l=new Map;function e(e,t,r){t=null!=t?t:"";var o=l.get(e);o||l.set(e,o=new Map),(e=o.get(t))||o.set(t,e=new Map),(o=e.get(r))||e.set(r,o=[0,[]]),o[1][o[0]++%50]=(u||(u=n("performanceAbsoluteNow")))()}function s(e,t,n){var r=l.get(e);if(!r)return[];for(var o=[],r=r,i=Array.isArray(r),a=0,r=i?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var u=s[0];s=s[1];for(var s=s,c=Array.isArray(s),f=0,s=c?s:s["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(c){if(f>=s.length)break;d=s[f++]}else{if((f=s.next()).done)break;d=f.value}var s,d,p,h=d[0];d=d[1];for(var d=d[1],m=Array.isArray(d),g=0,d=m?d:d["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(m){if(g>=d.length)break;p=d[g++]}else{if((g=d.next()).done)break;p=g.value}p>=t&&p<=n&&o.push({module:e,ref:u||null,type:h,time:p})}}}return o.sort(function(e,t){return e.time-t.time})}function t(e,t){for(var n=new Map,r=l.keys(),o=Array.isArray(r),i=0,r=o?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var a,u=s(a,e,t);u.length&&n.set(a,u)}return n}a.notify=e,a.getEvents=s,a.getAllModuleEvents=t},98),__d("Promise",["cr:6640"],function(e,t,n,r,o,i){var a=null!=(n=t("cr:6640"))?n:e.Promise;a.allSettled||(a.allSettled=function(e){if(!(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in e))return a.reject(TypeError("Promise.allSettled must be passed an iterable."));t=Array.from(e);var t,n=Array(t.length);e=function(e,r){var o=t[e];r="object"==typeof o&&null!==o&&"function"==typeof o.then,n[e]=r?new a(function(e,t){o.then(function(t){e({status:"fulfilled",value:t})},function(t){e({status:"rejected",reason:t})})}):a.resolve({status:"fulfilled",value:o})};for(var r=0,o=t.length;r<o;++r)e(r,o);return a.all(n)}),a.prototype.finally||(a.prototype.finally=function(e){return this.then(function(t){return a.resolve(e()).then(function(){return t})},function(t){return a.resolve(e()).then(function(){throw t})})}),o.exports=a},null),__d("PromiseAnnotate",[],function(e,t,n,r,o,i){function e(e,t){return e.displayName=t,e}function t(e){return"string"==typeof(e=e.displayName)?e:null}i.setDisplayName=e,i.getDisplayName=t},66),__d("ifRequireable",["ifRequired"],function(e,t,n,r,o,i,a){function e(e,t,r){return n("ifRequired").call(null,e,t,r)}a.default=e},98),__d("JSResourceReferenceImpl",["JSResourceEvents","Promise","PromiseAnnotate","ifRequireable","ifRequired"],function(e,t,n,r,o,i,a){var u,l,s=function(e){return e},c=[],f=null;function d(e){f?e(f):c.push(e)}var p="JSResource: unknown caller";(e=function(){function e(e){this.$1=e}e.setBootloader=function(e){for(f=e,e=0;e<c.length;e++)(0,c[e])(f);c=[]};var o=e.prototype;return o.getModuleId=function(){return this.$1},o.getModuleIdAsRef=function(){return this.$1},o.load=function(){var e=this,n=this.$2;r("JSResourceEvents").notify(this.$1,n,"LOADED");var o=new(l||(l=t("Promise")))(function(t){d(function(o){return o.loadModules([e.getModuleIdAsRef()],function(o){r("JSResourceEvents").notify(e.$1,n,"PROMISE_RESOLVED"),t(o)},null!=(o=e.$2)?o:p)})});return(u||(u=r("PromiseAnnotate"))).setDisplayName(o,"Bootload("+this.getModuleId()+")"),o},o.preload=function(){var e,t=this,n=null!=(e=this.$2)?e:p;d(function(e){return e.loadModules([t.getModuleIdAsRef()],function(){},"preload: "+n)})},o.equals=function(e){return this===e||this.$1==e.$1},o.getModuleIfRequireable=function(){return r("JSResourceEvents").notify(this.$1,this.$2,"ACCESSED"),n("ifRequireable").call(null,this.$1,s)},o.getModuleIfRequired=function(){return r("JSResourceEvents").notify(this.$1,this.$2,"ACCESSED"),n("ifRequired").call(null,this.$1,s)},e.disableForSSR_DO_NOT_USE=function(){this.$3=!1},o.isAvailableInSSR_DO_NOT_USE=function(){return this.constructor.$3},o.__setRef=function(e){return this.$2=e,r("JSResourceEvents").notify(this.$1,this.$2,"CREATED"),this},e.loadAll=function(e,t){for(var n={},o=!1,i=e,a=Array.isArray(i),u=0,i=a?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(a){if(u>=i.length)break;l=i[u++]}else{if((u=i.next()).done)break;l=u.value}var l,s=l.$2;s&&(o=!0,n[s]=!0),r("JSResourceEvents").notify(l.$1,s,"LOADED")}d(function(r){return r.loadModules(e.map(function(e){return e.getModuleId()}),t,o?Object.keys(n).join(":"):"JSResource: unknown caller")})},e}()).$3=!0,a.default=e},98),__d("MakeHasteTranslationsMap",["invariant"],function(e,t,n,r,o,i,a,u){var l={};function e(e){Object.assign(l,e)}function t(e){return e in l||u(0,62571,e),l[e]}a.setBatch=e,a.get=t},98),__d("PromiseMonitor",["Env","FBLogger","PromiseAnnotate"],function(e,t,n,r,o,i,a){var u,l,s=new Set,c=!1;function e(e){if(!0===(l||(l=n("Env"))).gk_comet_promise_monitor&&"undefined"!=typeof WeakRef){if(s.size>=1e5&&!c){n("FBLogger")("PromiseMonitor").warn("Exceed %s promises.",1e5),c=!0;return}var t=new WeakRef(e),r={thenable:t};t=function(){s.delete(r)},e.then(t,t),s.add(r)}}function t(){if(!0!==(l||(l=n("Env"))).gk_comet_promise_monitor)return{disabled:!0};var e=Array.from(s).slice(-10).map(function(e){return null!=e.retainedDescription?e.retainedDescription:null==(e=e.thenable.deref())?"Promise was GCed but not completed":null!=(e=(u||(u=r("PromiseAnnotate"))).getDisplayName(e))?e:"Promise not annotated"});return{seenTooManyPromises:c,pendingPromisesTruncated:s.size>10,pendingPromises:e}}function o(){return s.size}a.monitor=e,a.dump=t,a.getUnresolvedPromiseCount=o},98),__d("getErrorSafe",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").getErrorSafe},98),__d("promiseDone",["ErrorPubSub","PromiseAnnotate","PromiseMonitor","emptyFunction","getErrorSafe"],function(e,t,n,r,o,i,a){var u,l;function e(e,t,o){var i=arguments.length>1?e.then(t,o):e;i.then(n("emptyFunction"),function(e){(e=n("getErrorSafe")(e)).loggingSource="PROMISE_DONE",(l||(l=n("ErrorPubSub"))).reportError(e)});var a=(u||(u=r("PromiseAnnotate"))).getDisplayName(e);null!=a&&(u||(u=r("PromiseAnnotate"))).setDisplayName(i,a),r("PromiseMonitor").monitor(i)}a.default=e},98),__d("MakeHasteTranslations",["BootloaderConfig","BootloaderRetryTracker","ExecutionEnvironment","FBLogger","MakeHasteTranslationsMap","Promise","TimeSlice","err","fb-error","getSameOriginTransport","promiseDone"],function(e,t,n,r,o,i,a){var u,l,s=new(n("BootloaderRetryTracker"))({retries:null!=(i=n("BootloaderConfig").translationRetries)?i:n("BootloaderConfig").jsRetries,abortNum:null!=(i=n("BootloaderConfig").translationRetryAbortNum)?i:n("BootloaderConfig").jsRetryAbortNum,abortTime:null!=(i=n("BootloaderConfig").translationRetryAbortTime)?i:n("BootloaderConfig").jsRetryAbortTime,abortCallback:function(){n("FBLogger")("binary_transparency").warn("Translations retry abort")}});function c(e){if(null!=(e=JSON.parse(e))&&"object"==typeof e&&"object"==typeof e.translations&&Array.isArray(e.virtual_modules))return e;throw n("err")("Invalid response shape")}var f="data:application/json;base64";function d(o,i){var a=(e.__translationFetchTracker||(e.__translationFetchTracker={}),e.__translationFetchTracker);return(u||(u=n("ExecutionEnvironment"))).isInBrowser&&"fetching"!==a[o]&&"fetched"!==a[o]?(a[o]="fetching",(i.includes(f)?(l||(l=t("Promise"))).resolve(function e(t){if(!t.includes(f))throw n("err")("Invalid data uri mime type");if((t=t.split(","))[0],null==(t=t[1]))throw n("err")("Data uri contains no contents");return c(atob(t))}(i)):function e(r){return new(l||(l=t("Promise")))(function(t,o){var i=n("TimeSlice").getGuardedContinuation("MakeHasteTranslationsFetcher genSendRequest"),a=n("getSameOriginTransport")();a.open("GET",r,!0),a.onreadystatechange=function(u){4===a.readyState&&i(function(){n("fb-error").ErrorXFBDebug.addFromXHR(a);try{if(200!==a.status)throw n("err")("Received non-200 response");t(c(a.responseText))}catch(i){s.maybeScheduleRetry(r,function(){return t(e(r))},function(){return o(n("err")("Error processing response. XHR Error: %s, XHR status: %s, Response Text: %s",i.toString(),a.status,a.responseText.length>300?a.responseText.slice(0,300)+"...":a.responseText))})}})},a.send()})}(i)).then(function(t){r("MakeHasteTranslationsMap").setBatch(t.translations),t.virtual_modules.forEach(function(t){return e.define(t,{})}),a[o]="fetched"}).catch(function(e){a[o]="failed",n("FBLogger")("binary_transparency","translation_download_error").catching(e).warn("Unable to download and process translation map. Url: %s",i)})):(l||(l=t("Promise"))).resolve()}function o(e){e=Object.entries(e);for(var t=0;t<e.length;t++){var r=e[t],o=r[0];r=r[1],n("promiseDone")(d(o,r))}}a.genFetchAndProcessTranslations=d,a.fetchTranslationsForEarlyFlush=o},98),__d("RequireDeferredFactoryEvent",["$InternalEnum"],function(e,t,n,r,o,i){n=e=t("$InternalEnum")({SUPPORT_DATA:"sd",CSS:"css"}),i.default=n},66),__d("RequireDeferredReference",["CallbackDependencyManager","Promise","RequireDeferredFactoryEvent","ifRequireable","ifRequired","performanceNow","promiseDone","requireWeak"],function(e,t,n,r,o,i,a){var u,l,s=(e=1)|(r=2)|(o=16),c=null;function f(e,t){return e+":"+t}var d=new Set;i=function(){function e(e){this.$1=e}var r=e.prototype;return r.getModuleId=function(){return this.$1},r.getModuleIdAsRef=function(){return this.$1},r.preload=function(){},r.getModuleIfRequired=function(){return n("ifRequired").call(null,this.$1,function(e){return e})},r.getModuleIfRequireable=function(){return n("ifRequireable").call(null,this.$1,function(e){return e})},r.isAvailableInSSR_DO_NOT_USE=function(){return!0},r.$2=function(e){var t=this,r=n("ifRequireable")("InteractionTracingMetrics",function(e){return e.currentInteractionLogger().addRequireDeferred(t.getModuleId(),(l||(l=n("performanceNow")))())}),o=!1,i=function(t,i){null==r||r((l||(l=n("performanceNow")))(),i),o||e(t)};return n("ifRequireable").call(null,this.$1,function(e){return i(e,!0)},function(){n("requireWeak").call(null,t.$1,function(e){return i(e,!1)})}),{remove:function(){o=!0}}},r.load=function(){var e=this;return new(u||(u=t("Promise")))(function(t){return e.$2(t)})},r.__setRef=function(e){return this},r.onReadyImmediately=function(e){return this.$2(e)},r.onReady=function(e){var r=!1,o=this.$2(function(o){n("promiseDone")((u||(u=t("Promise"))).resolve().then(function(){r||e(o)}))});return{remove:function(){r=!0,o.remove()}}},r.loadImmediately=function(e){return this.$2(e)},e.getRDModuleName_DO_NOT_USE=function(e){return"rd:"+e},e.unblock=function(r,o){for(var i=(null==c&&(c=new(n("CallbackDependencyManager"))),c),a=0;a<r.length;a++)!function(){var u=r[a];d.has(u)||(d.add(u),i.registerCallback(function(){define(e.getRDModuleName_DO_NOT_USE(u),[u],function(){t.call(null,u)},s)},Array.from(n("RequireDeferredFactoryEvent").members(),function(e){return f(u,e)}))),i.satisfyPersistentDependency(f(u,o))}()},e}(),a.default=i},98),__d("ResourceHasher",["invariant"],function(e,t,n,r,o,i,a,u){r="placeholder";var l=0;function e(e){return"async:"+e}function t(){return"ejs:"+l++}function n(e){return"string"==typeof e||u(0,19551,e),e}a.PLACEHOLDER=r,a.getAsyncHash=e,a.createExternalJSHash=t,a.getValidResourceHash=n},98),__d("TrustedTypesPolicyName",["$InternalEnum"],function(e,t,n,r,o,i){n=e=t("$InternalEnum")({DEFAULT:"default",NOOP_DO_NOT_USE:"noop-do-not-use",UNSAFE_FUNCTION_DO_NOT_USE:"unsafe-function-do-not-use",DDS_INLINE_STYLE:"dds-inline-style",GHL_PLUS_HTML:"ghl-plus-html",LINK_TAG_HTML:"link-tag-html",BOOTLOADER_DATA_URI:"bootloader-data-uri",OC_URI_SCRIPT_URL:"oc-uri-script-urls",FB_URI_SCRIPT_URL:"fb-uri-script-urls",META_URI_SCRIPT_URL:"meta-uri-script-urls",RL_TEALIUM_CDN_URI:"rl-tealium-cdn-uri",SAME_ORIGIN_SCRIPT_URL:"same-origin-script-urls",WEB_WORKER_URL:"web-worker-url",YOUTUBE_IFRAME_URL:"youtube-iframe-uri",IORG_WEB_WORKER_POLICY:"iorg-web-worker-policy",BIG_PIPE_MARKUP:"big-pipe-markup",GOOGLE_ANALYTICS_URL:"google-analytics-url",FBQ_SCRIPT_URL:"fbq-script-url",CBQ_SCRIPT_URL:"cbq-script-url",DOM_IE_FIX:"dom-ie-fix",OZ_PLAYER_XML:"oz-player-xml",CHROMECAST_EXTENSION_URI:"chromecast-extension-uri",TRANSLATED_CMS_HTML:"translated-cms-html",XHP_HTML:"xhp-html",GSAP_SPLIT_TEXT:"gsap-split-test"}),i.default=n},66),__d("TrustedTypesUtils",["FBLogger"],function(e,t,n,r,o,i,a){var u="undefined"!=typeof window;function e(e){var t=u&&void 0!==window.origin?window.origin:"undefined";return n("FBLogger")("saf_web_trusted_types_rollout",t).blameToPreviousFrame().blameToPreviousFrame().warn(e),e}function t(e){n("FBLogger")("saf_web").info("[Trusted-Types][%s]: %s",u&&void 0!==window.origin?window.origin:"undefined",e)}function l(e){n("FBLogger")("saf_web").warn("[Trusted-Types][%s]: %s",u&&void 0!==window.origin?window.origin:"undefined",e)}function r(e){n("FBLogger")("saf_web").mustfix("[Trusted-Types][%s]: %s",u&&void 0!==window.origin?window.origin:"undefined",e)}function o(e,t){l("String '"+e.toString().slice(0,15)+"' is flowing to DOM XSS sink. Default Trusted Type policy was executed and removed dangerous elements. Returned string is: '"+t.toString().slice(0,15)+"' If this is breaking your feature, post in Security Infra group.")}i=function(e){return e},a.isBrowser=u,a.noop=i,a.noopAndLog=e,a.logInfo=t,a.logWarning=l,a.logError=r,a.logDefaultPolicySanitization=o},98),__d("TrustedTypes",["Env","TrustedTypesUtils"],function(e,t,n,r,o,i,a){function e(){return r("TrustedTypesUtils").isBrowser&&void 0!==window.trustedTypes}var u,l=e()?window.trustedTypes:null,s=new Map,c={createHTML:r("TrustedTypesUtils").noop,createScriptURL:r("TrustedTypesUtils").noop,createScript:r("TrustedTypesUtils").noop};function f(e,t){return function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(u||(u=n("Env"))).isTrustedTypesReportOnly,t.apply(void 0,[e].concat(o))}}function d(e,t){if(null==l||!(u||(u=n("Env"))).useTrustedTypes)return c;var o=s.get(e);if(null!=o)return r("TrustedTypesUtils").logWarning("A policy with name "+e+" already exists, returning existing policy."),o;try{var i=l.createPolicy(e,t);return o={createHTML:f(e,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.createHTML.apply(i,[e].concat(n))}),createScriptURL:f(e,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.createScriptURL.apply(i,[e].concat(n))}),createScript:f(e,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.createScript.apply(i,[e].concat(n))})},s.set(e,o),o}catch(a){r("TrustedTypesUtils").logError("Error creating Trusted Types policy: "+a)}return c}function t(){return s.get("default")}function o(e){return null!=(e=null==l?void 0:l.isHTML(e))&&e}function i(e){return null!=(e=null==l?void 0:l.isScriptURL(e))&&e}e={isSupportedNatively:e,isHTML:o,isScript:function e(t){return null!=(t=null==l?void 0:l.isScript(t))&&t},isScriptURL:i,createPolicy:d,getDefaultPolicy:t,createDefaultPolicy:function e(t){null!=l&&(u||(u=n("Env"))).useTrustedTypes&&(u||(u=n("Env"))).enableDefaultTrustedTypesPolicy&&d("default",t.policy)}},a.default=e},98),__d("TrustedTypesBootloaderDataURIScriptURLPolicy",["TrustedTypes"],function(e,t,n,r,o,i,a){e={createScriptURL:function(e){return e}},r=t=n("TrustedTypes").createPolicy("bootloader-data-uri",e),a.default=r},98),__d("isCdnURI",[],function(e,t,n,r,o,i){function e(e){if("http"!==e.getProtocol()&&"https"!==e.getProtocol())return!1;var t=Number(e.getPort());return(!t||80===t||443===t)&&!!e.isSubdomainOfDomain("fbcdn.net")}i.default=e},66),__d("isExternalFBURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)externalfb\\.com$","i");function e(e){return a.test(e.getDomain())}i.default=e},66),__d("isFacebookDotNetURI",[],function(e,t,n,r,o,i){function e(e){if("http"!==e.getProtocol()&&"https"!==e.getProtocol())return!1;var t=Number(e.getPort());return(!t||80===t||443===t)&&!!e.isSubdomainOfDomain("facebook.net")}i.default=e},66),__d("isInstagramCDNURI",[],function(e,t,n,r,o,i){var a=null;function e(e){return!!((!e.isEmpty()||"#"===e.toString())&&(e.getDomain()||e.getProtocol()))&&"https"===e.getProtocol()&&(a||(a=RegExp("^static\\.cdninstagram\\.com$","i")),a.test(e.getDomain()))}i.default=e},66),__d("isInstagramURI",[],function(e,t,n,r,o,i){var a=null;function e(e){return!!((!e.isEmpty()||"#"===e.toString())&&(e.getDomain()||e.getProtocol()))&&"https"===e.getProtocol()&&(a||(a=RegExp("(^|\\.)instagram\\.com$","i")),a.test(e.getDomain()))}i.default=e},66),__d("isInternURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)intern(mc)?\\.facebook\\.com$","i");function e(e){return a.test(e.getDomain())}i.default=e},66),__d("isInternalFBURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)internalfb\\.com$","i");function e(e){return a.test(e.getDomain())}i.default=e},66),__d("isMetaDotComURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)meta\\.com$","i"),u=["https"];function e(e){return(!e.isEmpty()||"#"===e.toString())&&(!(e.getDomain()||e.getProtocol())||-1!==u.indexOf(e.getProtocol())&&a.test(e.getDomain()))}i.default=e},66),__d("isMetaDotComBlobURI",["URI","isMetaDotComURI"],function(e,t,n,r,o,i,a){var u;function e(e){return!!e.includes("blob:")&&(e=e.replace("blob:",""),null!=(e=(u||(u=n("URI"))).tryParseURI(e))&&n("isMetaDotComURI")(e))}a.default=e},98),__d("isOculusDotComURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)oculus\\.com$","i"),u=["https"];function e(e){return(!e.isEmpty()||"#"===e.toString())&&!!(e.getDomain()||e.getProtocol())&&-1!==u.indexOf(e.getProtocol())&&a.test(e.getDomain())}i.default=e},66),__d("TrustedTypesMetaURIScriptURLPolicy",["TrustedTypes","URI","err","isCdnURI","isExternalFBURI","isFacebookDotNetURI","isFacebookURI","isInstagramCDNURI","isInstagramURI","isInternURI","isInternalFBURI","isMetaDotComBlobURI","isOculusDotComURI"],function(e,t,n,r,o,i,a){var u;e={createScriptURL:function(e){if(n("isMetaDotComBlobURI")(e))return e;var t=(u||(u=n("URI"))).tryParseURI(e);if(null!=t&&(n("isFacebookURI")(t)||n("isCdnURI")(t)||n("isFacebookDotNetURI")(t)||n("isExternalFBURI")(t)||n("isOculusDotComURI")(t)||n("isInstagramCDNURI")(t)||n("isInstagramURI")(t)||n("isInternURI")(t)||n("isInternalFBURI")(t)))return e;throw n("err")("Violated policy TrustedTypesMetaURIScriptURLPolicy: "+e+" is not a Meta URI.")}},r=t=n("TrustedTypes").createPolicy("meta-uri-script-urls",e),a.default=r},98),__d("__debug",[],function(e,t,n,r,o,i){e={},i.default=e},66),__d("setTimeoutAcrossTransitions",["cr:7391"],function(e,t,n,r,o,i,a){a.default=t("cr:7391")},98),__d("Bootloader",["invariant","BootloaderConfig","BootloaderEndpoint","BootloaderEvents","BootloaderEventsManager","BootloaderRetryTracker","CSRBitMap","CSRIndexUtil","CSSLoader","ClientConsistency","ErrorPubSub","ExecutionEnvironment","FBLogger","JSResourceReferenceImpl","MakeHasteTranslations","NetworkStatus","RequireDeferredReference","ResourceHasher","ResourceTimingsStore","SiteData","TimeSlice","TrustedTypesBootloaderDataURIScriptURLPolicy","TrustedTypesMetaURIScriptURLPolicy","__debug","clearTimeout","cr:696703","err","fb-error","ifRequireable","ifRequired","nullthrows","performanceAbsoluteNow","performanceNow","promiseDone","setTimeoutAcrossTransitions"],function(e,t,n,r,o,i,a,u){var l,s,c,f,d=function(){},p=new Set,h=!!n("BootloaderConfig").deferBootloads;h&&!e.__comet_ssr_is_server_env_DO_NOT_USE&&n("setTimeoutAcrossTransitions")(function(){en.undeferBootloads(!0)},15e3);var m=[],g=new Map,v=new Map,y=new Map,b=new Map,S=new Map,$=null,E=new Map,_=new Map,C=new Map,w=new Map,R=new Map,T=new Set,I=!1,k=new Set,P=!1,A=new(n("BootloaderEventsManager")),D=new(n("BootloaderRetryTracker"))({retries:n("BootloaderConfig").jsRetries,abortNum:n("BootloaderConfig").jsRetryAbortNum,abortTime:n("BootloaderConfig").jsRetryAbortTime,abortCallback:function(){n("FBLogger")("bootloader","js_retry_abort").info("JS retry abort")}});function O(e){var t=S.get(e);if(!t)throw n("fb-error").TAAL.blameToPreviousFile(n("err")("Bootloader: %s is not in the component map",e));return t}function L(e){var t=O(e);t.be&&(delete t.be,en.done(r("ResourceHasher").getAsyncHash(e)))}function N(e){var t=E.get(e);if(!t)throw n("fb-error").TAAL.blameToPreviousFile(n("err")("No resource entry for hash: %s",e));return t}function x(e){return!Q(e)}function U(){return $||($=document.head||document.getElementsByTagName("head")[0]||document.body),$}function M(e){if((s||(s=n("ExecutionEnvironment"))).isInWorker){e(null);return}var t=document.createDocumentFragment();e(t),U().appendChild(t)}function F(e,t,r){var o=(c||(c=n("performanceAbsoluteNow")))(),i=t.src,a=n("ResourceTimingsStore").getUID("js",i);n("ResourceTimingsStore").annotate("js",a).addStringAnnotation("name",e).addStringAnnotation("source",i),n("ResourceTimingsStore").measureRequestSent("js",a),n("nullthrows")(self.bl_worker_import_wrapper)(i).then(function(){var t=D.getNumRetriesForSource(i);t>0&&n("FBLogger")("bootloader").info("JS retry success [%s] at %s | time: %s | retries: %s",e,i,(c||(c=n("performanceAbsoluteNow")))()-o,t),n("ResourceTimingsStore").measureResponseReceived("js",a),r()}).catch(function(u){n("ResourceTimingsStore").measureResponseReceived("js",a);var l=(c||(c=n("performanceAbsoluteNow")))();D.maybeScheduleRetry(i,function(){F(e,t,r)},function(){b.set(e,l),n("FBLogger")("bootloader").catching(u).warn("JS loading error [%s] at %s | time: %s | retries: %s | concurrency: %s",e,i,l-o,D.getNumRetriesForSource(i),v.size-y.size),n("NetworkStatus").reportError(),r()})})}function B(e,t,r,o){if((s||(s=n("ExecutionEnvironment"))).isInWorker){F(e,t,r);return}o=n("nullthrows")(o);var i=document.createElement("script");t.d?i.src=n("TrustedTypesBootloaderDataURIScriptURLPolicy").createScriptURL(t.src):i.src=n("TrustedTypesMetaURIScriptURLPolicy").createScriptURL(t.src),i.async=!0,t.nc||(i.crossOrigin="anonymous"),null!=t.m&&(i.dataset.btmanifest=t.m),null!=t.tsrc&&(i.dataset.tsrc=t.tsrc),i.dataset.bootloaderHashClient=e,j(i,e,t,r),o.appendChild(i)}function j(e,t,r,o){var i=e.src,a=(c||(c=n("performanceAbsoluteNow")))(),u=n("TimeSlice").getGuardedContinuation("Bootloader script.onresponse"),l=n("ResourceTimingsStore").getUID("js",i);n("ResourceTimingsStore").annotate("js",l).addStringAnnotation("name",t).addStringAnnotation("source",i),n("ifRequireable")("TimeSliceInteraction",function(e){e.informGlobally("bootloader._loadJS").addStringAnnotation("source",i).addStringAnnotation("name",t)}),n("ResourceTimingsStore").measureRequestSent("js",l),e.onload=u.bind(void 0,function(){var e=D.getNumRetriesForSource(i);e>0&&n("FBLogger")("bootloader").info("JS retry success [%s] at %s | time: %s | retries: %s",t,i,(c||(c=n("performanceAbsoluteNow")))()-a,e),n("ResourceTimingsStore").measureResponseReceived("js",l),o()}),e.onerror=u.bind(void 0,function(){n("ResourceTimingsStore").measureResponseReceived("js",l);var u=(c||(c=n("performanceAbsoluteNow")))();D.maybeScheduleRetry(i,function(){var n=e.parentNode;n&&(n.removeChild(e),B(t,r,o,n))},function(){b.set(t,u),n("FBLogger")("bootloader").warn("JS loading error [%s] at %s | time: %s | retries: %s | concurrency: %s",t,i,u-a,D.getNumRetriesForSource(i),v.size-y.size),n("NetworkStatus").reportError(),o()})})}function H(e,t,r){return function(){n("FBLogger")("bootloader").warn("CSS timeout [%s] at %s | concurrency: %s",e,t.src,v.size-y.size),b.set(e,(c||(c=n("performanceAbsoluteNow")))()),n("NetworkStatus").reportError(),r()}}function q(e,t,n,r){return!t.includes("/rsrc.php")||t.includes("/intern/rsrc.php")?[]:null==(t=(null!=(t=t.match(/(.*\/)([^.]+)(\.)/))?t:[])[2])?[]:null!=(t=null==(t=t.match(/.{1,11}/g))?void 0:t.filter(function(t,o){return!n.has(o)&&e[o]>r}))?t:[]}function z(e,t){var n=e.replace(/\/y[a-zA-Z0-9_-]\//,"/");return n.includes("/intern/rsrc.php")||n.includes("/intern/rsrc-translations.php")?n.replace(/(!)(.+)(\.(?:css|js)(?:$|\?))/,function(e,n,r,o){return n+r.split(",").filter(function(e,n){return!t.has(n)}).join(",")+o}):n.includes("/rsrc.php")||n.includes("/rsrc-translations.php")?n.replace(/(.*\/)([^.]+)(\.)/,function(e,n,r,o){return n+r.match(/.{1,11}/g).filter(function(e,n){return!t.has(n)}).join("")+o}):e}function W(e,t,o,i){if(!v.has(e)){v.set(e,(c||(c=n("performanceAbsoluteNow")))());var a=[];if(("js"===t.type||"css"===t.type)&&null!=t.p&&1!==t.d&&n("BootloaderConfig").hypStep4){var l=r("CSRIndexUtil").parseCSRIndexes(t.p),f=new Set,d=0;if(l.forEach(function(t,n){t!==r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX&&_.get(t)!==e?f.add(n):t>d&&(d=t)}),d>n("BootloaderConfig").btCutoffIndex){var p=q(l,t.src,f,n("BootloaderConfig").btCutoffIndex);n("BootloaderConfig").deferLongTailManifest?a.push(p):r("BootloaderEvents").notifyResourceInLongTailBTManifest(p,i)}if(f.size===l.length)return;f.size>0&&(t.src=z(t.src,f),"js"===t.type&&null!=t.tsrc&&""!==t.tsrc.trim()&&(t.tsrc=z(n("nullthrows")(t.tsrc),f)))}switch("js"===t.type&&null!=t.tsrc&&""!==t.tsrc.trim()&&n("promiseDone")(r("MakeHasteTranslations").genFetchAndProcessTranslations(e,n("nullthrows")(t.tsrc))),function e(t,r){if(!(s||(s=n("ExecutionEnvironment"))).isInWorker){r=n("nullthrows")(r);var o=void 0;switch(t.type){case"async":return;case"css":o="style";break;case"js":o="script";break;default:o=t.type,u(0,3721)}if(1!==t.d){var i=document.createElement("link");i.href=t.src,i.rel="preload",i.as=o,t.nc||(i.crossOrigin="anonymous"),r.appendChild(i)}}}(t,o),t.type){case"js":B(e,t,function(){en.done(e);for(var t=0;t<a.length;t++){var n=a[t];r("BootloaderEvents").notifyResourceInLongTailBTManifest(n,i)}},o);break;case"css":if(p=function(){return en.done(e)},(s||(s=n("ExecutionEnvironment"))).isInWorker){p();break}n("CSSLoader").loadStyleSheet(e,t.src,n("nullthrows")(o),!t.nc,p,H(e,t,p));break;case"async":n("BootloaderEndpoint").load(t.module,t.blocking,e);break;default:t.type,u(0,3721)}}}function G(e,n,o,i,a){var l,s,c=new Map,f=null!=a?a:r("BootloaderEvents").newResourceMapSet();a=[];for(var d=[],p=[],e=Y(e),h=Array.isArray(e),m=0,e=h?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(h){if(m>=e.length)break;g=e[m++]}else{if((m=e.next()).done)break;g=m.value}var g,y=g[0];g=g[1];var b=void 0;switch(g.type){case"css":b=g.nonblocking?"nonblocking":"blocking";break;case"js":b="default";break;case"async":b=g.blocking?"blocking":"nonblocking";break;default:g.type,u(0,3721)}f[b].set(y,g);var S=A.rsrcDone(y);p.push(S),"nonblocking"!==b&&(d.push(S),"blocking"===b&&a.push(S)),v.has(y)||c.set(y,g)}t("cr:696703")?(s=t("cr:696703").scheduleLoggingPriCallback,l=t("cr:696703").getUserBlockingRunAtCurrentPriCallbackScheduler_DO_NOT_USE()):l=s=function(e){return e()};var $=n.onBlocking,E=n.onAll,_=n.onLog;for($&&A.registerCallback(function(){l($)},a),E&&A.registerCallback(function(){l(E)},d),_&&A.registerCallback(function(){s(function(){return _(f)})},p),S=Array.isArray(b=c),y=0,b=S?b:b["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(S){if(y>=b.length)break;g=b[y++]}else{if((y=b.next()).done)break;g=y.value}W(h=(m=g)[0],e=m[1],o,i)}}function J(e,t,o){if(E.set(e,t),"async"!==t.type&&"csr"!==t.type){var i,a=t.p;if(a)for(var a=r("CSRIndexUtil").parseCSRIndexes(a),u=Array.isArray(a),l=0,a=u?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(u){if(l>=a.length)break;i=a[l++]}else{if((l=a.next()).done)break;i=l.value}i!==r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX&&(n("BootloaderConfig").lazySoT?o?(_.set(i,e),C.set(i,new Set)):_.get(i)===r("ResourceHasher").PLACEHOLDER?n("nullthrows")(C.get(i)).add(e):_.has(i)||(_.set(i,r("ResourceHasher").PLACEHOLDER),C.set(i,new Set([e]))):(!_.has(i)||o)&&_.set(i,e),(n("BootloaderConfig").phdOn?2==t.c:t.c)&&r("CSRBitMap").add(i))}}}function V(e){return n("ifRequired").call(null,e,function(){return!0},function(){return!1})}function Q(e){return n("ifRequireable").call(null,e,function(){return!0},function(){return!1})}function K(e,t,i,a){R.has(e)||R.set(e,{firstBootloadStart:(c||(c=n("performanceAbsoluteNow")))(),logData:new Set}),a&&n("nullthrows")(R.get(e)).logData.add(a);var l,s,f,d=O(e),p=d.r,h=d.rdfds,m=d.rds;d=d.be,null==(d=x(e)?(l=e,s=d,f=r("ResourceHasher").getAsyncHash(l),E.has(f)?("async"===(l=N(f)).type||u(0,21557),l.blocking&&!s&&(l.blocking=!1)):E.set(f,{type:"async",module:l,blocking:!!s}),f):null)&&A.notify(A.beDone(e)),G(null!=d?[d].concat(p):p,{onAll:function(){return A.notify(A.tierOne(e))},onLog:function(){return A.notify(A.tierOneLog(e))}},i,e,null==a?void 0:a.tierOne);var g=(null==h?void 0:h.m)||[],v=function(r){G((null==h?void 0:h.r)||[],{onBlocking:function(){return n("RequireDeferredReference").unblock(g,"css")},onAll:function(){return A.registerCallback(function(){A.notify(A.tierTwoStart(e)),o.call(null,g.map(n("RequireDeferredReference").getRDModuleName_DO_NOT_USE),function(){return A.notify(A.tierTwo(e))})},[A.tierOne(e),t])},onLog:function(){return A.notify(A.tierTwoLog(e))}},r,e,null==a?void 0:a.tierTwo)};null!=n("BootloaderConfig").tieredLoadingFromTier&&n("BootloaderConfig").tieredLoadingFromTier<=2?A.registerCallback(function(){return M(v)},[A.tierOne(e)]):v(i);var y=(null==m?void 0:m.m)||[],b=function(t){G((null==m?void 0:m.r)||[],{onBlocking:function(){return n("RequireDeferredReference").unblock(y,"css")},onAll:function(){return A.registerCallback(function(){A.notify(A.tierThreeStart(e)),o.call(null,y.map(n("RequireDeferredReference").getRDModuleName_DO_NOT_USE),function(){return A.notify(A.tierThree(e))})},[A.tierTwo(e)])},onLog:function(){return A.notify(A.tierThreeLog(e))}},t,e,null==a?void 0:a.tierThree)};null!=n("BootloaderConfig").tieredLoadingFromTier&&n("BootloaderConfig").tieredLoadingFromTier<=3?A.registerCallback(function(){return M(b)},[A.tierTwo(e)]):b(i)}function Y(e){n("BootloaderConfig").lazySoT&&function e(t){for(var o=new Set,i=0;i<t.length;i++){var a=t[i];if(a=E.get(a)){a=X(a);for(var u=0;u<a.length;u++){var l=a[u];_.get(l)===r("ResourceHasher").PLACEHOLDER&&o.add(l)}}}if(0!==o.size){var s=new Map;for(a=Array.isArray(l=o),u=0,l=a?l:l["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(a){if(u>=l.length)break;i=l[u++]}else{if((u=l.next()).done)break;i=u.value}t=i,null!=(i=C.get(t))&&i.forEach(function(e){return s.set(e,0)})}for(i=Array.isArray(t=s.keys()),u=0,t=i?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(i){if(u>=t.length)break;a=t[u++]}else{if((u=t.next()).done)break;a=u.value}l=a,a=0;for(var c=X(N(l)),f=0;f<c.length;f++){var d=c[f],p=_.get(d);o.has(d)?a++:p===r("ResourceHasher").PLACEHOLDER&&1===n("nullthrows")(C.get(d)).size?a-=1e6:p===r("ResourceHasher").PLACEHOLDER&&(a-=1e3)}s.set(l,a)}for(c=Array.isArray(p=d=Array.from(s.keys()).sort(function(e,t){return n("nullthrows")(s.get(t))-n("nullthrows")(s.get(e))})),f=0,p=c?p:p["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(c){if(f>=p.length)break;l=p[f++]}else{if((f=p.next()).done)break;l=f.value}if(a=l,(u=X(N(a))).some(function(e){return o.has(e)})){for(i=0;i<u.length;i++)t=u[i],o.has(t)?(_.set(t,a),o.delete(t),C.set(t,new Set)):_.get(t)===r("ResourceHasher").PLACEHOLDER&&((d=n("nullthrows")(C.get(t))).delete(a),0===d.size&&_.set(t,a));if(!o)break}}}}(e);for(var t=new Map,o=0;o<e.length;o++){var i=e[o],a=E.get(i);if(!a){n("FBLogger")("bootloader").mustfix("Unable to resolve resource %s.",i);continue}var l=void 0;if("csr"===a.type)l=r("CSRIndexUtil").parseCSRIndexes(a.src);else if(a.p)(l=r("CSRIndexUtil").parseCSRIndexes(a.p)).includes(r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX)&&t.set(i,a),l=l.filter(function(e){return e!==r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX});else{t.set(i,a);continue}for(a=Array.isArray(i=l),l=0,i=a?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(a){if(l>=i.length)break;s=i[l++]}else{if((l=i.next()).done)break;s=l.value}var s,c=_.get(s);if(null==c){var f=JSON.stringify(e.map(function(e){var t,n=N(e);return t="js"===n.type||"css"===n.type?n.d?"":n.src.split("?")[0]:n.src,JSON.stringify(babelHelpers.extends({hash:e,rev:w.get(e)},n,{src:t,tsrc:null}))}));throw n("FBLogger")("bootloader","missing-index-map").mustfixThrow("No hash for rsrcIndex "+s+" (rev: "+n("SiteData").client_revision+", cohort: "+n("SiteData").pkg_cohort+"). "+f)}"csr"!==(s=N(c)).type||u(0,20056,c),t.set(c,s)}}return t.entries()}function X(e){return"csr"===e.type?r("CSRIndexUtil").parseCSRIndexes(e.src).filter(function(e){return e!==r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX}):null!=e.p?r("CSRIndexUtil").parseCSRIndexes(e.p).filter(function(e){return e!==r("CSRIndexUtil").UNKNOWN_RESOURCE_INDEX}):[]}function Z(e){var t=e.getAttribute("data-bootloader-hash");if(null!=t){var o=r("ResourceHasher").getValidResourceHash(t);if(e.id){if(k.has(e.id))return;k.add(e.id)}t="SCRIPT"===e.tagName?{src:e.src,type:"js"}:{src:e.href,type:"css"},null==e.crossOrigin&&(t.nc=1),"js"===t.type&&null!=e.dataset.tsrc&&""!==e.dataset.tsrc.trim()&&(t.tsrc=e.dataset.tsrc,n("promiseDone")(r("MakeHasteTranslations").genFetchAndProcessTranslations(o,t.tsrc))),"css"===t.type&&e.getAttribute("data-nonblocking")&&(t.nonblocking=1);var i=e.getAttribute("data-c");if("1"==i?t.c=1:"2"==i&&(t.c=2),null!=(i=e.getAttribute("data-p"))){t.p=i,i=r("CSRIndexUtil").parseCSRIndexes(i);var a=Math.max.apply(Math,i);a>n("BootloaderConfig").btCutoffIndex&&r("BootloaderEvents").notifyResourceInLongTailBTManifest(q(i,t.src,new Set,n("BootloaderConfig").btCutoffIndex),"pickupPageResource")}null!=(a=e.getAttribute("data-btmanifest"))&&(t.m=a),E.has(o)&&!n("BootloaderConfig").silentDups&&n("FBLogger")("bootloader").warn("Duplicate resource [%s]: %s",o,t.src),J(o,t,!0),v.set(o,(c||(c=n("performanceAbsoluteNow")))()),i=function(){return en.done(o)},(a="js"===t.type?!e.getAttribute("async"):(null==(a=e.parentNode)?void 0:a.tagName)==="HEAD")||window._btldr&&window._btldr[o]?i():"js"===t.type?j(e,o,t,i):n("CSSLoader").setupEventListeners(o,t.src,U(),i,H(o,t,i),null)}}function ee(){!I&&(I=!0,(s||(s=n("ExecutionEnvironment"))).canUseDOM&&!(s||(s=n("ExecutionEnvironment"))).isInWorker&&(Array.from(document.getElementsByTagName("link")).forEach(function(e){return Z(e)}),Array.from(document.getElementsByTagName("script")).forEach(function(e){return Z(e)})))}function et(){P=!0;var e=m;m=[],e.forEach(function(e){var t=e[0],n=e[1],r=e[2];(e=e[3])(function(){en.loadModules.apply(en,[t,n,r])})})}(l||(l=n("ErrorPubSub"))).unshiftListener(function(e){for(var t=[],n=v,r=Array.isArray(n),o=0,n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var i,a=i[0];i[1],!y.has(a)&&"csr"!==(i=N(a)).type&&"async"!==i.type&&t.push(i.src)}e.loadingUrls=t});var en={loadModules:function(e,t,i){void 0===t&&(t=d),void 0===i&&(i="loadModules: unknown caller");var a,u=e,l=!1,s=function(){n("clearTimeout")(a),l||t.apply(void 0,arguments)};if(e={remove:function(){l=!0}},n("BootloaderConfig").fastPathForAlreadyRequired&&u.every(function(e){return Q(e)}))return o.call(null,u,function(){s.apply(void 0,arguments)}),e;if(!function e(t){if(h||!P)return!1;for(var n=0;n<t.length;n++){var r,o=t[n];if(!(o=S.get(o)))return!1;for(o=[o.r,(null==(r=o.rdfds)?void 0:r.r)||[],(null==(r=o.rds)?void 0:r.r)||[]],r=0;r<o.length;r++)for(var i,a=o[r],a=a,u=Array.isArray(a),l=0,a=u?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(u){if(l>=a.length)break;i=a[l++]}else{if((l=a.next()).done)break;i=l.value}if(!E.has(i))return!1}}return!0}(u)){var f="Deferred: Bootloader.loadModules";return f=n("TimeSlice").getGuardedContinuation(f),m.push([u,s,i,f]),f=A.bootload(u),g.set(f,null!=(f=g.get(f))?f:(c||(c=n("performanceAbsoluteNow")))()),e}var p=(f=function e(t,o){var i=A.bootload(o);if(T.has(i))return[i,null];T.add(i);var a=(c||(c=n("performanceAbsoluteNow")))();return o={ref:t,components:o,timesliceContext:n("TimeSlice").getContext(),startTime:null!=(t=g.get(i))?t:a,fetchStartTime:a,callbackStart:0,callbackEnd:0,tierOne:r("BootloaderEvents").newResourceMapSet(),tierTwo:r("BootloaderEvents").newResourceMapSet(),tierThree:r("BootloaderEvents").newResourceMapSet(),beRequests:new Map},r("BootloaderEvents").notifyBootloadStart(o),[i,o]}(i,u))[0],v=f[1];if(A.registerCallback(o.bind(null,u,function(){v&&(v.callbackStart=(c||(c=n("performanceAbsoluteNow")))()),s.apply(void 0,arguments),v&&(v.callbackEnd=(c||(c=n("performanceAbsoluteNow")))()),A.notify(p)}),u.map(function(e){var t,o;return n("BootloaderConfig").earlyRequireLazy?x(o=t=e)&&(o=(o=O(o)).be)?(t=r("ResourceHasher").getAsyncHash(t),A.rsrcDone(t)):null:A.tierOne(e)}).filter(Boolean)),M(function(e){for(var t=0;t<u.length;t++)K(u[t],p,e,v)}),v){f=new Set([p]);for(var y=0;y<u.length;y++){var b=u[y];f.add(A.beDone(b)),f.add(A.tierThree(b)),f.add(A.tierOneLog(b)),f.add(A.tierTwoLog(b)),f.add(A.tierThreeLog(b))}A.registerCallback(function(){return r("BootloaderEvents").notifyBootload(v)},Array.from(f)),n("ifRequireable")("TimeSliceInteraction",function(e){e.informGlobally("Bootloader.loadResources").addSetAnnotation("requested_hashes",Array.from(r("BootloaderEvents").flattenResourceMapSet(v.tierOne).keys())).addSetAnnotation("rdfd_requested_hashes",Array.from(r("BootloaderEvents").flattenResourceMapSet(v.tierTwo).keys())).addSetAnnotation("rd_requested_hashes",Array.from(r("BootloaderEvents").flattenResourceMapSet(v.tierThree).keys())).addStringAnnotation("bootloader_reference",i).addSetAnnotation("requested_components",u)}),a=n("setTimeoutAcrossTransitions")(function(){r("BootloaderEvents").notifyBootloaderCallbackTimeout(v)},n("BootloaderConfig").timeout)}return e},loadResources:function(e,t){ee(),M(function(n){var o;return G(e.map(function(e){return r("ResourceHasher").getValidResourceHash(e)}),null!=(o=t)?o:Object.freeze({}),n,"loadResources")})},requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN:function(e){var t=r("ResourceHasher").createExternalJSHash();J(t,{type:"js",src:e,nc:1},!1),en.loadResources([t])},done:function(e){y.set(e,(c||(c=n("performanceAbsoluteNow")))()),A.notify(A.rsrcDone(e))},beDone:function(e,t,n){for(var r,o,r=null!=(r=null==(r=R.get(e))?void 0:r.logData)?r:[],i=Array.isArray(r),a=0,r=i?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}o.beRequests.set(t,n)}A.notify(A.beDone(e))},handlePayload:function(e,t){for(var o,i,o=null!=(o=e.rsrcTags)?o:[],a=Array.isArray(o),u=0,o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(a){if(u>=o.length)break;i=o[u++]}else{if((u=o.next()).done)break;i=u.value}Z(document.getElementById(i))}a=null!=(u=null==(i=e.consistency)?void 0:i.rev)?u:null,en.setResourceMap(null!=(o=e.rsrcMap)?o:{},e.sotUpgrades,a,t),u=(i=null!=e.csrUpgrade?r("CSRIndexUtil").parseCSRIndexes(e.csrUpgrade):[]).find(function(e){return!_.has(e)}),i.length&&null!==a&&a!==n("SiteData").client_revision?n("FBLogger")("bootloader","csr-mismatch").warn("CSR upgrades included on mismatched rev %s (client rev: %s, cohort: %s).",a,n("SiteData").client_revision,n("SiteData").pkg_cohort):null!=u&&I?n("FBLogger")("bootloader","missing-csr-upgrade").warn("CSR upgrades included unknown rsrcIndex %d (client rev: %s, cohort: %s).",u,n("SiteData").client_revision,n("SiteData").pkg_cohort):i.forEach(r("CSRBitMap").add),e.compMap&&en.enableBootload(e.compMap,t)},enableBootload:function(e,t){for(var n in e)t&&t.comp++,S.has(n)?t&&t.dup_comp++:(S.set(n,e[n]),p.has(n)&&(p.delete(n),L(n)));ee(),h||et()},undeferBootloads:function(e){void 0===e&&(e=!1),-1===window.location.search.indexOf("&__deferBootloads=")&&(e&&h&&r("BootloaderEvents").notifyDeferTimeout({componentMapSize:S.size,pending:m.map(function(e){var t=e[0];e[1];var n=e[2];return e[3],{components:t,ref:n}}),time:(f||(f=n("performanceNow")))()}),h=!1,S.size&&et())},markComponentsAsImmediate:function(e){for(var t=0;t<e.length;t++){var n=e[t];S.has(n)?L(n):p.add(n)}},setResourceMap:function(e,t,o,i){var a=!1;for(var u in e){i&&i.rsrc++,u=r("ResourceHasher").getValidResourceHash(u),null!=o&&w.set(u,o);var l=e[u],s=E.get(u);s?(i&&i.dup_rsrc++,("js"===s.type&&"js"===l.type||"css"===s.type&&"css"===l.type)&&l.d&&!s.d&&("js"===l.type&&(a=!0),s.src=l.src,s.d=1)):("js"===l.type&&(a=!0),J(u,l,!1))}if(a&&null!=o&&n("ClientConsistency").addAdditionalRevision(o),t)for(s=Array.isArray(l=t),u=0,l=s?l:l["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(s){if(u>=l.length)break;e=l[u++]}else{if((u=l.next()).done)break;e=u.value}i=e,(a=E.get(i))&&J(i,a,!0)}},getURLToHashMap:function(){for(var e=new Map,t=E,n=Array.isArray(t),r=0,t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var o,i=o[0];"async"!==(o=o[1]).type&&"csr"!==o.type&&e.set(o.src,i)}return e},loadPredictedResourceMap:function(e,t,n){en.setResourceMap(e,null,n),en.loadResources(Object.keys(e),t)},getCSSResources:function(e){for(var t=[],e=Y(e),n=Array.isArray(e),r=0,e=n?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var o,i=o[0];"css"===(o=o[1]).type&&t.push(i)}return t},getBootloadPendingComponents:function(){for(var e,t=new Map,n=R,r=Array.isArray(n),o=0,n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=n.length)break;e=n[o++]}else{if((o=n.next()).done)break;e=o.value}V(e=e[0])||t.set(e,en.getComponentDebugState(e))}return t},getComponentDebugState:function(e){var t=function(e){return!!A.getEventTime(e)};return{phases:{tierOne:t(A.tierOne(e)),tierTwo:t(A.tierTwo(e)),tierThree:t(A.tierThree(e)),beDone:t(A.beDone(e))},unresolvedDeps:n("__debug").debugUnresolvedDependencies([e]),nonJSDeps:null==(t=n("__debug").modulesMap[e])?void 0:t.nonJSDeps,hasError:null==(t=n("__debug").modulesMap[e])?void 0:t.hasError}},getBootloadedComponents:function(){for(var e=new Map,t=R,n=Array.isArray(t),r=0,t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var o,i=o[0];o=o[1],e.set(i,o.firstBootloadStart)}return e},notifyManuallyLoadedResourcesInWorker:function(e,t){for(var o in e)!function(o){var i=r("ResourceHasher").getValidResourceHash(o),a=e[i];if("js"===a.type||"css"===a.type){E.has(i)&&!n("BootloaderConfig").silentDups&&n("FBLogger")("bootloader").warn("Duplicate manual resource [%s]: %s",i,a.src),J(i,a,!0),"js"===a.type&&null!=a.tsrc&&""!==a.tsrc.trim()&&n("promiseDone")(r("MakeHasteTranslations").genFetchAndProcessTranslations(i,n("nullthrows")(a.tsrc))),v.set(i,(c||(c=n("performanceAbsoluteNow")))());var u=function(){return en.done(i)};o=t[i],"js"===a.type&&o?n("promiseDone")(o,u,function(){F(i,a,u)}):u()}}(o)},getResourceState:function(e){return{loadStart:v.get(e),loadEnd:y.get(e),loadError:b.get(e)}},getComponentTiming:function(e){var t;return{tierTwoStart:null!=(t=A.getEventTime(A.tierTwoStart(e)))?t:0,tierTwoEnd:null!=(t=A.getEventTime(A.tierTwo(e)))?t:0,tierThreeStart:null!=(t=A.getEventTime(A.tierThreeStart(e)))?t:0,tierThreeEnd:null!=(t=A.getEventTime(A.tierThree(e)))?t:0}},getLoadedResourceCount:function(){return y.size},getErrorCount:function(){return b.size},forceFlush:function(){n("BootloaderEndpoint").forceFlush()},__debug:{componentMap:S,requested:v,resources:E,riMap:_,retries:D.getAllRetryAttempts_FOR_DEBUG_ONLY(),errors:b,loaded:y,bootloaded:R,queuedToMarkAsImmediate:p,_resolveCSRs:Y,_possibleRsrcIndexMap:C,revMap:w,_getQueuedLoadModules:function(){return m},_dequeueLoadModules:function(e){if((e=m.splice(e,1)).length){var t=(e=e[0])[0],n=e[1],r=e[2];e=e[3];var o=h,i=P;h=!1,P=!0,e(function(){en.loadModules.apply(en,[t,n,r])}),h=o,P=i}}}};n("JSResourceReferenceImpl").setBootloader(en),i=en,a.default=i},98),__d("CSRFGuard",[],function(e,t,n,r,o,i){var a=/^for ?\(;;\);/;function e(e){return!!e.match(a)}function t(e){var t=e.match(a);return t?e.substr(t[0].length):t}r=(n="for (;;);").length,i.regex=a,i.length=r,i.exists=e,i.clean=t},66),__d("ImmediateImplementation",["ImmediateImplementationExperiments"],function(e,t,n,r,o,i){!function(e,n){var r,o,a,u,l=1,s={},c={},f=c,d=!1,p=e.document,h="setImmediate$"+Math.random()+"$";function m(e){var t=e[0];return e=Array.prototype.slice.call(e,1),s[l]=function(){t.apply(void 0,e)},(f=f.next={handle:l++}).handle}function g(){for(var e,t;!d&&(e=c.next);)if(c=e,t=s[e.handle]){d=!0;try{t(),d=!1}finally{v(e.handle),d&&(d=!1,c.next&&o(g))}}}function v(e){delete s[e]}function n(){if(e.postMessage&&!e.importScripts){var t=!0,n=function n(){t=!1,e.removeEventListener?e.removeEventListener("message",n,!1):e.detachEvent("onmessage",n)};if(e.addEventListener)e.addEventListener("message",n,!1);else{if(!e.attachEvent)return!1;e.attachEvent("onmessage",n)}return e.postMessage("","*"),t}}function y(){var t=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(h)&&g()};e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),a=o=function(){var t=m(arguments);return e.originalPostMessage?e.originalPostMessage(h+t,"*"):e.postMessage(h+t,"*"),t}}function b(){var e=new MessageChannel,t=!1;e.port1.onmessage=function(e){t=!1,g()},u=o=function(){var n=m(arguments);return t||(e.port2.postMessage(n),t=!0),n}}n()?e.MessageChannel&&t("ImmediateImplementationExperiments").prefer_message_channel?(y(),b(),o=function(){var t;return(t=e.event)&&(t.isTrusted&&["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"].includes(t.type)||"message"===t.type&&t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(h))?a.apply(null,arguments):u.apply(null,arguments)}):y():e.MessageChannel?b():p&&p.createElement&&"onreadystatechange"in p.createElement("script")?(r=p.documentElement,o=function(){var e=m(arguments),t=p.createElement("script");return t.onreadystatechange=function(){t.onreadystatechange=null,r.removeChild(t),t=null,g()},r.appendChild(t),e}):o=function(){return setTimeout(g,0),m(arguments)},i.setImmediate=o,i.clearImmediate=v}("undefined"==typeof self?void 0===e?this:e:self)},null),__d("clearImmediatePolyfill",["ImmediateImplementation"],function(e,t,n,r,o,i){n=e.clearImmediate||t("ImmediateImplementation").clearImmediate,i.default=n},66),__d("clearImmediate",["clearImmediatePolyfill"],function(e,t,n,r,o,i,a){function e(e){n("clearImmediatePolyfill")(e)}a.default=e},98),__d("CurrentAdAccount",["CurrentAdAccountInitialData"],function(e,t,n,r,o,i,a){t=e={LOGGED_OUT:"0",getID:function(){return n("CurrentAdAccountInitialData").AD_ACCOUNT_ID}},a.default=t},98),__d("CurrentCommunity",["CurrentCommunityInitialData"],function(e,t,n,r,o,i){n=e={getID:function(){return t("CurrentCommunityInitialData").COMMUNITY_ID||"0"},getName:function(){return t("CurrentCommunityInitialData").COMMUNITY_NAME||""}},i.default=n},66),__d("isMessengerDotComURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)messenger\\.com$","i"),u=["https"];function e(e){return(!e.isEmpty()||"#"===e.toString())&&!!(e.getDomain()||e.getProtocol())&&-1!==u.indexOf(e.getProtocol())&&a.test(e.getDomain())}i.default=e},66),__d("isWorkplaceDotComURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)workplace\\.com$","i");function e(e){return"https"===e.getProtocol()&&a.test(e.getDomain())}i.default=e},66),__d("DTSGUtils",["SprinkleConfig","isCdnURI","isFacebookURI","isMessengerDotComURI","isOculusDotComURI","isWorkplaceDotComURI"],function(e,t,n,r,o,i){e={getNumericValue:function(e){for(var n=0,r=0;r<e.length;r++)n+=e.charCodeAt(r);return r=n.toString(),t("SprinkleConfig").should_randomize?r:t("SprinkleConfig").version+r},shouldAppendToken:function(e){return!t("isCdnURI")(e)&&!e.isSubdomainOfDomain("fbsbx.com")&&(t("isFacebookURI")(e)||t("isMessengerDotComURI")(e)||t("isWorkplaceDotComURI")(e)||t("isOculusDotComURI")(e)||e.isSubdomainOfDomain("freebasics.com")||e.isSubdomainOfDomain("discoverapp.com"))}},o.exports=e},null),__d("ge",[],function(e,t,n,r,o,i){function e(e,t,n){return"string"!=typeof e?e:t?function e(t,n,r){var o;if(a(n)==t)return n;if(n.getElementsByTagName){for(o=0,r=n.getElementsByTagName(r||"*");o<r.length;o++)if(a(r[o])==t)return r[o]}else for(o=0,r=n.childNodes;o<r.length;o++)if(n=e(t,r[o]))return n;return null}(e,t,n):document.getElementById(e)}function a(e){return e.getAttribute?e.getAttribute("id"):null}i.default=e},66),__d("replaceTransportMarkers",["BanzaiLazyQueue","ge","memoize"],function(e,t,n,r,o,i,a){var u=new Set;a.default=function e(o,i,a){var l,s=void 0!==a?i[a]:i;if(Array.isArray(s))for(l=0;l<s.length;l++)e(o,s,l);else if(s&&"object"==typeof s){if(s.__m)s.__lazy?i[a]=n("memoize")(t.bind(null,s.__m)):i[a]=t.call(null,s.__m);else if(s.__jsr)i[a]=new(t.call(null,"JSResourceReferenceImpl"))(s.__jsr).__setRef("replaceTransportMarkers");else if(s.__dr)i[a]=new(t.call(null,"RequireDeferredReference"))(s.__dr).__setRef("replaceTransportMarkers");else if(s.__rc)null===s.__rc[0]?i[a]=null:i[a]=t.call(null,s.__rc[0]),s.__rc[1]&&(u.has(s.__rc[1])||(u.add(s.__rc[1]),r("BanzaiLazyQueue").queuePost("require_cond_exposure_logging",{identifier:s.__rc[1]})));else if(s.__e)i[a]=n("ge")(s.__e);else if(s.__rel)i[a]=o.relativeTo;else if(s.__bigPipeContext)i[a]=o.bigPipeContext;else if(s.__bbox)i[a]=s.__bbox;else{for(l in s)e(o,s,l);s.__map?i[a]=new Map(s.__map):s.__set?i[a]=new Set(s.__set):s.__imm&&(o=(l=s.__imm).method,s=l.value,i[a]=t.call(null,"immutable")[o](s))}}}},98),__d("ServerJSDefine",["BitMap","replaceTransportMarkers"],function(e,t,n,r,o,i,a){var u=new(n("BitMap")),l={getLoadedModuleHash:function(){return u.toCompressedString()},getModuleNameAndHash:function(e){return{hash:(e=e.split("@"))[1],name:e[0]}},handleDefine:function(e,t,r,o,i){o>=0&&u.set(o),define(e,t,function(t,a,u,l,s){if(t={data:r},n("replaceTransportMarkers")({relativeTo:i},t),-42===o)throw Error(e+": "+("string"==typeof(a=null!=r&&"object"==typeof r&&r.__throw8367__)?a:""));s.exports=t.data},10)},handleDefines:function(e,t){e.forEach(function(e){var n;n=null!=t?[].concat(e,[t]):[].concat(e,[null]),l.handleDefine.apply(null,n)})}};e=l,a.default=e},98),__d("StaticSiteData",[],function(e,t,n,r,o,i){e=Object.freeze({hs_key:"__hs",connection_class_server_guess_key:"__ccg",dpr_key:"dpr",spin_rev_key:"__spin_r",spin_time_key:"__spin_t",spin_branch_key:"__spin_b",spin_mhenv_key:"__spin_dev_mhenv",lite_iframe_locale_override_key:"__ltif_locale",weblite_key:"__wblt",weblite_iframe_key:"__wbltif",kite_key:"__ktif",kite_legacy_key:"_ktif",haste_session_id_key:"__hsi",jsmod_key:"__dyn",csr_key:"__csr",comet_key:"__comet_req"}),i.default=e},66),__d("Alea",[],function(e,t,n,r,o,i){function e(){for(var e=0,t=0,n=0,r=1,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var u,l,s=i.length>0?i:[new Date],c=(u=4022871197,(l=function(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(u+=e.charCodeAt(t));u=n>>>0,n-=u,n*=u,u=n>>>0,n-=u,u+=4294967296*n}return(u>>>0)*23283064365386963e-26}).version="Mash 0.9",l);e=c(" "),t=c(" "),n=c(" ");for(var f=0;f<s.length;f++)(e-=c(s[f]))<0&&(e+=1),(t-=c(s[f]))<0&&(t+=1),(n-=c(s[f]))<0&&(n+=1);c=null;var d=function(){var o=2091639*e+23283064365386963e-26*r;return e=t,t=n,n=o-(r=0|o)};return d.version="Alea 0.9",d.args=s,d}i.default=e},66),__d("Random",["Alea","ServerNonce"],function(e,t,n,r,o,i){var a,u=t("ServerNonce").ServerNonce;function l(){return null==a&&(a=t("Alea")(u)),a}var s={random:function(){var t="function"==typeof Uint32Array?new Uint32Array(1):null,n=e.crypto||e.msCrypto;if(null!=t)try{var r=null==n?void 0:n.getRandomValues;if("function"==typeof r){var o=r.bind(n);return function(){try{o(t)}catch(e){return l()()}return t[0]/4294967296}}}catch(i){}return l()}(),uint32:function(){return Math.floor(4294967296*s.random())},coinflip:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return 0!==e&&(e<=1||s.random()*e<=1)})};o.exports=s},null),__d("WebSessionDefaultTimeoutMs",[],function(e,t,n,r,o,i){e=35e3,i.default=e},66),__d("CookieConsent",["CookieConsentIFrameConfig","InitialCookieConsent","gkx"],function(e,t,n,r,o,i,a){var u,l=new Set((u||(u=n("InitialCookieConsent"))).initialConsent),s=u.shouldShowCookieBanner,c={setConsented:function(){l.add(1),s=!1},hasConsent:function(e){return l.has(e)},shouldShowCookieBanner:function(){return s},shouldWaitForDeferredDatrCookie:function(){return(u||(u=n("InitialCookieConsent"))).shouldWaitForDeferredDatrCookie},isFirstPartyStorageAllowed:function(){return!(u||(u=n("InitialCookieConsent"))).noCookies&&c.hasConsent(1)},isThirdPartyEmbedAllowed:function(){return!(u||(u=n("InitialCookieConsent"))).noCookies&&c.hasConsent(2)},isThirdPartyIframeAllowed:function(e){return!!(c.isFirstPartyStorageAllowed()||n("CookieConsentIFrameConfig").is_checkpointed&&n("gkx")("9962"))&&(!!n("CookieConsentIFrameConfig").allowlisted_iframes.includes(e.id)||c.hasConsent(2))}};e=c,a.default=e},98),__d("isQuotaExceededError",[],function(e,t,n,r,o,i){function a(t){return Boolean(t instanceof e.DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name))}function t(e,t){return Boolean(a(t)&&e&&0!==e.length)}i.isQuotaExceededError=a,i.isStorageQuotaExceededError=t},66),__d("WebStorage",["CookieConsent","FBLogger","err","isQuotaExceededError"],function(e,t,n,r,o,i,a){var u,l={},s={},c="localStorage",f="sessionStorage",d=!1,p="undefined"!=typeof window?window:self;function h(e,t,r){return(u||(u=n("CookieConsent"))).isFirstPartyStorageAllowed()?(Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t(r)),e[r]):(d||(n("FBLogger")("web_storage").warn("Failed to get %s because of missing cookie consent",r.toString()),d=!0),null)}function m(e){try{return p[e]}catch(t){n("FBLogger")("web_storage").warn("Failed to get storage for read %s",t.message)}return null}function g(e){var t=null;try{if(t=p[e],null==t||"function"!=typeof t.setItem||"function"!=typeof t.removeItem)return null;var o="__test__"+Date.now();t.setItem(o,""),t.removeItem(o)}catch(i){if(!1===r("isQuotaExceededError").isStorageQuotaExceededError(t,i))return n("FBLogger")("web_storage").catching(i).warn("Failed to get WebStorage of type `%s`",e),null}return t}function v(e){var t=null;try{t=p[e],null!=t&&"function"==typeof t.setItem&&"function"==typeof t.removeItem&&(e="__test__"+Date.now(),t.setItem(e,""),t.removeItem(e))}catch(n){if(!0===r("isQuotaExceededError").isStorageQuotaExceededError(t,n))return!0}return!1}function y(e,t,r){if(null==e)return Error("storage cannot be null");var o=null;try{e.setItem(t,r)}catch(i){var a=(function e(t){for(var n=[],r=0;r<t.length;r++)n.push(t.key(r)||"");return n})(e).map(function(t){var n=(e.getItem(t)||"").length;return t+"("+n+")"});o=n("err")("%sStorage quota exceeded while setting %s(%s). Items(length) follows: %s",i.name?i.name+": ":"",t,r.length,a.join())}return o}t=e={getLocalStorage:function(){return h(l,g,c)},getAllowlistedKeyFromLocalStorage:function(e){var t;return null==(t=h(s,m,c))?void 0:t.getItem(e)},getSessionStorage:function(){return h(l,g,f)},getAllowlistedKeyFromSessionStorage:function(e){var t;return null==(t=h(s,m,f))?void 0:t.getItem(e)},getLocalStorageForRead:function(){return h(s,m,c)},getSessionStorageForRead:function(){return h(s,m,f)},isLocalStorageQuotaExceeded:function(){return v(c)},isSessionStorageQuotaExceeded:function(){return v(f)},setItemGuarded:y,setAllowlistedKeyToLocalStorage:function(e,t,n){return y(e,t,n)},clearCaches:function(){l={},s={}}},a.default=t},98),__d("WebSession",["FBLogger","Random","WebSessionDefaultTimeoutMs","WebStorage"],function(e,t,n,r,o,i,a){function u(e){return null==e||!1===Number.isFinite(e)||e<=0?null:e}function l(e){return null==e?null:6!==e.length?(n("FBLogger")("web_session").warn("Expected the web session id to be a %d character string. It was %d character(s). Received `%s`.",6,e.length,e),null):!1===/^[a-z0-9]+$/.test(e)?(n("FBLogger")("web_session").warn("Expected the web session ID to be a base-%d encoded string. Received `%s`.",36,e),null):e}function s(){var e=Math.floor(2176782336*r("Random").random());return e=e.toString(36),"0".repeat(6-e.length)+e}var c,f=null;function d(){return null==f&&(f=s()),f}function p(e){void 0===e&&(e=Date.now());var t=(c||(c=n("WebStorage"))).getLocalStorageForRead();if(null==t)return null;try{return(t=function e(t){if(null==t)return null;if("string"!=typeof t&&t instanceof String==!1)return n("FBLogger")("web_session").warn("A non-string value was passed to `coerceSession`. This should be impossible according to this method's Flow type. The value was `%s`.",t),null;var r=(t=t.split(":"))[0];return t=function e(t){if(null==t)return null;var r=parseInt(t,10);return""+r!==t?(n("FBLogger")("web_session").warn("Expected the web session expiry time to parse as an integer. Found `%s`.",String(t)),null):u(r)}(t=t[1]),r=l(r),null==t||null==r?null:{expiryTime:t,id:r}}(t.getItem("Session")))&&e<t.expiryTime?t:null}catch(r){return null}}function e(e){if(void 0!==e&&null==u(e)){n("FBLogger")("web_session").warn("`WebSession.extend()` was passed an invalid target expiry time `%s`.",e);return}var t=Date.now();e=null!=e?e:t+n("WebSessionDefaultTimeoutMs");var r=p(t);r&&r.expiryTime>=e||e<=t||null==(t=(c||(c=n("WebStorage"))).getLocalStorage())||(r=null==r?s():r.id,(c||(c=n("WebStorage"))).setItemGuarded(t,"Session",r+":"+e))}function h(){var e;return null==(e=p())?void 0:e.id}function t(){var e,t,r=d();return(e=null!=(e=h())?e:"")+":"+(t=null!=(t=function e(){var t=(c||(c=n("WebStorage"))).getSessionStorageForRead();if(null==t)return null;if(null==(t=l(t.getItem("TabId")))){var r=(c||(c=n("WebStorage"))).getSessionStorage();if(null==r)return null;var o=s();return c.setItemGuarded(r,"TabId",o),o}return t}())?t:"")+":"+r}function o(){return d()}a.extend=e,a.getSessionId=h,a.getId=t,a.getPageId_DO_NOT_USE=o},98),__d("asyncParams",[],function(e,t,n,r,o,i){var a={};function e(e,t){a[e]=t}function t(){return a}i.add=e,i.get=t},66),__d("getAsyncParamsFromCurrentPageURI",[],function(e,t,n,r,o,i){var a={locale:!0,cxobfus:!0,js_debug:!0,cquick:!0,cquick_token:!0,wdplevel:!0,prod_graphql:!0,sri:!0},u={ctarget:!0,hl:!0,gk_enable:!0,gk_disable:!0};function e(){var e={};return window.location.search.slice(1).split("&").forEach(function(t){var n=(t=t.split("="))[0];t=t[1],("tfc_"===n.substr(0,4)||"tfi_"===n.substr(0,4)||"mh_"===n.substr(0,3)||a[n]>-1||u[n]>-1)&&(u[n]>-1?e[n]=decodeURIComponent(t):e[n]=t)}),e}i.default=e},66),__d("CSSCore",["invariant"],function(e,t,n,r,o,i,a,u){function l(e,t){return/\s/.test(t)&&u(0,11794,t),t&&(e.classList?e.classList.add(t):c(e,t)||(e.className=e.className+" "+t)),e}function s(e,t){return/\s/.test(t)&&u(0,11795,t),t&&(e.classList?e.classList.remove(t):c(e,t)&&(e.className=e.className.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e}function e(e,t,n){return(n?l:s)(e,t)}function c(e,t){return/\s/.test(t)&&u(0,442),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function t(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return function e(t,n){for(var r=t;r.parentNode;)r=r.parentNode;return r instanceof Element&&(r=r.querySelectorAll(n),-1!==Array.prototype.indexOf.call(r,t))}(e,t)}).call(e,t)}a.addClass=l,a.removeClass=s,a.conditionClass=e,a.hasClass=c,a.matchesSelector=t},98),__d("isSocialPlugin",["CSSCore","ExecutionEnvironment"],function(e,t,n,r,o,i,a){var u;function e(){return!!(u||(u=n("ExecutionEnvironment"))).canUseDOM&&!!document.body&&r("CSSCore").hasClass(document.body,"plugin")}a.default=e},98),__d("uniqueRequestID",[],function(e,t,n,r,o,i){var a=1;function e(){return(a++).toString(36)}i.default=e},66),__d("getAsyncParams",["CSRBitMap","CometPersistQueryParams","CurrentAdAccount","CurrentBusinessUser","CurrentCommunity","CurrentUserInitialData","DTSGUtils","Env","ISB","JSErrorLoggingConfig","LSD","ServerJSDefine","SiteData","SprinkleConfig","StaticSiteData","WebConnectionClassServerGuess","WebSession","asyncParams","cr:8959","cr:8960","getAsyncParamsFromCurrentPageURI","isSocialPlugin","requireWeak","uniqueRequestID"],function(e,t,n,r,o,i,a){var u,l;function e(e,o){void 0===o&&(o=!1);var i,a=babelHelpers.extends({},r("asyncParams").get(),((i={__user:(u||(u=n("CurrentUserInitialData"))).USER_ID,__a:1,__req:n("uniqueRequestID")()})[n("StaticSiteData").hs_key]=n("SiteData").haste_session,i[n("StaticSiteData").dpr_key]=n("SiteData").pr,i[n("StaticSiteData").connection_class_server_guess_key]=n("WebConnectionClassServerGuess").connectionClass,i.__rev=n("SiteData").client_revision,i.__s=r("WebSession").getId(),i[n("StaticSiteData").haste_session_id_key]=n("SiteData").hsi,i));return o||(a[n("StaticSiteData").jsmod_key]=n("ServerJSDefine").getLoadedModuleHash(),a[n("StaticSiteData").csr_key]=r("CSRBitMap").toCompressedString()),!n("SiteData").wbloks_env&&(null!=n("SiteData").comet_env&&0!==n("SiteData").comet_env||n("SiteData").is_comet)&&(a[n("StaticSiteData").comet_key]=null!=(i=n("SiteData").comet_env)?i:1),Object.entries(n("CometPersistQueryParams").relative).forEach(function(e){var t=e[0];null!=(e=e[1])&&(a[t]=String(e))}),"undefined"!=typeof window&&(null==(o=window)?void 0:o.location)!=null&&Object.assign(a,n("getAsyncParamsFromCurrentPageURI")()),(l||(l=n("Env"))).isCQuick&&!a.cquick&&(a.cquick=(l||(l=n("Env"))).iframeKey,a.ctarget=l.iframeTarget,a.cquick_token=l.iframeToken),"POST"==e&&((i=t("cr:8959").getCachedToken?t("cr:8959").getCachedToken():t("cr:8959").getToken())&&(a.fb_dtsg=i,n("SprinkleConfig").param_name&&(a[n("SprinkleConfig").param_name]=n("DTSGUtils").getNumericValue(i))),n("LSD").token&&(a.lsd=n("LSD").token,n("SprinkleConfig").param_name&&!i&&(a[n("SprinkleConfig").param_name]=n("DTSGUtils").getNumericValue(n("LSD").token)))),"GET"==e&&(o=t("cr:8960").getCachedToken?t("cr:8960").getCachedToken():t("cr:8960").getToken())&&(a.fb_dtsg_ag=o,n("SprinkleConfig").param_name&&(a[n("SprinkleConfig").param_name]=n("DTSGUtils").getNumericValue(o))),n("ISB").token&&(a.fb_isb=n("ISB").token),"0"!==n("CurrentCommunity").getID()&&(a.__cid=n("CurrentCommunity").getID()),null!=n("CurrentAdAccount").getID()&&(a.__aaid=n("CurrentAdAccount").getID()),null!=n("CurrentBusinessUser").business_id&&(a.__bid=n("CurrentBusinessUser").business_id),n("isSocialPlugin")()&&(a.__sp=1),n("SiteData").spin&&(a[(i=n("StaticSiteData")).spin_rev_key]=n("SiteData")[i.spin_rev_key],a[i.spin_branch_key]=n("SiteData")[i.spin_branch_key],a[i.spin_time_key]=n("SiteData")[i.spin_time_key],n("SiteData")[n("StaticSiteData").spin_mhenv_key]&&(a[n("StaticSiteData").spin_mhenv_key]=n("SiteData")[n("StaticSiteData").spin_mhenv_key])),null!=r("JSErrorLoggingConfig").sampleWeight&&null!=r("JSErrorLoggingConfig").sampleWeightKey&&(a[r("JSErrorLoggingConfig").sampleWeightKey]=r("JSErrorLoggingConfig").sampleWeight),n("requireWeak")("QPLUserFlow",function(e){(e=e.getActiveFlowIDs()).length>0&&(a.qpl_active_flow_ids=e.sort().join(","))}),a}a.default=e},98),__d("setImmediatePolyfill",["invariant","ImmediateImplementation","PromiseUsePolyfillSetImmediateGK"],function(e,t,n,r,o,i,a){var u=e.setImmediate;function n(e){"function"==typeof e||a(0,5912);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.apply(void 0,[e].concat(n))}(t("PromiseUsePolyfillSetImmediateGK").www_always_use_polyfill_setimmediate||!u)&&(u=(r=t("ImmediateImplementation")).setImmediate),o.exports=n},null),__d("setImmediateAcrossTransitions",["TimeSlice","setImmediatePolyfill"],function(e,t,n,r,o,i,a){function e(e){for(var t=n("TimeSlice").guard(e,"setImmediate",{propagationType:n("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0}),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n("setImmediatePolyfill").apply(void 0,[t].concat(o))}a.default=e},98),__d("BootloaderEndpoint",["Bootloader","BootloaderEndpointConfig","CSRFGuard","FBLogger","HasteResponse","TimeSlice","clearImmediate","fb-error","getAsyncParams","getSameOriginTransport","performanceAbsoluteNow","setImmediateAcrossTransitions"],function(e,t,n,r,o,i){var a,u=t("fb-error").ErrorXFBDebug,l=t("BootloaderEndpointConfig").endpointURI,s=0,c=null,f=null,d=new Map,p=new Map;function h(e){return Array.from(e.keys()).join(",")}function m(){var e=d,n=p;t("clearImmediate")(f),f=null,c=null,d=new Map,p=new Map,function e(n,r){if(0!==n.size||0!==r.size){var o,i,c,f=(o=n,i=r,c={},o.size&&(c.modules=h(o)),i.size&&(c.nb_modules=h(i)),o=Object.entries(babelHelpers.extends({},c,t("getAsyncParams")("GET"))).map(function(e){var t=e[0];return e=e[1],encodeURIComponent(t)+"="+encodeURIComponent(String(e))}).join("&"),l+(l.includes("?")?"&":"?")+o),d=t("getSameOriginTransport")(),p=s++,m=(a||(a=t("performanceAbsoluteNow")))();d.open("GET",f,!0);var g=t("TimeSlice").getGuardedContinuation("Bootloader _requestHastePayload");d.onreadystatechange=function(){4===d.readyState&&g(function(){u.addFromXHR(d);var e=200===d.status?JSON.parse(t("CSRFGuard").clean(d.responseText)):null;if(null==e){t("FBLogger")("bootloader").warn('Invalid bootloader response %d, blocking mods: %s; non-blocking mods: %s; "%s"',d.status,h(n),h(r),d.responseText.substr(0,256));return}if(e.error)t("FBLogger")("bootloader").warn("Non-fatal error from bootloader endpoint, blocking mods: %s; non-blocking mods: %s",h(n),h(r));else if(e.__error){t("FBLogger")("bootloader").warn("Fatal error from bootloader endpoint, blocking mods: %s; non-blocking mods: %s",h(n),h(r));return}t("TimeSlice").guard(function(){var o,i,u,l,s,c,d,g,v;return o=f,i=e,u=n,l=r,s=p,c=m,d=(a||(a=t("performanceAbsoluteNow")))(),g=i.serverGenTime,v=i.hrp,void(null==v&&(t("FBLogger")("be_null_hrp").mustfix("Found null hrp, blocking mods: %s; non-blocking mods: %s; response error: %s",h(u),h(l),i.error+", summary: "+i.errorSummary+", description: "+i.errorDescription),v=i),t("HasteResponse").handle(v,{source:"bootloader_endpoint",sourceDetail:JSON.stringify({b:Array.from(u.keys()),n:Array.from(l.keys())}),onBlocking:function(){for(var e=[u,l],n=0;n<e.length;n++)for(var r,o=e[n],o=o.values(),i=Array.isArray(o),a=0,o=i?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(i){if(a>=o.length)break;r=o[a++]}else{if((a=o.next()).done)break;r=a.value}t("Bootloader").done(r)}},onLog:function(e){for(var n=[u,l],r=0;r<n.length;r++)for(var i,a=n[r],a=a.keys(),f=Array.isArray(a),p=0,a=f?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(f){if(p>=a.length)break;i=a[p++]}else{if((p=a.next()).done)break;i=p.value}t("Bootloader").beDone(i,s,babelHelpers.extends({requestStart:c,responseStart:d,serverGenTime:g,uri:o},e))}}}))},"Bootloader receiveEndpointData",{propagationType:t("TimeSlice").PropagationType.CONTINUATION})()})},d.send()}}(e,n)}e={load:function(e,n,r){var o;if((n?d:p).set(e,r),t("BootloaderEndpointConfig").debugNoBatching||!((o=t("BootloaderEndpointConfig").maxBatchSize)<=0)&&d.size+p.size>=o){m();return}null==f&&(c=t("TimeSlice").getGuardedContinuation("Schedule async batch request: Bootloader._loadResources"),f=t("setImmediateAcrossTransitions")(function(){c&&c(function(){return m()})}))},forceFlush:function(){c&&c(function(){return m()})}},o.exports=e},null),__d("MetaConfigMap",[],function(e,t,n,r,o,i){var a={};t=e={add:function(e,t){for(var n in e)t&&t.entry++,n in a?t&&t.dup_entry++:a[n]=e[n]},get:function(e){return a[e]}},i.default=t},66),__d("QPLHasteSupportDataStorage",[],function(e,t,n,r,o,i){var a={};e={add:function(e,t){Object.keys(e).forEach(function(n){if(t&&t.entry++,null==a[n]){var r=e[n];a[n]=r}else t&&t.dup_entry++})},get:function(e){return a[e]}},i.default=e},66),__d("bx",["unrecoverableViolation"],function(e,t,n,r,o,i,a){var u={};function e(e){var t=u[e];if(!t)throw n("unrecoverableViolation")('bx(...): Unknown file path "'+e+'"',"staticresources");return t}e.add=function(e,t){var n=!1;for(n in e)t&&t.entry++,n in u?t&&t.dup_entry++:(e[n].loggingID=n,u[n]=e[n])},e.getURL=function(e){return e.uri},a.default=e},98),__d("recoverableViolation",["FBLogger"],function(e,t,n,r,o,i,a){function e(e,t,r,o){return r=(r=void 0===r?{}:r).error,t=n("FBLogger")(t),t=r?t.catching(r):t.blameToPreviousFrame(),null!=(r=null==o?void 0:o.categoryKey)&&(t=t.addToCategoryKey(r)),(o=null!=(r=null==o?void 0:o.trackOnly)&&r)?t.debug(e):t.mustfix(e),null}a.default=e},98),__d("getFalcoLogPolicy_DO_NOT_USE",["recoverableViolation"],function(e,t,n,r,o,i,a){var u={r:1},l={};function e(e){var t=l[e];return null==t?(n("recoverableViolation")("Failed to find a Haste-supplied log policy for the Falco event ' +\n        'identified by token `"+e+"`. Failing open (ie. with a sampling rate of 1.0).","staticresources"),u):t}e.add=function(e,t){Object.keys(e).forEach(function(n){t&&t.entry++,null==l[n]?l[n]=e[n]:t&&t.dup_entry++})},a.default=e},98),__d("ix",["invariant"],function(e,t,n,r,o,i,a,u){var l={},s=new Set;function t(e){var t=l[e];return t||u(0,11798,e),t}t.add=function(e,t){var n=!1;for(n in e)t&&t.entry++,n in l?t&&t.dup_entry++:(e[n].loggingID=n,l[n]=e[n])},t.getUsedPaths_ONLY_FOR_REACT_FLIGHT=function(){return"flight"===e.__flight_execution_mode_DO_NOT_USE||u(0,34547),Array.from(s)},t.getAllPaths=function(){var e=new Set;return Object.values(l).map(function(e){return(null==e?void 0:e.sprited)===0?e.uri:(null==e?void 0:e.sprited)===1?e._spi:(null==e?void 0:e.sprited)===2?e.spi:void 0}).forEach(function(t){return null!=t&&e.add(t)}),e},a.default=t},98),__d("justknobx",["invariant"],function(e,t,n,r,o,i,a,u){var l={};t=e={getBool:function(e){u(0,47459)},getInt:function(e){u(0,47459)},_:function(e){var t=l[e];return null!=t||u(0,47458,e),t.r},add:function(e,t){for(var n in e)t&&t.entry++,n in l?t&&t.dup_entry++:l[n]=e[n]}},a.default=t},98),__d("qex",["invariant","BanzaiLazyQueue"],function(e,t,n,r,o,i,a,u){var l={},s={};t=e={_:function(e){var t=l[e];null!=t||u(0,11799,e);var n=t.r;return null==(t=t.l)||s[e]||(s[e]=!0,r("BanzaiLazyQueue").queuePost("qex",{l:t})),n},add:function(e,t){for(var n in e)t&&t.entry++,n in l?t&&t.dup_entry++:l[n]=e[n]}},a.default=t},98),__d("HasteSupportData",["ix","MetaConfigMap","QPLHasteSupportDataStorage","bx","getFalcoLogPolicy_DO_NOT_USE","gkx","justknobx","qex"],function(e,t,n,r,o,i,a,u){function e(e,t){var r=e.bxData,o=e.clpData,i=e.gkxData,a=e.ixData,l=e.metaconfigData,s=e.qexData,c=e.qplData;e=e.justknobxData,null!=r&&n("bx").add(r,t),null!=o&&n("getFalcoLogPolicy_DO_NOT_USE").add(o,t),null!=i&&n("gkx").add(i,t),null!=a&&u.add(a,t),null!=l&&n("MetaConfigMap").add(l,t),null!=s&&n("qex").add(s,t),null!=c&&n("QPLHasteSupportDataStorage").add(c,t),null!=e&&n("justknobx").add(e,t)}a.handle=e},98),__d("Parent",["CSSCore"],function(e,t,n,r,o,i,a){function e(e,t){return t=t.toUpperCase(),(e=l(e,function(e){return e.nodeName===t}))instanceof Element?e:null}function t(e,t){return(e=l(e,function(e){return e instanceof Element&&r("CSSCore").hasClass(e,t)}))instanceof Element?e:null}function n(e,t){if("function"==typeof e.matches){for(;e&&e!==document&&!e.matches(t);)e=e.parentNode;return e instanceof Element?e:null}if("function"!=typeof e.msMatchesSelector)return u(e,t);for(;e&&e!==document&&!e.msMatchesSelector(t);)e=e.parentNode;return e instanceof Element?e:null}function u(e,t){for(var n=e;n.parentNode;)n=n.parentNode;if(!(n instanceof Element)&&!(n instanceof Document))return null;for(n=n.querySelectorAll(t);e&&-1===Array.prototype.indexOf.call(n,e);)e=e.parentNode;return e instanceof Element?e:null}function o(e,t){return(e=l(e,function(e){return e instanceof Element&&!!e.getAttribute(t)}))instanceof Element?e:null}function l(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}a.byTag=e,a.byClass=t,a.bySelector=n,a.bySelector_SLOW=u,a.byAttribute=o,a.find=l},98),__d("ContextualComponent",["Parent"],function(e,t,n,r,o,i,a){(e=function(){function e(e){var t=e.element,n=e.isRoot;e=e.parent,this.$2=n,this.$3=t,this.$4=e,this.$5=new Set,this.$6=[],this.$7=[],this.$8()}e.forNode=function(t){return e.$1.get(t)||null},e.closestToNode=function(t){return(t=r("Parent").find(t,function(t){return!!e.forNode(t)}))?e.forNode(t):null},e.register=function(t){return new e(t)};var t=e.prototype;return t.onCleanup=function(e){this.$6.push(e)},t.onUnmount=function(e){this.$7.push(e)},t.cleanup=function(){this.$5.forEach(function(e){return e.cleanup()}),this.$6.forEach(function(e){return e()}),this.$6=[]},t.unmount=function(){this.cleanup(),this.$5.forEach(function(e){return e.unmount()}),this.$7.forEach(function(e){return e()}),this.$7=[];var t=this.$4;t&&(e.$1.delete(this.$3),t.$9(this))},t.reinitialize=function(){var t=this.$4;t&&(t.$9(this),this.$4=void 0),e.$1.delete(this.$3),this.$8()},t.$8=function(){if(!this.$2&&!this.$4){var t=e.closestToNode(this.$3);t&&(this.$4=t)}this.$4&&this.$4.$10(this),e.$1.set(this.$3,this)},t.$10=function(e){this.$5.add(e)},t.$9=function(e){this.$5.delete(e)},e}()).$1=new Map,a.default=e},98),__d("ServerJS",["ContextualComponent","ErrorGuard","ServerJSDefine","__debug","err","ge","replaceTransportMarkers"],function(e,t,n,r,o,i){var a,u=16,l=0;function s(e,t){return e.serverHash=t,e}function c(e,t,n){return e.map(function(e){return t.apply(n,e)})}function f(e,n){var r=t("ServerJSDefine").getModuleNameAndHash(n[0]);(r=r.name)in e||(n[2]=(n[2]||0)+1),e[r]=!0}e=function(){function e(){this.$2={},this.$1=null,this.$4={},this.$3=void 0}var n=e.prototype;return n.handle=function(e,t){return this.$5(e,t,c)},n.handleWithCustomApplyEach=function(e,t,n){this.$5(t,n,e)},n.$5=function(e,n,r){if(this.$3=n,null!=e.__guard)throw t("err")("ServerJS.handle called on data that has already been handled");e.__guard=!0,r(e.define||[],this.$6,this),r(e.markup||[],this.$7,this),r(e.elements||[],this.$8,this),this.$9(e.contexts||[]),r(e.instances||[],this.$10,this);var o=r(e.pre_display_requires||[],this.$11,this);return o=o.concat(r(e.require||[],this.$11,this)),{cancel:function(){o.forEach(function(e){e&&e.cancel()})}}},n.handlePartial=function(e,n){var r=this;return(e.instances||[]).forEach(function(e){var n,o,i;n=r.$2,o=e,i=t("ServerJSDefine").getModuleNameAndHash(o[0]),(i=i.name)in n||(o[3]=(o[3]||0)+1),n[i]=!0}),(e.markup||[]).forEach(function(e){f(r.$2,e)}),(e.elements||[]).forEach(function(e){f(r.$2,e)}),this.handle(e,n)},n.setRelativeTo=function(e){return this.$1=e,this},n.cleanup=function(e){var n=Object.keys(this.$2);function o(e){var n=this.$4[e],r=n[0],o=n[1];throw n=n[2],delete this.$4[e],o=o?'JS::call("'+r+'", "'+o+'", ...)':'JS::requireModule("'+r+'")',r=t("__debug").debugUnresolvedDependencies([r,e]),s(t("err")("%s did not fire because it has missing dependencies.\n%s",o,r),n)}for(e in e?r.call(null,n,e.guard(function(){},"SeverJS Cleanup requireLazy",{propagationType:e.PropagationType.ORPHAN})):r.call(null,n,function(){}),this.$2={},this.$4)(a||(a=t("ErrorGuard"))).applyWithGuard(o,this,[e],{name:"ServerJS:cleanup id: "+e,project:"ServerJSCleanup"})},n.$6=function(e,n,r,o){return(a||(a=t("ErrorGuard"))).applyWithGuard(t("ServerJSDefine").handleDefine,t("ServerJSDefine"),[e,n,r,o,this.$1],{name:"JS::define"})},n.$11=function(e,n,r,o){return(a||(a=t("ErrorGuard"))).applyWithGuard(this.$12,this,[e,n,r,o],{name:null!=n?"JS::call":"JS::requireModule"})},n.$12=function(e,n,r,o){var i,c,f=this,d=(e=t("ServerJSDefine").getModuleNameAndHash(e)).name,p=e.hash;"object"==typeof n?e=n:(e=r,c=n),r=[d].concat(e||[]),i=null!=c?"__call__"+d+"."+c:null!=o?"__call__"+d:"__requireModule__"+d,i+="__"+l++,this.$4[i]=[d,c,p];var h=this.$3&&this.$3.bigPipeContext,m=(a||(a=t("ErrorGuard"))).guard(function(e){if(e=t.call(null,d),delete f.$4[i],o&&t("replaceTransportMarkers")({relativeTo:f.$1,bigPipeContext:h},o),null!=c){if(!e[c])throw s(t("err")('Module %s has no method "%s"',d,c),p)}else if(null!=o&&"function"!=typeof e)throw s(t("err")("Module %s is not a function but was called with args",d),p);var n=null!=c?e[c]:null!=o&&"function"==typeof e?e:null;null!=n&&(n.apply(e,o||[]),m.__SMmeta=n.__SMmeta||{},m.__SMmeta.module=m.__SMmeta.module||d,m.__SMmeta.name=m.__SMmeta.name||c)},{name:null!=c?"JS::call('"+d+"', '"+c+"', ...)":null!=o?"JS::call('"+d+"', ...)":"JS::requireModule('"+d+"')"});return n=define(i,r,m,1|u|2,this,1,this.$3)},n.$10=function(e,n,r,o){(a||(a=t("ErrorGuard"))).applyWithGuard(this.$13,this,[e,n,r,o],{name:"JS::instance"})},n.$13=function(e,n,r,o){var i=this,a=null,l=(e=t("ServerJSDefine").getModuleNameAndHash(e)).name;if(e=e.hash,n){var s=this.$3&&this.$3.bigPipeContext;a=function(){var e=t.call(null,n[0]);t("replaceTransportMarkers")({relativeTo:i.$1,bigPipeContext:s},r);var o=Object.create(e.prototype);return e.apply(o,r),o}}define(l,n,a,2|u,null,o)},n.$7=function(e,n,r){(a||(a=t("ErrorGuard"))).applyWithGuard(this.$14,this,[e,n,r],{name:"JS::markup"})},n.$14=function(e,n,r){var o=(e=t("ServerJSDefine").getModuleNameAndHash(e)).name,i=e.hash;define(o,["HTML"],function(e){try{return e.replaceJSONWrapper(n).getRootNode()}catch(t){throw s(t,i)}},u,null,r)},n.$8=function(e,n,r,o){(a||(a=t("ErrorGuard"))).applyWithGuard(this.$15,this,[e,n,r,o],{name:"JS::element"})},n.$15=function(e,n,r,o){var i=(e=t("ServerJSDefine").getModuleNameAndHash(e)).name,a=e.hash;if(null===n&&null!=r){define(i,null,null,u,null,r);return}e=[];var l=u;r=r||0,null!=o&&(e.push(o),l|=1,r++),define(i,e,function(e){if(!(e=t("ge")(n,e)))throw s(t("err")('Could not find element "%s"%s',n,""),a);return e},l,null,r)},n.$9=function(e){(a||(a=t("ErrorGuard"))).applyWithGuard(this.$16,this,[e],{name:"ContextualComponents"})},n.$16=function(e){var n=this,r=this.$3&&this.$3.bigPipeContext;e.map(function(e){t("replaceTransportMarkers")({relativeTo:n.$1,bigPipeContext:r},e);var o=e[0];return[e,function e(t){for(var n=0;t;)t=t.parentElement,n++;return n}(o)]}).sort(function(e,t){return e[1]-t[1]}).forEach(function(e){var n=(e=e[0])[0];e=e[1],t("ContextualComponent").register({element:n,isRoot:e})})},e}(),o.exports=e},null),__d("HasteResponse",["Bootloader","BootloaderEvents","ClientConsistencyEventEmitter","HasteSupportData","ServerJS","TimeSlice","__debug","fb-error","performanceAbsoluteNow"],function(e,t,n,r,o,i){var a,u=t("fb-error").getSimpleHash,l=new Set,s={handleSRPayload:function(e,n){var r=e.hsdp;e=e.hblp,r&&t("HasteSupportData").handle(r,null==n?void 0:n.hsdp),e&&t("Bootloader").handlePayload(e,null==n?void 0:n.hblp),(null==e?void 0:e.consistency)!=null&&t("ClientConsistencyEventEmitter").emit("newEntry",e.consistency)},handle:function(e,n){var r=e.jsmods,o=e.allResources;e=e.hsrp;var i=n.source,c=n.sourceDetail,f=n.onBlocking,d=n.onLog;n=n.onAll;var p,h=(a||(a=t("performanceAbsoluteNow")))();if(null==c)p=!0;else{var m=u(i,c);l.has(m)?p=!1:(p=!0,l.add(m))}var g={hsdp:{entry:0,dup_entry:0},hblp:{rsrc:0,dup_rsrc:0,comp:0,dup_comp:0},sjsp:{define:0,dup_user_define:0,dup_system_define:0,require:0}};e&&s.handleSRPayload(e,g);var v=0,y=0;t("Bootloader").loadResources(null!=(m=o)?m:[],{onBlocking:function(){g.sjsp.require+=((null==r?void 0:r.require)||[]).length,g.sjsp.define+=((null==r?void 0:r.define)||[]).length;var e=t("__debug").getDupCount(),n=e[0];e=e[1],g.sjsp.dup_user_define-=n,g.sjsp.dup_system_define-=e,v=(a||(a=t("performanceAbsoluteNow")))(),new(t("ServerJS"))().handle(r||{}),y=a();var o=t("__debug").getDupCount();n=o[0],e=o[1],g.sjsp.dup_user_define+=n,g.sjsp.dup_system_define+=e,null==f||f()},onAll:n,onLog:function(e){e={source:i,sourceDetail:c,isFirstIdentical:p,timesliceContext:t("TimeSlice").getContext(),startTime:h,logTime:(a||(a=t("performanceAbsoluteNow")))(),jsmodsStart:v,jsmodsEnd:y,rsrcs:e,payloadStats:g},null==d||d(e),t("BootloaderEvents").notifyHasteResponse(e)}})}};o.exports=s},null),__d("isCometAltpayJsSdkIframeAllowedDomain",["CometAltpayJsSdkIframeAllowedDomains","URI"],function(e,t,n,r,o,i,a){var u,l=Object.freeze((t=Object.freeze(n("CometAltpayJsSdkIframeAllowedDomains"))).allowed_domains);function e(){var e=new(u||(u=n("URI")))(window.location.href);return null!=l&&!(l.length<=0)&&!!l.some(function(t){return t=new(u||(u=n("URI")))(t),e.isSameOrigin(t)})}a.default=e},98),__d("isWorkDotMetaDotComURI",[],function(e,t,n,r,o,i){var a=RegExp("(^|\\.)work\\.meta\\.com$","i"),u=["https"];function e(e){return(!e.isEmpty()||"#"===e.toString())&&!!(e.getDomain()||e.getProtocol())&&-1!==u.indexOf(e.getProtocol())&&a.test(e.getDomain())}i.default=e},66),__d("BlueCompatBroker",["Env","URI","isCometAltpayJsSdkIframeAllowedDomain","isFacebookURI","isMessengerDotComURI","isWorkDotMetaDotComURI","isWorkplaceDotComURI"],function(e,t,n,r,o,i){var a,u,l,s=new Map,c=!1,f={dispatch:function(e){var t=f.getMessageEventString(e,"compatAction");null!=t&&(t=s.get(t))&&t(e)},getMessageEventString:function(e,t){return"object"==typeof(e=e.data)&&"string"==typeof(e=null==e?void 0:e[t])?e:""},init:function(e){if(void 0===e&&(e=""),!c){document.body&&(document.body.style.overflow="auto");var n,r=t("isCometAltpayJsSdkIframeAllowedDomain")()?"https://secure.facebook.com/":document.referrer,o=r.indexOf("/",8);n=r=r.substring(0,o),n=new(a||(a=t("URI")))(n),(t("isFacebookURI")(n)||t("isWorkplaceDotComURI")(n)||t("isMessengerDotComURI")(n)||t("isWorkDotMetaDotComURI")(n))&&(o=new MessageChannel,e=""!==e?e:(u||(u=t("Env"))).iframeKey,(l=o.port1).onmessage=f.dispatch,window.parent.postMessage({compatAction:"CompatSetup",iframeKey:e},r+"/",[o.port2]));try{window.__REACT_DEVTOOLS_GLOBAL_HOOK__=window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__}catch(i){}c=!0}},register:function(e,t){s.set(e,t)},clear:function(e){s.delete(e)},sendMessage:function(e){c||f.init(),l&&l.postMessage(babelHelpers.extends({},e))}};o.exports=f},null),__d("MessengerEnvironment",["CurrentEnvironment"],function(e,t,n,r,o,i,a){var u=babelHelpers.extends({},n("CurrentEnvironment"),{messengerui:!1,roomschatui:!1,setMessengerUI:function(e){u.messengerui=e},setRoomsChatUI:function(e){u.roomschatui=e}});e=u,a.default=e},98),__d("areEqual",[],function(e,t,n,r,o,i){var a=[],u=[];function e(e,t){var n=a.length?a.pop():[],r=u.length?u.pop():[];return e=function e(t,n,r,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n||"object"!=typeof t||"object"!=typeof n)return!1;var i=Object.prototype.toString,a=i.call(t);if(a!=i.call(n))return!1;switch(a){case"[object String]":return t==String(n);case"[object Number]":return!(isNaN(t)||isNaN(n))&&t==Number(n);case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}for(i=r.length;i--;)if(r[i]==t)return o[i]==n;r.push(t),o.push(n);try{if(i=0,"[object Array]"===a){if((i=t.length)!==n.length)return!1;for(;i--;)if(!e(t[i],n[i],r,o))return!1}else if(t instanceof Set){if(t.size!==n.size)return!1;a=Array.from(n.values());for(var i=t,u=Array.isArray(i),l=0,i=u?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(u){if(l>=i.length)break;s=i[l++]}else{if((l=i.next()).done)break;s=l.value}for(var s,c=!1,f=0;f<a.length;f++){var d=a[f];if(e(s,d,r,o)){c=!0,a.splice(f,1);break}}if(!1===c)return!1}}else if(t instanceof Map){if(t.size!==n.size)return!1;for(d=Array.from(n),s=t,f=Array.isArray(s),c=0,s=f?s:s["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(f){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}for(a=0,u=l,i=!1;a<d.length;a++)if(l=d[a],e(u,l,r,o)){i=!0,d.splice(a,1);break}if(!1===i)return!1}}else{if(t.constructor!==n.constructor)return!1;if(Object.prototype.hasOwnProperty.call(t,"valueOf")&&Object.prototype.hasOwnProperty.call(n,"valueOf"))return t.valueOf()==n.valueOf();if((l=Object.keys(t)).length!=Object.keys(n).length)return!1;for(a=0;a<l.length;a++)if("_owner"!==l[a]&&(!Object.prototype.hasOwnProperty.call(n,l[a])||!e(t[l[a]],n[l[a]],r,o)))return!1}return!0}finally{r.pop(),o.pop()}}(e,t,n,r),n.length=0,r.length=0,a.push(n),u.push(r),e}i.default=e},66),__d("BlueCompatRouter",["BlueCompatBroker","Env","MessengerEnvironment","URI","areEqual","gkx","isCdnURI"],function(e,t,n,r,o,i,a){var u,l,s,c={convertUri:function(e){return null==e||""===e?new(u||(u=n("URI"))):(e=new(u||(u=n("URI")))(e)).getDomain().endsWith("messenger.com")?e.setDomain(e.getDomain().replace(/messenger\.com/i,"facebook.com")).setPath("/messages"+e.getPath()):e},goFragment:function(e){if((l||(l=n("Env"))).isCQuick&&(e=c.convertUri(e)).getFragment()){var t=(u||(u=n("URI"))).getRequestURI(!1,!1);if((s||(s=n("areEqual")))(new(u||(u=n("URI")))(t).setFragment("").getQualifiedURI(),new(u||(u=n("URI")))(e).setFragment("").getQualifiedURI()))return!0}return!1},go:function(e,t){if((l||(l=n("Env"))).isCQuick){var r=new(u||(u=n("URI")))(e),o=(e=c.convertUri(e)).getQualifiedURI();if(n("isCdnURI")(e)||o.getPath().startsWith("/compat"))return!1;var i=(e=function(){if(n("MessengerEnvironment").messengerui&&o.getPath().startsWith("/messages"))return[!1,"/messages"];if(r.getPath().startsWith("/settings")&&o.getPath().startsWith("/settings")&&(n("gkx")("1224637")||o.getSubdomain()!==r.getSubdomain())){var e=o.getQueryData().tab;return null!=e?[!1,"/settings/"+e]:[!1,"/settings"]}return r.getPath().startsWith("/games")&&o.getPath().startsWith("/games")?[!1,"/games/web"]:r.getPath().startsWith("/notes")&&o.getPath().startsWith("/notes")?[!1,"/notes"]:r.getPath().startsWith("/latest/posts")&&o.getPath().startsWith("/latest/posts")?[!1,"/business"]:/\/[A-Za-z\-0-9]+\/settings/.test(r.getPath())?[!1,"/pages/settings"]:/\/[A-Za-z\-0-9]+\/insights/.test(r.getPath())?[!1,"/insights"]:[!0,""]}())[0];return f({compatAction:"route",maintainKey:e=e[1],replace:t,uri:String(o)}),i}return!1},startChat:function(e,t){return c.sendMessage({compatAction:"startchat",tabId:e,isPage:t})},chatListener:function(e,t,n){e.addEventListener("click",function(e){e.preventDefault(),c.startChat(t,n)})},sendMessage:function(e){return!!(l||(l=n("Env"))).isCQuick&&(n("BlueCompatBroker").init(),n("BlueCompatBroker").sendMessage(e),!0)}},f=(t=function(t,n){var r,o=e.__fbNativeClearTimeout||window.clearTimeout,i=e.__fbNativeSetTimeout||window.setTimeout;return function(){var e=this,a=arguments,u=function(){r=null,t.apply(e,a)};o(r),r=i(u,n)}})(c.sendMessage,250);r=c,a.default=r},98),__d("DTSG",["invariant","DTSGInitialData"],function(e,t,n,r,o,i,a,u){var l=r("DTSGInitialData").token||null;function e(){return l}function t(e){l=e}function n(){u(0,5809)}function o(e){u(0,73819)}a.getToken=e,a.setToken=t,a.refresh=n,a.setTokenConfig=o},98),__d("DTSG_ASYNC",["DTSGInitData"],function(e,t,n,r,o,i,a){var u=n("DTSGInitData").async_get_token||null;function e(){return u}function t(e){u=e}a.getToken=e,a.setToken=t},98),__d("SchedulerFeatureFlags",["gkx","qex"],function(e,t,n,r,o,i,a){var u,l;e=!0,t=n("gkx")("1099893"),r=!0,o=!0,i=5,u=null!=(u=n("qex")._("526"))?u:250,l=null!=(l=n("qex")._("538"))?l:5e3,n=null!=(n=n("qex")._("543"))?n:1e4,a.enableSchedulerDebugging=e,a.enableProfiling=t,a.enableIsInputPending=r,a.enableIsInputPendingContinuous=o,a.frameYieldMs=i,a.continuousYieldMs=10,a.maxYieldMs=10,a.userBlockingPriorityTimeout=u,a.normalPriorityTimeout=l,a.lowPriorityTimeout=n},98),__d("Scheduler-dev.classic",["SchedulerFeatureFlags"],function(e,t,n,r,o,i){},null),__d("Scheduler-profiling.classic",["SchedulerFeatureFlags"],function(e,t,n,r,o,i){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var a,u=t("SchedulerFeatureFlags").enableProfiling,l=t("SchedulerFeatureFlags").userBlockingPriorityTimeout,s=t("SchedulerFeatureFlags").normalPriorityTimeout,c=t("SchedulerFeatureFlags").lowPriorityTimeout;function f(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<h(o,t))e[r]=t,e[n]=o,n=r;else break a}}function d(e){return 0===e.length?null:e[0]}function p(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,o=e.length,i=o>>>1;r<i;){var a=2*(r+1)-1,u=e[a],l=a+1,s=e[l];if(0>h(u,n))l<o&&0>h(s,u)?(e[r]=s,e[l]=n,r=l):(e[r]=u,e[a]=n,r=a);else if(l<o&&0>h(s,n))e[r]=s,e[l]=n,r=l;else break a}}return t}function h(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var m=0,g=0,v=0,y=null,b=null,S=0;function $(e){if(null!==b){var t=S;if((S+=e.length)+1>v){if(524288<(v*=2)){E();return}var n=new Int32Array(4*v);n.set(b),y=n.buffer,b=n}b.set(e,t)}}function e(){v=131072,y=new ArrayBuffer(4*v),b=new Int32Array(y),S=0}function E(){var e=y;return v=0,b=y=null,S=0,e}if(i.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var _=performance;i.unstable_now=function(){return _.now()}}else{var C=Date,w=C.now();i.unstable_now=function(){return C.now()-w}}var R=[],T=[],I=1,k=!1,P=null,A=3,D=!1,O=!1,L=!1,N="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,U="undefined"!=typeof setImmediate?setImmediate:null,M="undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending?navigator.scheduling.isInputPending.bind(navigator.scheduling):null,F={includeContinuous:!0};function B(e){for(var t=d(T);null!==t;){if(null===t.callback)p(T);else if(t.startTime<=e)p(T),t.sortIndex=t.expirationTime,f(R,t),u&&(u&&null!==b&&$([1,1e3*e,t.id,t.priorityLevel]),t.isQueued=!0);else break;t=d(T)}}function j(e){if(L=!1,B(e),!O){if(null!==d(R))O=!0,Y();else{var t=d(T);null!==t&&X(j,t.startTime-e)}}}function H(e){for(B(e),P=d(R);!(null===P||k||P.expirationTime>e&&V());){var t=P.callback;if("function"==typeof t){P.callback=null,A=P.priorityLevel;var n=P.expirationTime<=e;if(u){var r=P;u&&(m++,null!==b&&$([5,1e3*e,r.id,m]))}if(t=t(n),e=i.unstable_now(),"function"==typeof t)return P.callback=t,u&&u&&null!==b&&$([6,1e3*e,P.id,m]),B(e),!0;u&&(u&&null!==b&&$([2,1e3*e,P.id]),P.isQueued=!1),P===d(R)&&p(R),B(e)}else p(R);P=d(R)}return null!==P||(null!==(t=d(T))&&X(j,t.startTime-e),!1)}var q=!1,z=-1,W=5,G=-1,J=!1;function V(){var e=i.unstable_now()-G;if(e<W)return!1;if(J)return!0;if(10>e){if(null!==M)return M()}else if(10>e&&null!==M)return M(F);return!0}function Q(){if(q){var e=i.unstable_now();G=e;var t=!0;try{a:{u&&u&&null!==b&&$([8,1e3*e,g]),O=!1,L&&(L=!1,x(z),z=-1),D=!0;var n=A;try{if(u)try{t=H(e);break a}catch(r){if(null!==P){var o=i.unstable_now();u&&null!==b&&$([3,1e3*o,P.id]),P.isQueued=!1}throw r}else{t=H(e);break a}}finally{P=null,A=n,D=!1,u&&(o=i.unstable_now(),u&&(g++,null!==b&&$([7,1e3*o,g])))}t=void 0}}finally{t?a():q=!1}}J=!1}if("function"==typeof U)a=function(){U(Q)};else if("undefined"!=typeof MessageChannel){var K=(n=new MessageChannel).port2;n.port1.onmessage=Q,a=function(){K.postMessage(null)}}else a=function(){N(Q,0)};function Y(){q||(q=!0,a())}function X(e,t){z=N(function(){e(i.unstable_now())},t)}r=u?{startLoggingProfilingEvents:e,stopLoggingProfilingEvents:E}:null,i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=r,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(e){if(u&&e.isQueued){var t=i.unstable_now();u&&null!==b&&$([4,1e3*t,e.id]),e.isQueued=!1}e.callback=null},i.unstable_continueExecution=function(){k=!1,O||D||(O=!0,Y())},i.unstable_forceFrameRate=function(e){0>e||125<e||(W=0<e?Math.floor(1e3/e):5)},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return d(R)},i.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},i.unstable_pauseExecution=function(){k=!0},i.unstable_requestPaint=function(){void 0!==navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&(J=!0)},i.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},i.unstable_scheduleCallback=function(e,t,n){var r=i.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?r+n:r,e){case 1:var o=-1;break;case 2:o=l;break;case 5:o=1073741823;break;case 4:o=c;break;default:o=s}return o=n+o,e={id:I++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},u&&(e.isQueued=!1),n>r?(e.sortIndex=n,f(T,e),null===d(R)&&e===d(T)&&(L?(x(z),z=-1):L=!0,X(j,n-r))):(e.sortIndex=o,f(R,e),u&&(u&&null!==b&&$([1,1e3*r,e.id,e.priorityLevel]),e.isQueued=!0),O||D||(O=!0,Y())),e},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())},null),__d("nativeRequestAnimationFrame",[],function(e,t,n,r,o,i){n=t=e.__fbNativeRequestAnimationFrame||e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,i.default=n},66),__d("requestAnimationFramePolyfill",["nativeRequestAnimationFrame","performanceNow"],function(e,t,n,r,o,i,a){var u,l=0;r=t=n("nativeRequestAnimationFrame")||function(t){var r=(u||(u=n("performanceNow")))(),o=Math.max(0,16-(r-l));return l=r+o,e.setTimeout(function(){t((u||(u=n("performanceNow")))())},o)},a.default=r},98),__d("SchedulerFb-Internals_DO_NOT_USE",["Scheduler-dev.classic","Scheduler-profiling.classic","ifRequireable","requestAnimationFramePolyfill"],function(e,t,n,r,o,i){var a;void 0===e.requestAnimationFrame&&(e.requestAnimationFrame=t("requestAnimationFramePolyfill")),a=t("Scheduler-profiling.classic"),o.exports={unstable_ImmediatePriority:a.unstable_ImmediatePriority,unstable_UserBlockingPriority:a.unstable_UserBlockingPriority,unstable_NormalPriority:a.unstable_NormalPriority,unstable_LowPriority:a.unstable_LowPriority,unstable_IdlePriority:a.unstable_IdlePriority,unstable_getCurrentPriorityLevel:a.unstable_getCurrentPriorityLevel,unstable_runWithPriority:a.unstable_runWithPriority,unstable_now:a.unstable_now,unstable_scheduleCallback:function(e,n,r){var o=t("ifRequireable")("TimeSlice",function(e){return e.guard(n,"unstable_scheduleCallback",{propagationType:e.PropagationType.CONTINUATION,registerCallStack:!0})},function(){return n});return a.unstable_scheduleCallback(e,o,r)},unstable_cancelCallback:function(e){return a.unstable_cancelCallback(e)},unstable_wrapCallback:function(e){var n=t("ifRequireable")("TimeSlice",function(t){return t.guard(e,"unstable_wrapCallback",{propagationType:t.PropagationType.CONTINUATION,registerCallStack:!0})},function(){return e});return a.unstable_wrapCallback(n)},unstable_pauseExecution:function(){return a.unstable_pauseExecution()},unstable_continueExecution:function(){return a.unstable_continueExecution()},unstable_shouldYield:a.unstable_shouldYield,unstable_requestPaint:a.unstable_requestPaint,unstable_forceFrameRate:a.unstable_forceFrameRate,unstable_Profiling:a.unstable_Profiling}},null),__d("JSScheduler",["SchedulerFb-Internals_DO_NOT_USE"],function(e,t,n,r,o,i){var a={unstable_Immediate:(n=t("SchedulerFb-Internals_DO_NOT_USE")).unstable_ImmediatePriority,unstable_UserBlocking:n.unstable_UserBlockingPriority,unstable_Normal:n.unstable_NormalPriority,unstable_Low:n.unstable_LowPriority,unstable_Idle:n.unstable_IdlePriority},u=!1,l=n.unstable_scheduleCallback,s=n.unstable_cancelCallback,c={priorities:a,shouldYield:n.unstable_shouldYield,getCurrentPriorityLevel:n.unstable_getCurrentPriorityLevel,runWithPriority:n.unstable_runWithPriority,runWithPriority_DO_NOT_USE:n.unstable_runWithPriority,defer:function(e){return l(c.getCurrentPriorityLevel(),e)},getCallbackScheduler:function(){var e=c.getCurrentPriorityLevel();return function(t){return l(e,t)}},getUserBlockingRunAtCurrentPriCallbackScheduler_DO_NOT_USE:function(){var e=c.getCurrentPriorityLevel();return function(n){return l(a.unstable_UserBlocking,function(){t("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(e,n)})}},deferUserBlockingRunAtCurrentPri_DO_NOT_USE:function(e){var n=c.getCurrentPriorityLevel();return l(a.unstable_UserBlocking,function(){t("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(n,e)})},scheduleImmediatePriCallback:function(e){return l(a.unstable_Immediate,e)},scheduleUserBlockingPriCallback:function(e){return l(a.unstable_UserBlocking,e)},scheduleNormalPriCallback:function(e){return l(a.unstable_Normal,e)},scheduleLoggingPriCallback:function(e){return l(a.unstable_Low,e)},scheduleSpeculativeCallback:function(e){return l(a.unstable_Idle,e)},cancelCallback:function(e){s(e)},scheduleDelayedCallback_DO_NOT_USE:function(e,t,n){return e=l(e,n,{delay:t})},cancelDelayedCallback_DO_NOT_USE:function(e){return s(e)},startEventProfiling:function(){var e;"function"==typeof(e=null==(e=t("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)?void 0:e.startLoggingProfilingEvents)&&e()},stopEventProfiling:function(){var e;return"function"==typeof(e=null==(e=t("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)?void 0:e.stopLoggingProfilingEvents)?e():null},makeSchedulerGlobalEntry:function(n,r){void 0===n&&(n=null),void 0===r&&(r=!1),null!=n&&t("SchedulerFb-Internals_DO_NOT_USE").unstable_forceFrameRate(n),r&&c.startEventProfiling(),e.ScheduleJSWork=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];u?e.apply(void 0,n):c.deferUserBlockingRunAtCurrentPri_DO_NOT_USE(function(){u=!0;try{e.apply(void 0,n)}finally{u=!1}})}}}};o.exports=c},null),__d("createCancelableFunction",["emptyFunction"],function(e,t,n,r,o,i,a){function e(e){var t=e;return(e=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}).cancel=function(){t=n("emptyFunction")},e}a.default=e},98),__d("RunComet",["ExecutionEnvironment","FBLogger","createCancelableFunction","emptyFunction","recoverableViolation","setTimeout","unexpectedUseInComet"],function(e,t,n,r,o,i,a){var u,l={},s=!1,c=!1,f={remove:n("emptyFunction")};function d(e,t){null==l.unload&&(l.unload=[],l.afterunload=[],(u||(u=n("ExecutionEnvironment"))).canUseEventListeners&&window.addEventListener("unload",function(){m("unload"),m("afterunload")})),null==l[e]?(n("recoverableViolation")("EVENT_LISTENERS."+e+" wasn't initialized but should have been!","comet_infra"),l[e]=[t]):l[e].push(t)}function p(e){return e||n("recoverableViolation")("Undefined event listener handler is not allowed","comet_infra"),n("createCancelableFunction")(null!=e?e:n("emptyFunction"))}function h(e){return{remove:function(){e.cancel()}}}function m(e){for(var t=l[e]||[],r=0;r<t.length;r++){var o=t[r];try{o()}catch(i){n("FBLogger")("comet_infra").catching(i).mustfix("Hit an error while executing '"+e+"' event listeners.")}}l[e]=[]}function g(e){return s?(e(),h(p(n("emptyFunction")))):(e=p(e),null==l.domcontentloaded?(l.domcontentloaded=[e],(u||(u=n("ExecutionEnvironment"))).canUseEventListeners&&window.addEventListener("DOMContentLoaded",function(){m("domcontentloaded")},!0)):l.domcontentloaded.push(e),h(e))}function e(e){return d("afterunload",e=p(e)),h(e)}function t(e){return e=p(e),null==l.load?(l.load=[e],(u||(u=n("ExecutionEnvironment"))).canUseEventListeners&&window.addEventListener("load",function(){m("domcontentloaded"),m("load")})):l.load.push(e),c&&n("setTimeout")(function(){m("domcontentloaded"),m("load")},0),h(e)}function r(e){return d("unload",e=p(e)),h(e)}function o(e,t){return!1!==t&&(t="Run.onBeforeUnload was called with include_quickling_events as true or undefined, but this is not valid in Comet.",n("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(t)),t=p(e),null==l.beforeunload&&(l.beforeunload=[],(u||(u=n("ExecutionEnvironment"))).canUseEventListeners&&window.addEventListener("beforeunload",function(e){for(var t=l.beforeunload||[],t=t,r=Array.isArray(t),o=0,t=r?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}var i,a=void 0;try{a=i()}catch(u){n("FBLogger")("comet_infra").catching(u).mustfix("Hit an error while executing onBeforeUnload event listeners.")}if(void 0!==a)return null!=a&&null!=a.body&&(a=a.body),e.preventDefault(),e.returnValue=a,a}})),l.beforeunload.push(t),h(t)}var v=o;function i(e){return n("unexpectedUseInComet")("Run.onLeave"),f}function y(){if("loading"===document.readyState?g(function(){s=!0}):s=!0,"complete"===document.readyState)c=!0;else{var e=window.onload;window.onload=function(){e&&e(),c=!0}}}(u||(u=n("ExecutionEnvironment"))).canUseDOM&&y(),y=null,a.onLoad=g,a.onAfterUnload=e,a.onAfterLoad=t,a.onUnload=r,a.onBeforeUnload=o,a.maybeOnBeforeUnload=v,a.onLeave=i,a.onCleanupOrLeave=function e(t,r){return n("unexpectedUseInComet")("Run.onCleanupOrLeave"),f},a.__removeHook=function e(t){n("unexpectedUseInComet")("Run.removeHook")},a.__domContentCallback=y,a.__onloadCallback=null},98),__d("IntervalTrackingBoundedBuffer",["CircularBuffer","ErrorPubSub"],function(e,t,n,r,o,i,a){var u;e=function(){function e(e){var t=this;if(this.$6=0,null!=e){if(e<=0)throw Error("Size for a buffer must be greater than zero.")}else e=5e3;this.$4=e,this.$1=new(n("CircularBuffer"))(e),this.$1.onEvict(function(){t.$6++}),this.$2=[],this.$3=1,this.$5=0}var t=e.prototype;return t.open=function(){var e,t=this,n=this.$3++,r=!1,o=this.$5,i={id:n,startIdx:o,hasOverflown:function(){return i.getOverflowSize()>0},getOverflowSize:function(){return null!=e?e:Math.max(t.$6-o,0)},close:function(){return r?[]:(r=!0,e=t.$6-o,t.$7(n))}};return this.$2.push(i),i},t.pushElement=function(e){return this.$2.length>0&&(this.$1.write(e),this.$5++),this},t.isActive=function(){return this.$2.length>0},t.$8=function(e){return Math.max(e-this.$6,0)},t.$7=function(e){for(var t,r,o,i,a=0;a<this.$2.length;a++){var l=this.$2[a],s=l.startIdx;(l=l.id)===e?(o=a,i=s):(null==r||s<r)&&(r=s),(null==t||s<t)&&(t=s)}return null==o||null==t||null==i?((u||(u=n("ErrorPubSub"))).reportError(Error("messed up state inside IntervalTrackingBoundedBuffer")),[]):(this.$2.splice(o,1),l=this.$8(i),s=this.$1.read().slice(l),(a=this.$8(null==r?this.$5:r)-this.$8(t))>0&&(this.$1.dropFirst(a),this.$6+=a),s)},e}(),a.default=e},98),__d("TimeSliceSham",["Env","ErrorGuard","IntervalTrackingBoundedBuffer"],function(e,t,n,r,o,i){null==(n=(a||t("Env")).timesliceBufferSize)&&(n=5e3);var a,u,l=new(t("IntervalTrackingBoundedBuffer"))(n),s={PropagationType:{CONTINUATION:0,EXECUTION:1,ORPHAN:2},guard:function(e,n){return(u||(u=t("ErrorGuard"))).guard(e,{name:"TimeSlice"+(n?": "+n:"")})},copyGuardForWrapper:function(e,t){return e},checkCoverage:function(){},setLogging:function(e,t){},getContext:function(){return null},getGuardedContinuation:function(e){function e(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}return e},getReusableContinuation:function(e){return s.getPlaceholderReusableContinuation()},getPlaceholderReusableContinuation:function(){var e=function(e){return e()};return e.last=e,e},getGuardNameStack:function(){return[]},registerExecutionContextObserver:function(e){},catchUpOnDemandExecutionContextObservers:function(e){},getBuffer:function(){return l}};e.TimeSlice=s,o.exports=s},6),__d("setTimeoutCometInternals",["JSScheduler"],function(e,t,n,r,o,i,a){var u,l=new Map,s=0;function e(e){if(null!=e){var t=l.get(e);void 0!==t&&(l.delete(e),(u||(u=r("JSScheduler"))).cancelDelayedCallback_DO_NOT_USE(t))}}function t(e){if(null!=e){var t=l.get(e);void 0!==t&&(l.delete(e),(u||(u=r("JSScheduler"))).cancelDelayedCallback_DO_NOT_USE(t))}}function n(e,t,n){for(var o=arguments.length,i=Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var c=s;if(s+=1,"function"!=typeof t)return c;var f=function o(){var a=(u||(u=r("JSScheduler"))).scheduleDelayedCallback_DO_NOT_USE(e,n,o);l.set(c,a),t.apply(void 0,i)},d=(u||(u=r("JSScheduler"))).scheduleDelayedCallback_DO_NOT_USE(e,n,f);return l.set(c,d),c}function o(e,t,n){for(var o=arguments.length,i=Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var c=s;if(s+=1,"function"!=typeof t)return c;var f=(u||(u=r("JSScheduler"))).scheduleDelayedCallback_DO_NOT_USE(e,n,function(){l.delete(c),t.apply(void 0,i)});return l.set(c,f),c}a.clearInterval_DO_NOT_USE=e,a.clearTimeout_DO_NOT_USE=t,a.setIntervalAtPriority_DO_NOT_USE=n,a.setTimeoutAtPriority_DO_NOT_USE=o},98),__d("clearIntervalComet",["setTimeoutCometInternals"],function(e,t,n,r,o,i,a){a.default=r("setTimeoutCometInternals").clearInterval_DO_NOT_USE},98),__d("clearIntervalWWW",["cr:1003267"],function(e,t,n,r,o,i,a){a.default=t("cr:1003267")},98),__d("clearTimeoutComet",["setTimeoutCometInternals"],function(e,t,n,r,o,i,a){a.default=r("setTimeoutCometInternals").clearTimeout_DO_NOT_USE},98),__d("clearTimeoutWWW",["cr:806696"],function(e,t,n,r,o,i,a){a.default=t("cr:806696")},98),__d("setIntervalAcrossTransitionsWWW",["cr:896462"],function(e,t,n,r,o,i,a){a.default=t("cr:896462")},98),__d("setIntervalComet",["JSScheduler","setTimeoutCometInternals"],function(e,t,n,r,o,i,a){var u;function e(e,t){for(var n=(u||(u=r("JSScheduler"))).getCurrentPriorityLevel()===(u||(u=r("JSScheduler"))).priorities.unstable_Idle?(u||(u=r("JSScheduler"))).priorities.unstable_Idle:(u||(u=r("JSScheduler"))).priorities.unstable_Low,o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return r("setTimeoutCometInternals").setIntervalAtPriority_DO_NOT_USE.apply(r("setTimeoutCometInternals"),[n,e,t].concat(i))}a.default=e},98),__d("setIntervalWWW",["cr:896461"],function(e,t,n,r,o,i,a){a.default=t("cr:896461")},98),__d("setTimeoutAcrossTransitionsWWW",["cr:986633"],function(e,t,n,r,o,i,a){a.default=t("cr:986633")},98),__d("setTimeoutComet",["JSScheduler","setTimeoutCometInternals"],function(e,t,n,r,o,i,a){var u;function e(e,t){for(var n=(u||(u=r("JSScheduler"))).getCurrentPriorityLevel()===(u||(u=r("JSScheduler"))).priorities.unstable_Idle?(u||(u=r("JSScheduler"))).priorities.unstable_Idle:(u||(u=r("JSScheduler"))).priorities.unstable_Low,o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return r("setTimeoutCometInternals").setTimeoutAtPriority_DO_NOT_USE.apply(r("setTimeoutCometInternals"),[n,e,t].concat(i))}a.default=e},98),__d("setTimeoutWWW",["cr:807042"],function(e,t,n,r,o,i,a){a.default=t("cr:807042")},98),__d("CometPreludeCriticalRequireConds",["BlueCompatRouter","DTSG","DTSG_ASYNC","JSScheduler","RunComet","TimeSliceSham","clearIntervalComet","clearIntervalWWW","clearTimeoutComet","clearTimeoutWWW","setIntervalAcrossTransitionsWWW","setIntervalComet","setIntervalWWW","setTimeoutAcrossTransitionsWWW","setTimeoutComet","setTimeoutWWW"],function(e,t,n,r,o,i){var a;t("BlueCompatRouter"),t("DTSG"),t("DTSG_ASYNC"),a||(a=t("JSScheduler")),t("TimeSliceSham"),t("RunComet"),t("clearIntervalComet"),t("clearIntervalWWW"),t("clearTimeoutComet"),t("clearTimeoutWWW"),t("setIntervalAcrossTransitionsWWW"),t("setIntervalComet"),t("setIntervalWWW"),t("setTimeoutAcrossTransitionsWWW"),t("setTimeoutComet"),t("setTimeoutWWW")},null),__d("CometResourceScheduler",["Bootloader","ErrorGuard"],function(e,t,n,r,o,i,a){var u,l=new Set,s=new Set,c=[];function e(e){for(var t,r=[],o=0;o<e.length;o++){var i=e[o];s.has(i)||(s.add(i),r.push(i))}r.length&&(t=r,t.forEach(function(e){return l.add(e)}),n("Bootloader").loadResources(t,{onAll:function(){t.forEach(function(e){return l.delete(e)}),l.size||f()}}))}function t(e){c.push(e),0===l.size&&f()}function f(){var e=c;c=[],e.forEach(function(e){return(u||(u=n("ErrorGuard"))).applyWithGuard(e,null,[])})}a.registerHighPriHashes=e,a.onHighPriComplete=t},98),__d("nowServerJS",[],function(e,t,n,r,o,i){function e(){var e=window.performance;return e&&e.now&&e.timing&&e.timing.navigationStart?e.now()+e.timing.navigationStart:new Date().getTime()}i.default=e},66),__d("qplTimingsServerJS",["nowServerJS"],function(e,t,n,r,o,i,a){var u={};function e(e,t,r){if(null==e)return u;null==u[e]&&(u[e]={}),null!=t&&(u[e][t]=null!=(e=r)?e:n("nowServerJS")())}a.default=e},98),__d("CometSSRFizzContentInjector",["FBLogger","qplTimingsServerJS"],function(e,t,n,r,o,i,a){var u=null,l=function(){},s={total:0},c=!1,f=null,d=!1,p=[],h=[],m=null;function g(e){v()||(c=!0,w.emit("PAYLOADINJECTED",new Set,"ERROR"),w.emitOnce("FIRSTPAYLOADINJECTED",!1),C(e,"ERROR"))}function v(){return!!f&&"ERROR"===f.status||c}function y(){if(null==u)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");g(u.disabled_status)}function e(){return h}function b(e){if(null==u)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");n("qplTimingsServerJS")(u.cavalry_get_lid,e)}function S(e){var t;t=e,window.matchMedia&&t.every(function(e){var t,n,r,o=e.dimension,i=e.numPixels,a=e.operation;return e=e.result,a=(t=a,n=o,r=i,"("+t+"-"+n+": "+r+"px)"),window.matchMedia(a).matches===e})||g("Checks for useMatchViewport failed")}function $(e,t){if(!v()){var r=e[0];if(!r){g("Empty SSR payload received");return}if(h.push({boundaryPayloads:e,debug:t}),null==u)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");p.push.apply(p,e),function e(t){t.forEach(function(e){b("ssr_received_"+(e.id||"global_failure"))})}(e),t=r.fizzRootId;var o=r.payloadType,i=r.status;if(null===t||!o||i!==u.success_status){if(i===u.disabled_status||i===u.bad_preloaders_status||i===u.unknown_boundaries_status){y();return}g("Error processing SSR payload "+(r.id||"Global")+": "+i);return}"FIRST"===o?(E(t||""),d=!0,w.emit("PAYLOADINJECTED",new Set(e.map(function(e){return e.id}).filter(Boolean)),"PENDING")):"LAST"===o?(d||E(t||""),b("ssr_injected"),b("ssr_inline_injector_ready"),w.emit("PAYLOADINJECTED",new Set(e.map(function(e){return e.id}).filter(Boolean)),"INJECTED"),C("","INJECTED")):w.emit("PAYLOADINJECTED",new Set(e.map(function(e){return e.id}).filter(Boolean)),"PENDING")}}function E(e){if(null==u||null==m)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");for(;null==(t=m)?void 0:t.firstChild;){var t;(null==(t=m)?void 0:t.lastChild)&&m.removeChild(null==(t=m)?void 0:t.lastChild)}if(t=document.getElementById(e),m&&t){for(e=t.childNodes;e.length;){if(null==u||null==m)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");m.appendChild(e[0])}t.remove()}if(null==u||null==m)return n("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");u.gks.comet_ssr_wait_for_dev||_()}function _(){w.emitOnce("FIRSTPAYLOADINJECTED",!0)}function C(e,t){var n;window.__onSSRPayload=l,window.__onSSRViewportGuessValidation=l,(null==(n=u)?void 0:n.gks.comet_ssr_wait_for_dev)||_(),f={clickEvents:s,msg:e,processedPayloads:p,status:t,unbindListeners:l},w.emitOnce("ALLPAYLOADSINJECTED",f)}function t(e){u=e,m=document.getElementById(e.eid);var t,n=["success_status","ROOT","eid"].filter(function(t){return!e[t]});n.length>0&&g("Error receiving SSRData: missing keys "+n.toString()),m?e.gks.mwp_ssr_enabled&&u.enabled||u.gks.stop_render_at_splashscreen?(t=m).style.display="none":y():g("Error locating root element: "+e.eid),window.__isReactFizzContext=!0,window.__onSSRPayload=$,window.__invalidateSSR=g,window.__logSSRQPL=b,window.__onSSRViewportGuessValidation=S,e.gks.comet_ssr_wait_for_dev&&(window.__comet_ssr_continue=function(){_()}),"function"==typeof window.requireLazy&&window.requireLazy(["ReactDOMComet"],function(e){b("ssr_reactdom_ready")})}var w={emit:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==(t=w.listeners[e])||t.map(function(e){return e.apply(void 0,r)}),e in w.eventsEmitted||(w.eventsEmitted[e]=[]),w.eventsEmitted[e].push(r)},emitOnce:function(e){if(!(e in w.eventsEmitted)){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.emit.apply(w,[e].concat(n))}},eventsEmitted:{},listeners:{},on:function(e,t){e in w.eventsEmitted&&w.eventsEmitted[e].forEach(function(e){t.apply(void 0,e)}),w.listeners[e]||(w.listeners[e]=[]),w.listeners[e].push(t)}};function r(e){window.__onSSRError&&window.__onSSRError(e)}function o(e){window.__SSRFailJestOnError&&window.__SSRFailJestOnError(e)}function i(){window.__receivedSSRErrors=window.__receivedSSRErrors||[],window.__onSSRError=window.__onSSRError||function(e){window.__receivedSSRErrors.push(e)}}a.getSSRBoundaryPayloadsDebugInfo=e,a.logQPLPoint=b,a.onViewportGuessValidation=S,a.onPayloadReceived=$,a.ssrInit=t,a.eventEmitter=w,a.onSSRError=r,a.onSSRFailJestOnError=o,a.injectOnSSRErrorHandlerDefaultOnWindow=i},98),__d("DeferredJSResourceScheduler",["Bootloader","CometResourceScheduler","JSScheduler"],function(e,t,n,r,o,i,a){var u;function e(e){r("CometResourceScheduler").onHighPriComplete(function(){(u||(u=n("JSScheduler"))).scheduleLoggingPriCallback(function(){n("Bootloader").loadResources(e)})})}a.default=e},98),__d("unstable_server-external-runtime",["Promise"],function(e,t,n,r,o,i){var a;!function(){function e(e,t,n){(t=document.getElementById(t)).parentNode.removeChild(t);var r=document.getElementById(e);if(r){if(e=r.previousSibling,n)e.data="$!",r.setAttribute("data-dgst",n);else{n=e.parentNode,r=e.nextSibling;var o=0;do{if(r&&8===r.nodeType){var i=r.data;if("/$"===i){if(0===o)break;o--}else"$"!==i&&"$?"!==i&&"$!"!==i||o++}i=r.nextSibling,n.removeChild(r),r=i}while(r);for(;t.firstChild;)n.insertBefore(t.firstChild,r);e.data="$"}e._reactRetry&&e._reactRetry()}}function n(e){e=e.querySelectorAll("template");for(var t=0;t<e.length;t++)o(e[t])}function r(e){function t(e){for(var t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].parentNode&&o(n[r])}var n=new MutationObserver(t);n.observe(e,{childList:!0}),window.addEventListener("DOMContentLoaded",function(){t(n.takeRecords()),n.disconnect()})}function o(n){if(1===n.nodeType&&n.dataset){var r=n.dataset;if(null!=r.rxi){var o=r.dgst,u=r.msg,l=r.stck,s=document.getElementById(r.bid);s&&((r=s.previousSibling).data="$!",s=s.dataset,o&&(s.dgst=o),u&&(s.msg=u),l&&(s.stck=l),r._reactRetry&&r._reactRetry()),n.remove()}else if(null!=r.rri)(function n(r,o,u){for(var l,s,c,f,d=new Map,p=document,h=p.querySelectorAll("link[data-precedence],style[data-precedence]"),m=[],g=0;f=h[g++];)"not all"===f.getAttribute("media")?m.push(f):("LINK"===f.tagName&&i.set(f.getAttribute("href"),f),d.set(f.dataset.precedence,c=f));for(f=0,h=[],g=!0;;){if(g){var v=u[f++];if(!v){g=!1,f=0;continue}var y=!1,b=0,S=v[b++];if(s=i.get(S)){var $=s._p;y=!0}else{for((s=p.createElement("link")).href=S,s.rel="stylesheet",s.dataset.precedence=l=v[b++];$=v[b++];)s.setAttribute($,v[b++]);$=s._p=new(a||(a=t("Promise")))(function(e,t){s.onload=e,s.onerror=t}),i.set(S,s)}if(S=s.getAttribute("media"),$&&"l"!==$.s&&(!S||window.matchMedia(S).matches)&&h.push($),y)continue}else{if(!(s=m[f++]))break;l=s.getAttribute("data-precedence"),s.removeAttribute("media")}(y=d.get(l)||c)===c&&(c=s),d.set(l,s),y?y.parentNode.insertBefore(s,y.nextSibling):(y=p.head).insertBefore(s,y.firstChild)}(a||(a=t("Promise"))).all(h).then(e.bind(null,r,o,""),e.bind(null,r,o,"Resource failed to load"))})(r.bid,r.sid,JSON.parse(r.sty)),n.remove();else if(null!=r.rci)e(r.bid,r.sid),n.remove();else if(null!=r.rsi){for(o=r.pid,u=document.getElementById(r.sid),o=document.getElementById(o),u.parentNode.removeChild(u);u.firstChild;)o.parentNode.insertBefore(u.firstChild,o);o.parentNode.removeChild(o),n.remove()}}}var i=new Map;if(addEventListener("submit",function(e){if(!e.defaultPrevented){var t=e.target,n=e.submitter,r=t.action,o=n;if(n){var i=n.getAttribute("formAction");null!=i&&(r=i,o=null)}"javascript:throw new Error('A React form was unexpectedly submitted.')"===r&&(e.preventDefault(),o?((e=document.createElement("input")).name=o.name,e.value=o.value,o.parentNode.insertBefore(e,o),o=new FormData(t),e.parentNode.removeChild(e)):o=new FormData(t),((e=t.getRootNode()).$$reactFormReplay=e.$$reactFormReplay||[]).push(t,n,o))}}),window.$RC||(window.$RC=e,window.$RM=new Map),null!=document.body)"loading"===document.readyState&&r(document.body),n(document.body);else{var u=new MutationObserver(function(){null!=document.body&&("loading"===document.readyState&&r(document.body),n(document.body),u.disconnect())});u.observe(document.documentElement,{childList:!0})}}()},null),__d("ReactDOMServerExternalRuntime",["ExecutionEnvironment","unstable_server-external-runtime"],function(e,t,n,r,o,i,a){n("ExecutionEnvironment").canUseDOM&&t("unstable_server-external-runtime")},35),__d("Run",["cr:925100"],function(e,t,n,r,o,i,a){a.__domContentCallback=(e=t("cr:925100")).__domContentCallback,a.__onloadCallback=e.__onloadCallback,a.__removeHook=e.__removeHook,a.onAfterLoad=e.onAfterLoad,a.onAfterUnload=e.onAfterUnload,a.onBeforeUnload=e.onBeforeUnload,a.maybeOnBeforeUnload=e.maybeOnBeforeUnload,a.onCleanupOrLeave=e.onCleanupOrLeave,a.onLeave=e.onLeave,a.onLoad=e.onLoad,a.onUnload=e.onUnload},98),__d("ScheduledApplyEach",["JSScheduler"],function(e,t,n,r,o,i,a){var u;function e(e,t,n){return e.map(function(e){(u||(u=r("JSScheduler"))).deferUserBlockingRunAtCurrentPri_DO_NOT_USE(function(){t.apply(n,e)})})}a.default=e},98),__d("ScheduledServerJS",["JSScheduler","ScheduledApplyEach","ServerJS"],function(e,t,n,r,o,i,a){var u;function e(e,t,o){null!=t&&new(n("ServerJS"))().handle(t),(u||(u=r("JSScheduler"))).runWithPriority(u.priorities.unstable_Normal,function(){null!=o&&new(n("ServerJS"))().handle(o),new(n("ServerJS"))().handleWithCustomApplyEach(n("ScheduledApplyEach"),e)})}a.handle=e},98),__d("ScheduledServerJSDefine",["JSScheduler","ServerJSDefine"],function(e,t,n,r,o,i,a){var u;function e(e,t){e.forEach(function(e){var o=e;null!=t&&(o=[].concat(e,[t])),(u||(u=r("JSScheduler"))).deferUserBlockingRunAtCurrentPri_DO_NOT_USE(function(){n("ServerJSDefine").handleDefine.apply(null,o)})})}a.handleDefines=e},98),__d("ScheduledServerJSWithCSS",["Bootloader","JSScheduler","ScheduledServerJS"],function(e,t,n,r,o,i,a){var u;function e(e,t,o,i){var a,l,s,c;e=(a=e,l=t,s=o,c=i,function(){n("Bootloader").loadResources(c,{onAll:function(){r("ScheduledServerJS").handle(a,l,s)}})}),i.length>0&&(u||(u=n("JSScheduler"))).scheduleImmediatePriCallback(e)}a.handle=e},98),__d("performanceNavigationStart",["performance"],function(e,t,n,r,o,i){var a,u="undefined"!=typeof window?window:self;if((a||(a=t("performance"))).now){if((a||(a=t("performance"))).timing&&(a||(a=t("performance"))).timing.navigationStart)e=function(){return(a||(a=t("performance"))).timing.navigationStart};else{if("number"==typeof u._cstart)e=function(){return u._cstart};else{var l=Date.now();e=function(){return l}}e.isPolyfilled=!0}}else(e=function(){return 0}).isPolyfilled=!0;o.exports=e},null),__d("bootstrapWebSession",["WebSession","WebSessionDefaultTimeoutMs","performanceNavigationStart"],function(e,t,n,r,o,i,a){var u=!1;function e(e){if(!0!==u){var t;u=!0,null!=(e=(t=e,Number.isInteger(t=n("performanceNavigationStart")()||t)?t:null))&&e>0&&r("WebSession").extend(e+n("WebSessionDefaultTimeoutMs"))}}a.default=e},98),__d("injectQPLTimingsServerJSIntoWindow",["qplTimingsServerJS"],function(e,t,n,r,o,i,a){function e(){window.qpl_inl=n("qplTimingsServerJS")}a.injectQPLTimingsServerJSIntoWindow=e},98),__d("cx",[],function(e,t,n,r,o,i){function e(e){throw Error("cx: Unexpected class transformation.")}i.default=e},66),__d("shouldDisableAnimations",[],function(e,t,n,r,o,i){function e(){return null!=navigator&&null!=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4}i.default=e},66),__d("maybeDisableAnimations",["cx","shouldDisableAnimations"],function(e,t,n,r,o,i,a,u){function e(){if(n("shouldDisableAnimations")()){var e;null==(e=document.documentElement)||e.classList.add("_8ykn")}}a.default=e},98),__d("qplTagServerJS",[],function(e,t,n,r,o,i){var a=[];function e(e){if(null==e)return a;a.push(e)}i.default=e},66),__d("hyperionHook",[],function(e,t,n,r,o,i){var a=function(){},u=function(){function e(){this.call=a}var t=e.prototype;return t.hasCallback=function(e){if(!this.$1)return e?this.call===e:this.call!==a;var t=this.$1;return t.length>0&&(!e||t.some(function(t){return t===e||t.$2===e}))},t.createMultiCallbackCall=function(e){return function(){for(var t=e,n=0,r=t.length;n<r;++n)t[n].apply(this,arguments)}},t.add=function(e,t){var n=e;if(t){var r=this;(t=function t(){return r.remove(t),e.apply(this,arguments)}).$2=e,n=t}return this.call===a?this.call=n:this.$1?this.$1.push(n):(this.$1=[this.call,n],this.call=this.createMultiCallbackCall(this.$1)),e},t.remove=function(e){return this.removeIf(function(t){return t===e})},t.removeIf=function(e){if(this.$1){var t=this.$1.filter(function(t){return!e(t)}),n=this.$1.length>t.length;return n&&(this.$1=t,this.call=this.createMultiCallbackCall(this.$1)),n}return!!e(this.call)&&(this.call=a,!0)},t.clear=function(){this.call!==a&&this.$1?this.$1.length=0:this.call=a},e}();t=function(e){function t(){for(var t,n,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=n=e.call.apply(e,[this].concat(o))||this,n.$Channel1=Object.create(null),t||babelHelpers.assertThisInitialized(n)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$Channel2=function(e){var t=this.$Channel1[e];return t||(t=this.$Channel1[e]=new u),t},n.on=function(e){return this.$Channel2(e)},n.addListener=function(e,t){return this.on(e).add(t)},n.removeListener=function(e,t){return this.on(e).remove(t),t},n.emit=function(t){for(var n,r,o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.$Channel2(t)).call.apply(n,i),(r=e.prototype.emit).call.apply(r,[this,t].concat(i))},t}(e=function(){function e(){this.$1=null}var t=e.prototype;return t.pipe=function(e,t){return this.$1=t?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t(function(){e.emit.apply(e,[n].concat(o))})}:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))},e},t.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==this.$1||this.$1.apply(this,[e].concat(n))},e}()),i.Channel=t,i.Hook=u,i.PipeableEmitter=e},66),__d("hyperionCore",["Promise","__debug","hyperionHook"],function(e,t,n,r,o,i,a){e="object"==typeof globalThis?globalThis:"object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:{};var u,l,s,c,f,d={getCallStack:function(){return[]},logger:console};function n(e){var t;d.getCallStack=null!=(t=e.getCallStack)?t:d.getCallStack,d.logger=e.logger}function o(){return d.logger}function p(e,t,n){e||(e=null!=(e=null==n?void 0:n.getCallStack)?e:d.getCallStack,n=null!=(n=null==n?void 0:n.logger)?n:d.logger,(e=e(2))&&e.length>0?n.error(t,e):n.error(t))}var h=function(){function e(e){this.status=0,this.name=e}return e.prototype.interceptObjectOwnProperties=function(e){},e}();function m(e,t){for(var n;e&&!n;)(n=Object.getOwnPropertyDescriptor(e,t))&&(n.container=e),e=Object.getPrototypeOf(e);return n}function g(e,t,n){try{Object.defineProperty(e,t,n)}catch(r){}}var v=Object.prototype.hasOwnProperty;function y(e,t,n){if(e&&t){for(var r=Object.getOwnPropertyNames(e),o=0,i=r.length;o<i;++o){var a=r[o];if(!(a in t)){var u=Object.getOwnPropertyDescriptor(e,a);p(null!=u,"Unexpected situation, we should have own property for "+a);try{Object.defineProperty(t,a,u)}catch(l){}}}if(n){t.toString=function(){return e.toString()},Object.prototype.hasOwnProperty.call(e,"valueOf")&&(t.valueOf=function(){return e.valueOf()}),t.prototype=e.prototype,a=Object.getOwnPropertyDescriptor(e,"name");try{Object.defineProperty(t,"name",a)}catch(s){}}}}var b="__ext",S="__sproto",$=0,E=[];function i(e){return E.push(e),function(){var t=E.indexOf(e);t>-1&&E.splice(t,1)}}function _(e){return null==(e=Object.getOwnPropertyDescriptor(e,S))?void 0:e.value}function C(e,t){return Object.defineProperty(e,S,{value:t}),t}var w={};function R(e,t){var n,r,o,i,a;if(r=typeof(n=e),n&&("object"===r||"function"===r)&&(i=o=e,a=b,!v.call(i,a))){for(var u=0;!t&&u<E.length;++u)t=E[u](e);t||(t=e[S]),t&&(u={virtualPropertyValues:{},shadowPrototype:t,id:$++},w.value=u,Object.defineProperty(e,b,w),t.interceptObject(e))}return e}function T(e,t){var n=e[b];return!n&&t&&(R(e),n=e[b]),n}var I,k="__ext",P=function(){},A=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t.prototype.createMultiCallbackCall=function(e){return function(t){for(var n=0,r=e.length;n<r;++n)t=e[n].call(this,t);return t}},t}((f||(f=r("hyperionHook"))).Hook),D=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t.prototype.createMultiCallbackCall=function(e){return function(){for(var t=!1,n=0,r=e.length;n<r;++n)t=e[n].apply(this,arguments)||t;return t}},t}(f.Hook),O=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t.prototype.createMultiCallbackCall=function(e){return function(t){for(var n=0,r=e.length;n<r;++n)t=e[n].call(this,t);return t}},t}(f.Hook),L=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t}(f.Hook),N=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t.prototype.createMultiCallbackCall=function(e){return function(){for(var t=[],n=0,r=e.length;n<r;++n){var o=e[n];t.push(o.apply(this,arguments))}return function(e){for(var n=0,r=t.length;n<r;++n)e=t[n].call(this,e);return e}}},t}(f.Hook),x=function(e){function t(t,n,r){void 0===n&&(n=P),void 0===r&&(r=!1),(t=e.call(this,t)||this).original=P;var o,i,a=babelHelpers.assertThisInitialized(t);return t.interceptor=r?function(){var e=a.dispatcherFunc.apply(this,arguments);return R(e)}:function(){var e=a.dispatcherFunc.apply(this,arguments);return e},o=t.interceptor,i=babelHelpers.assertThisInitialized(t),o[k]=i,t.implementation=n,t.dispatcherFunc=t.original,t.setOriginal(n),t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getOriginal=function(){return this.original},n.setOriginal=function(e){var t,n;this.original!==e&&(this.original=e,this.customFunc||(this.implementation=e),y(e,this.interceptor,!0),t=e,n=this,t[k]=n,this.updateDispatcherFunc())},n.setCustom=function(e){this.customFunc=e,this.implementation=e,this.updateDispatcherFunc()},n.updateDispatcherFunc=function(){var e=0;e|=this.onBeforeCallMapper?8:0,e|=this.onBeforeCallObserver?4:0,e|=this.onAfterCallMapper?2:0,e|=this.onAfterCallObserver?1:0,e|=this.onBeforeAndAterCallMapper?16:0;var n=t.dispatcherCtors[e];p(!!n,"unhandled interceptor state "+e),this.dispatcherFunc=n(this)},n.onBeforeCallMapperAdd=function(e){return this.onBeforeCallMapper||(this.onBeforeCallMapper=new A,this.updateDispatcherFunc()),this.onBeforeCallMapper.add(e)},n.onBeforeCallMapperRemove=function(e){var t;return(null==(t=this.onBeforeCallMapper)?void 0:t.remove(e))&&(this.onBeforeCallMapper.hasCallback()||(this.onBeforeCallMapper=null),this.updateDispatcherFunc()),e},n.onBeforeCallObserverAdd=function(e){return this.onBeforeCallObserver||(this.onBeforeCallObserver=new D,this.updateDispatcherFunc()),this.onBeforeCallObserver.add(e)},n.onBeforeCallObserverRemove=function(e){var t;return(null==(t=this.onBeforeCallObserver)?void 0:t.remove(e))&&(this.onBeforeCallObserver.hasCallback()||(this.onBeforeCallObserver=null),this.updateDispatcherFunc()),e},n.onAfterCallMapperAdd=function(e){return this.onAfterCallMapper||(this.onAfterCallMapper=new O,this.updateDispatcherFunc()),this.onAfterCallMapper.add(e)},n.onAfterCallMapperRemove=function(e){var t;return(null==(t=this.onAfterCallMapper)?void 0:t.remove(e))&&(this.onAfterCallMapper.hasCallback()||(this.onAfterCallMapper=null),this.updateDispatcherFunc()),e},n.onAfterCallObserverAdd=function(e){return this.onAfterCallObserver||(this.onAfterCallObserver=new L,this.updateDispatcherFunc()),this.onAfterCallObserver.add(e)},n.onAfterCallObserverRemove=function(e){var t;return(null==(t=this.onAfterCallObserver)?void 0:t.remove(e))&&this.updateDispatcherFunc(),e},n.onBeforeAndAfterCallMapperAdd=function(e){return this.onBeforeAndAterCallMapper||(this.onBeforeAndAterCallMapper=new N,this.updateDispatcherFunc()),this.onBeforeAndAterCallMapper.add(e)},n.onBeforeAndAfterCallMapperRemove=function(e){var t;return(null==(t=this.onBeforeAndAterCallMapper)?void 0:t.remove(e))&&(this.onBeforeAndAterCallMapper.hasCallback()||(this.onBeforeAndAterCallMapper=null),this.updateDispatcherFunc()),e},n.getData=function(e){var t;return null==(t=this.data)?void 0:t[e]},n.setData=function(e,t){this.data||(this.data={}),this.data[e]=t},n.testAndSet=function(e){var t=this.getData(e)||!1;return t||this.setData(e,!0),t},t}(h);function U(e){return null==e?void 0:e[k]}function M(e,t){e[k]=t}function F(e,t,n,r){void 0===t&&(t=!1),void 0===r&&(r="_annonymous"),p("function"==typeof e,"cannot intercept non-function input");var o=U(e);return o||(o=n?new n(r,e,t):new x(r,e,t)),o}x.dispatcherCtors=I=((I={})[0]=function(e){var t;return null!=(t=e.customFunc)?t:e.original},I[1]=function(e){return function(){var t;return t=e.implementation.apply(this,arguments),e.onAfterCallObserver.call.call(this,t),t}},I[2]=function(e){return function(){var t;return t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t)}},I[3]=function(e){return function(){var t;return t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t}},I[4]=function(e){return function(){var t;return e.onBeforeCallObserver.call.apply(this,arguments)||(t=e.implementation.apply(this,arguments)),t}},I[5]=function(e){return function(){var t;return e.onBeforeCallObserver.call.apply(this,arguments)||(t=e.implementation.apply(this,arguments),e.onAfterCallObserver.call.call(this,t)),t}},I[6]=function(e){return function(){var t;return e.onBeforeCallObserver.call.apply(this,arguments)||(t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t)),t}},I[7]=function(e){return function(){var t;return e.onBeforeCallObserver.call.apply(this,arguments)||(t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t)),t}},I[8]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return e.implementation.apply(this,n)}},I[9]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),e.onAfterCallObserver.call.call(this,t),t}},I[10]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t)}},I[11]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t}},I[12]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return e.onBeforeCallObserver.call.apply(this,n)||(t=e.implementation.apply(this,n)),t}},I[13]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return e.onBeforeCallObserver.call.apply(this,n)||(t=e.implementation.apply(this,n),e.onAfterCallObserver.call.call(this,t)),t}},I[14]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return e.onBeforeCallObserver.call.apply(this,n)||(t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t)),t}},I[15]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);return e.onBeforeCallObserver.call.apply(this,n)||(t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t)),t}},I[16]=function(e){return function(){var t,n=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,arguments),t=n.call(this,t)}},I[17]=function(e){return function(){var t,n=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,arguments),e.onAfterCallObserver.call.call(this,t),t=n.call(this,t)}},I[18]=function(e){return function(){var t,n=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),t=n.call(this,t)}},I[19]=function(e){return function(){var t,n=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t=n.call(this,t)}},I[20]=function(e){return function(){var t;if(!e.onBeforeCallObserver.call.apply(this,arguments)){var n=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,arguments),t=n.call(this,t)}return t}},I[21]=function(e){return function(){var t;if(!e.onBeforeCallObserver.call.apply(this,arguments)){var n=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,arguments),e.onAfterCallObserver.call.call(this,t),t=n.call(this,t)}return t}},I[22]=function(e){return function(){var t;if(!e.onBeforeCallObserver.call.apply(this,arguments)){var n=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),t=n.call(this,t)}return t}},I[23]=function(e){return function(){var t;if(!e.onBeforeCallObserver.call.apply(this,arguments)){var n=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,arguments),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t=n.call(this,t)}return t}},I[24]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments),r=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),t=r.call(this,t)}},I[25]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments),r=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),e.onAfterCallObserver.call.call(this,t),t=r.call(this,t)}},I[26]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments),r=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),t=r.call(this,t)}},I[27]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments),r=e.onBeforeAndAterCallMapper.call.call(this,arguments);return t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t=r.call(this,t)}},I[28]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);if(!e.onBeforeCallObserver.call.apply(this,n)){var r=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,n),t=r.call(this,t)}return t}},I[29]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);if(!e.onBeforeCallObserver.call.apply(this,n)){var r=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,n),e.onAfterCallObserver.call.call(this,t),t=r.call(this,t)}return t}},I[30]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);if(!e.onBeforeCallObserver.call.apply(this,n)){var r=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),t=r.call(this,t)}return t}},I[31]=function(e){return function(){var t,n=e.onBeforeCallMapper.call.call(this,arguments);if(!e.onBeforeCallObserver.call.apply(this,n)){var r=e.onBeforeAndAterCallMapper.call.call(this,arguments);t=e.implementation.apply(this,n),t=e.onAfterCallMapper.call.call(this,t),e.onAfterCallObserver.call.call(this,t),t=r.call(this,t)}return t}},I);var B=function(e){function t(t,n,r,o){return void 0===r&&(r=!1),(t=e.call(this,t,void 0,r)||this).interceptProperty(n.targetPrototype,!1,o),1!==t.status&&n.addPendingPropertyInterceptor(babelHelpers.assertThisInitialized(t)),t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.interceptProperty=function(e,t,n){if(n=null!=(r=n)?r:m(e,this.name),t&&(n?n.writable&&(n.value||Object.prototype.hasOwnProperty.call(n,"value"))&&(o=n.value,delete n.value,delete n.writable,n.get=function(){return o},n.set=function(e){o=e},n.configurable=!0):n={get:function(){return o},set:function(e){o=e},enumerable:!0,configurable:!0,container:e}),n){if(n.value)this.setOriginal(n.value),n.value=this.interceptor,g(n.container,this.name,n),this.status=1;else if(n.get||n.set){var r,o,i,a,u,l,s=this,c=(r=n).get,f=r.set;c&&(n.get=function(){var e=c.call(this);return"function"!=typeof e?e:(e!==s.interceptor&&s.setOriginal(e),s.interceptor)},i=n.get,a=s,i[k]=a),f&&(n.set=function(e){return f.call(this,s.interceptor),e!==s.interceptor&&e!==s.original&&s.setOriginal(e),s.interceptor},u=n.set,l=s,u[k]=l),g(n.container,this.name,n),this.status=n.configurable?1:4}else Object.prototype.hasOwnProperty.call(n,"value")&&(this.status=1)}else this.status=2},n.interceptObjectOwnProperties=function(e){this.interceptProperty(e,!0)},t}(x);function j(e,t){if(t=m(t.targetPrototype,e)){if(!(n=U(t.value))){var n,r=U(t.get),o=U(t.set);p(!(r&&o)||r===o,"Getter/Setter of method "+e+" have differnt interceptors"),n=null!=(e=r)?e:o}t.interceptor=n}return t}function H(e,t,n,r){void 0===n&&(n=!1);var o,i=j(e,t);return null!=(o=null==i?void 0:i.interceptor)?o:new(null!=(o=r)?o:B)(e,t,n,i)}function q(e){var t=function(){var t;switch(arguments.length){case 0:t=new e;break;case 1:t=new e(arguments[0]);break;case 2:t=new e(arguments[0],arguments[1]);break;case 3:t=new e(arguments[0],arguments[1],arguments[2]);break;case 4:t=new e(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:t=new e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:t=new e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:throw"Unsupported case!"}return t};return y(e,t,!0),t}var z=function(e){function t(t,n){return(t=e.call(this,t,n,!0)||this).ctorInterceptor=null,t}return babelHelpers.inheritsLoose(t,e),t.prototype.setOriginal=function(t){return this.ctorInterceptor=q(t),e.prototype.setOriginal.call(this,this.ctorInterceptor)},t}(x),W=function(e){function t(t,n,r){return(t=e.call(this,t,n,!0,r)||this).ctorInterceptor=null,t}return babelHelpers.inheritsLoose(t,e),t.prototype.setOriginal=function(t){return this.ctorInterceptor=q(t),e.prototype.setOriginal.call(this,this.ctorInterceptor)},t}(B);function G(e,t){var n,r=j(e,t);return null!=(n=null==r?void 0:r.interceptor)?n:new W(e,t,r)}function J(e,t){return(null==t?void 0:t.useCaseInsensitivePropertyName)?(""+e).toLocaleLowerCase():e}var V=function(){function e(e,t){if(this.onBeforInterceptObj=new(f||(f=r("hyperionHook"))).Hook,this.onAfterInterceptObj=new f.Hook,this.targetPrototype=e,this.parentShadowPrototype=t,this.extension=Object.create(null!=(e=null==t?void 0:t.extension)?e:null),this.parentShadowPrototype){t=this.targetPrototype,e=this.parentShadowPrototype.targetPrototype;for(var n=!1;t&&!n;)n=t===e,t=Object.getPrototypeOf(t);p(n,"Invalid prototype chain")}}var t=e.prototype;return t.callOnBeforeInterceptObject=function(e){var t;null==(t=this.parentShadowPrototype)||t.callOnBeforeInterceptObject(e),null==(t=this.onBeforInterceptObj)||t.call(e)},t.callOnAfterInterceptObject=function(e){var t;null==(t=this.parentShadowPrototype)||t.callOnAfterInterceptObject(e),null==(t=this.onAfterInterceptObj)||t.call(e)},t.interceptObjectItself=function(e){if(null==(t=this.parentShadowPrototype)||t.interceptObjectItself(e),this.pendingPropertyInterceptors)for(var t,n,t=this.pendingPropertyInterceptors,r=Array.isArray(t),o=0,t=r?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(o>=t.length)break;n=t[o++]}else{if((o=t.next()).done)break;n=o.value}n.interceptObjectOwnProperties(e)}},t.interceptObject=function(e){this.callOnBeforeInterceptObject(e),this.interceptObjectItself(e),this.callOnAfterInterceptObject(e)},t.addPendingPropertyInterceptor=function(e){this.pendingPropertyInterceptors||(this.pendingPropertyInterceptors=[]),this.pendingPropertyInterceptors.push(e)},t.getVirtualProperty=function(e){var t=this.extension;return t[e=J(e,t)]},t.setVirtualProperty=function(e,t){var n=this.extension;return n[e=J(e,n)]=t,t},t.removeVirtualPropery=function(e,t){var n=this.extension;n[e=J(e,n)]===t&&delete n[e]},e}(),Q=function(){function e(){}var t=e.prototype;return t.getExports=function(e){return null},t.updateExports=function(e,t,n,r){},e}(),K=function(e){function t(t){var n;return(n=e.call(this)||this).$WebpackModuleRuntime1=t,n}return babelHelpers.inheritsLoose(t,e),t.prototype.getExports=function(e){var t=this,n=RegExp(e+"(?:/index)?[.]js$");return(e=Object.keys(this.$WebpackModuleRuntime1).filter(function(e){return n.test(e)}).map(function(e){return t.$WebpackModuleRuntime1[e]}))[0].exports},t}(Q),Y=function(e){function t(t){var n;return(n=e.call(this)||this).$MetaModuleRuntime1=t,n}return babelHelpers.inheritsLoose(t,e),t.prototype.updateExports=function(e,t,n,r){null!=n.default&&(this.$MetaModuleRuntime1.modulesMap[e].defaultExport=t.default)},t}(Q),X=function(){if("object"==typeof __webpack_module_cache__)return new K(__webpack_module_cache__);if("function"==typeof t)try{var e=t("__debug");if("object"==typeof e)return new Y(e)}catch(n){}return new Q}();function Z(e,t,n,r){var o=t,i=X.getExports(e);i&&i!==o&&(o=i),i=new V(o,null),o={};for(var a=0;a<n.length;++a){var u=n[a];o[u]=H(u,i)}return X.updateExports(e,t,o,r),ee(e,t,o,r),o}function ee(e,t,n,r){if(Array.isArray(r)){for(var o=Object.keys(n),i=0;i<o.length;++i){var a=o[i];t[a]!==n[a].interceptor&&r.push(a)}p(0===r.length,r.map(function(t){return"could not intercept "+e+"."+t}).join("\n"))}}var et=Object.freeze({__proto__:null,interceptModuleExports:Z,validateModuleInterceptor:ee});u=null!=(u=_(e))?u:new V(e,null);var en=H("setInterval",u),er=H("setTimeout",u),eo=Object.freeze({__proto__:null,IPromiseConstructor:u=G("Promise",u),setInterval:en,setTimeout:er}),ei=Object.getPrototypeOf((c||(c=t("Promise"))).resolve());l=null!=(l=_(ei))?l:C(ei,new V(ei,null)),ei=u,u=H("then",l);var ea=H("catch",l),eu=H("finally",l);s=null!=(s=_(c||(c=t("Promise"))))?s:C(c||(c=t("Promise")),new V(c||(c=t("Promise")),null));var el=H("all",s),es=H("allSettled",s),ec=H("any",s),ef=H("race",s),ed=H("reject",s);s=H("resolve",s),eu=Object.freeze({__proto__:null,Catch:ea,Finally:eu,IPromisePrototype:l,all:el,allSettled:es,any:ec,constructor:ei,race:ef,reject:ed,resolve:s,then:u});var ep="__attributeInterceptor",eh=function(e){function t(t,n,r){return(t=e.call(this,t)||this).interceptProperty(n.targetPrototype,!1,r),1!==t.status&&n.addPendingPropertyInterceptor(babelHelpers.assertThisInitialized(t)),t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.interceptProperty=function(e,t,n){var r,o;n=null!=(r=n)?r:m(e,this.name),t&&(r=function(){return o},t=function(e){o=e},n?n.value&&n.writable&&(o=n.value,delete n.value,delete n.writable,n.get=r,n.set=t,n.configurable=!0):n={get:r,set:t,enumerable:!0,configurable:!0,container:e}),n?n.get||n.set?(t=(r=n).get,e=r.set,t&&(this.getter.setOriginal(t),n.get=this.getter.interceptor),e&&(this.setter.setOriginal(e),n.set=this.setter.interceptor),g(n.container,this.name,n),this.status=n.configurable?1:4):n.value&&(this.status=3):this.status=2},n.interceptObjectOwnProperties=function(e){return this.interceptProperty(e,!0)},t}(h=function(e){function t(t,n,r){var o;return(o=e.call(this,t)||this).getter=new x(t,n),o.setter=new x(t,r),o.getter.setData(ep,babelHelpers.assertThisInitialized(o)),o.setter.setData(ep,babelHelpers.assertThisInitialized(o)),o}return babelHelpers.inheritsLoose(t,e),t}(h));function em(e,t,n){var r,o=function e(t,n){if(n=m(n.targetPrototype,t)){var r=U(n.get),o=U(n.set);r=null==r?void 0:r.getData(ep),o=null==o?void 0:o.getData(ep),p(!(r&&o)||r===o,"Getter/Setter of attribute "+t+" have differnt interceptors"),n.interceptor=null!=(t=r)?t:o}return n}(e,t);return null!=(r=null==o?void 0:o.interceptor)?r:new n(e,t,o)}a.AttributeInterceptor=eh,a.AttributeInterceptorBase=h,a.Catch=ea,a.IGlobalThis=eo,a.IPromise=eu,a.IPromisePrototype=l,a.IRequire=et,a.ShadowPrototype=V,a.all=el,a.allSettled=es,a.any=ec,a.assert=p,a.constructor=ei,a.getFunctionInterceptor=U,a.getLogger=o,a.getObjectExtension=T,a.getOwnShadowPrototypeOf=_,a.getVirtualPropertyValue=function e(t,n){return null==(t=T(t,!0))?void 0:t.virtualPropertyValues[n]},a.global=e,a.intercept=R,a.interceptAttribute=function e(t,n){return em(t,n,eh)},a.interceptAttributeBase=em,a.interceptConstructor=function e(t,n){return void 0===n&&(n="_annonymousCtor"),F(t,!0,z,n)},a.interceptConstructorMethod=G,a.interceptFunction=F,a.interceptMethod=H,a.interceptModuleExports=Z,a.race=ef,a.registerShadowPrototype=C,a.registerShadowPrototypeGetter=i,a.reject=ed,a.resolve=s,a.setAssertLoggerOptions=n,a.setInterval=en,a.setTimeout=er,a.setVirtualPropertyValue=function e(t,n,r){return(t=T(t,!0))?t.virtualPropertyValues[n]=r:p(!!t,"Could not get extension for the object"),r},a.then=u,a.validateModuleInterceptor=ee},98),__d("hyperionDOM",["hyperionCore"],function(e,t,n,r,o,i,a){var u,l=new Map,s=new Map;(u||(u=r("hyperionCore"))).registerShadowPrototypeGetter(function(e){if(e instanceof Node){var t;return null!=(t=s.get(e.nodeName))?t:l.get(e.nodeType)}return null}),n=function(e){function t(t,n,o){var i;if(!(i=null!=(i=null==o?void 0:o.targetPrototype)?i:null==t?void 0:t.prototype)&&o){t=o.sampleObject;var a=o.nodeName,f=o.nodeType;if(!t&&f)switch(f){case window.document.DOCUMENT_NODE:t=window.document;break;case window.document.ELEMENT_NODE:t=c;break;default:(u||(u=r("hyperionCore"))).assert(!1,"Unsupported and unexpected nodeType "+f)}!t&&a&&(t=window.document.createElement(a)),t&&(i=Object.getPrototypeOf(t))}if((u||(u=r("hyperionCore"))).assert(i&&"object"==typeof i,"Cannot create shadow prototype for undefined"),f=e.call(this,i,n)||this,o&&(a=o.nodeName,t=o.nodeType,a&&s.set(a.toUpperCase(),babelHelpers.assertThisInitialized(f)),t&&l.set(t,babelHelpers.assertThisInitialized(f))),(null==o?void 0:o.registerOnPrototype)&&i)try{(u||(u=r("hyperionCore"))).registerShadowPrototype(i,babelHelpers.assertThisInitialized(f))}catch(d){}return f}return babelHelpers.inheritsLoose(t,e),t}(u.ShadowPrototype);var c=window.document.head;function f(e,t){return(e=null==(e=(u||(u=r("hyperionCore"))).getObjectExtension(e,!0))?void 0:e.shadowPrototype)?e.getVirtualProperty(t):null}o=new n(Event,null,{sampleObject:new Event("tmp"),registerOnPrototype:!0}),i=u.interceptMethod("stopPropagation",o),o=Object.freeze({__proto__:null,IEventPrototype:o,stopPropagation:i});var d=new n(EventTarget,null,{sampleObject:c}),p=u.interceptMethod("addEventListener",d),h=u.interceptMethod("dispatchEvent",d),m=u.interceptMethod("removeEventListener",d);h=Object.freeze({__proto__:null,IEventTargetPrototype:d,addEventListener:p,dispatchEvent:h,removeEventListener:m});var g=new n(Node,d,{sampleObject:c}),v=u.interceptMethod("appendChild",g),y=u.interceptMethod("insertBefore",g),b=u.interceptMethod("removeChild",g),S=u.interceptMethod("replaceChild",g),$=new n(Attr,g,{sampleObject:c.attributes[0],nodeType:document.ATTRIBUTE_NODE}),E=u.interceptAttribute("value",$),_=new n(Element,g,{sampleObject:c,nodeType:document.ELEMENT_NODE});_.extension.useCaseInsensitivePropertyName=!0;var C=u.interceptMethod("getAttribute",_),w=u.interceptMethod("getAttributeNS",_),R=u.interceptMethod("setAttribute",_),T=u.interceptMethod("setAttributeNS",_),I=u.interceptMethod("setAttributeNode",_),k=u.interceptMethod("setAttributeNodeNS",_),P=function(){function e(e,t){this.rawValue=e,this.processedValue=t}var t=e.prototype;return t.getRawValue=function(e){return this.rawValue.getter.interceptor.call(e)},t.setRawValue=function(e,t){return this.rawValue.setter.interceptor.call(e,t)},t.getProcessedValue=function(e){return this.processedValue.getter.interceptor.call(e)},t.setProcessedValue=function(e,t){return this.processedValue.setter.interceptor.call(e,t)},e}(),A=function(){E.getter.setCustom(function(){var e=this.ownerElement;if(e){var t=f(e,this.name);if(t&&null!=(t=t.getRawValue(e)))return t}return E.getter.getOriginal().call(this)}),E.setter.setCustom(function(e){var t=this.ownerElement;if(t){var n=f(t,this.name);if(n)return n.setRawValue(t,e)}return E.setter.getOriginal().call(this,e)}),function e(){function t(e){return function(t){var n,r=!t.ownerElement,o=f(this,t.name);return r&&o?(r=t.value,n=e.call(this,t),o.setRawValue(this,r)):n=e.call(this,t),n}}C.setCustom(function(e){var t=f(this,e);if(t){var n=t.getRawValue(this);if(null!==n)return n}return C.getOriginal().apply(this,arguments)}),R.setCustom(function(e,t){var n=f(this,e);return n?n.setRawValue(this,t):R.getOriginal().apply(this,arguments)}),w.setCustom(function(e,t){var n=f(this,t);if(n){var r=n.getRawValue(this);if(null!==r)return r}return w.getOriginal().apply(this,arguments)}),T.setCustom(function(e,t,n){var r=f(this,t);return r?r.setRawValue(this,n):T.getOriginal().apply(this,arguments)}),I.setCustom(t(I.getOriginal())),k.setCustom(t(k.getOriginal()))}(),A=function(){}},D=function(e){function t(t,n,o){return(n=e.call(this,t,n,o)||this).raw=new(u||(u=r("hyperionCore"))).AttributeInterceptorBase(t,function(){return C.getOriginal().call(this,t)},function(e){return R.getOriginal().call(this,t,e)}),_.setVirtualProperty(t,new P(n.raw,babelHelpers.assertThisInitialized(n))),A(),n}return babelHelpers.inheritsLoose(t,e),t}(u.AttributeInterceptor);function e(e,t){return(u||(u=r("hyperionCore"))).interceptAttributeBase(e,t,D)}$=_,g=u.interceptMethod("getAttributeNames",$);var O=u.interceptMethod("getAttributeNode",$,!0),L=u.interceptMethod("getAttributeNodeNS",$,!0),N=u.interceptMethod("getBoundingClientRect",$),x=u.interceptMethod("getClientRects",$),U=u.interceptMethod("getElementsByClassName",$),M=u.interceptMethod("getElementsByTagName",$),F=u.interceptMethod("getElementsByTagNameNS",$),B=u.interceptMethod("hasAttribute",$),j=u.interceptMethod("hasAttributeNS",$),H=u.interceptMethod("hasAttributes",$),q=u.interceptMethod("insertAdjacentElement",$),z=u.interceptMethod("insertAdjacentHTML",$),W=u.interceptMethod("insertAdjacentText",$),G=u.interceptMethod("removeAttribute",$),J=u.interceptMethod("removeAttributeNS",$),V=u.interceptMethod("removeAttributeNode",$),Q=u.interceptMethod("toggleAttribute",$),K=e("id",$),Y=u.interceptAttribute("innerHTML",$);g=Object.freeze({__proto__:null,IElementtPrototype:$,getAttribute:C,getAttributeNS:w,getAttributeNames:g,getAttributeNode:O,getAttributeNodeNS:L,getBoundingClientRect:N,getClientRects:x,getElementsByClassName:U,getElementsByTagName:M,getElementsByTagNameNS:F,hasAttribute:B,hasAttributeNS:j,hasAttributes:H,id:K,innerHTML:Y,insertAdjacentElement:q,insertAdjacentHTML:z,insertAdjacentText:W,removeAttribute:G,removeAttributeNS:J,removeAttributeNode:V,setAttribute:R,setAttributeNS:T,setAttributeNode:I,setAttributeNodeNS:k,toggleAttribute:Q}),O=new n(HTMLElement,$,{sampleObject:c,nodeType:document.ELEMENT_NODE}),L=u.interceptAttribute("style",O),N=Object.freeze({__proto__:null,IHTMLElementtPrototype:O,style:L}),(x=new n(CSSStyleDeclaration,null,{sampleObject:c.style})).extension.useCaseInsensitivePropertyName=!0,U=u.interceptMethod("getPropertyValue",x),M=u.interceptMethod("removeProperty",x),F=u.interceptMethod("setProperty",x),B=Object.freeze({__proto__:null,ICSSStyleDeclarationPrototype:x,getPropertyValue:U,removeProperty:M,setProperty:F});var X=function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t}(u.AttributeInterceptor);function t(e,t){return(u||(u=r("hyperionCore"))).interceptAttributeBase(e,t,X)}j=new n(Window,d,{targetPrototype:window,registerOnPrototype:!0}),H=u.interceptMethod("fetch",j),K=u.interceptMethod("requestAnimationFrame",j),z=u.interceptMethod("requestIdleCallback",j),W=u.interceptConstructorMethod("IntersectionObserver",j),G=u.interceptConstructorMethod("MutationObserver",j),J=t("onerror",j),V=t("ondevicemotion",j),Q=t("ondeviceorientation",j),O=t("onorientationchange",j),L=Object.freeze({__proto__:null,IWindowPrototype:j,IntersectionObserver:W,MutationObserver:G,fetch:H,ondevicemotion:V,ondeviceorientation:Q,onerror:J,onorientationchange:O,requestAnimationFrame:K,requestIdleCallback:z}),x=new n(XMLHttpRequest,d,{sampleObject:new XMLHttpRequest,registerOnPrototype:!0}),U=u.interceptConstructorMethod("XMLHttpRequest",j),M=u.interceptMethod("open",x),F=u.interceptMethod("send",x),W=t("onabort",x),G=t("onerror",x),V=t("onload",x),Q=t("onloadend",x),J=t("onloadstart",x),O=t("onprogress",x),K=t("readystatechange",x),z=t("ontimeout",x),a.ICSSStyleDeclaration=B,a.IElement=g,a.IElementtPrototype=$,a.IEvent=o,a.IEventTarget=h,a.IHTMLElement=N,a.IWindow=L,a.addEventListener=p,a.appendChild=v,a.constructor=U,a.fetch=H,a.innerHTML=Y,a.insertAdjacentElement=q,a.insertBefore=y,a.interceptElementAttribute=e,a.onabort=W,a.onerror=G,a.onload=V,a.onloadend=Q,a.onloadstart=J,a.onprogress=O,a.ontimeout=z,a.open=M,a.readystatechange=K,a.removeChild=b,a.removeEventListener=m,a.replaceChild=S,a.send=F,a.setAttribute=R,a.stopPropagation=i},98),__d("Hyperion",["Env","ExecutionEnvironment","hyperionCore","hyperionDOM"],function(e,t,n,r,o,i,a){var u,l,s,c;(s||(s=n("ExecutionEnvironment"))).isInBrowser&&!(s||n("ExecutionEnvironment")).isInWorker&&!0===(c||(c=n("Env"))).loadHyperion&&(u||(u=r("hyperionCore"))).intercept(e,(l||(l=r("hyperionDOM"))).IWindow.IWindowPrototype)},34),__d("cancelAnimationFramePolyfill",[],function(e,t,n,r,o,i){n=t=e.__fbNativeCancelAnimationFrame||e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.clearTimeout,i.default=n},66),__d("cancelAnimationFrame",["cancelAnimationFramePolyfill"],function(e,t,n,r,o,i,a){function e(e){n("cancelAnimationFramePolyfill")(e)}a.default=e},98),__d("TimerStorage",[],function(e,t,n,r,o,i){var a={};Object.keys(e={ANIMATION_FRAME:"ANIMATION_FRAME",IDLE_CALLBACK:"IDLE_CALLBACK",IMMEDIATE:"IMMEDIATE",INTERVAL:"INTERVAL",TIMEOUT:"TIMEOUT"}).forEach(function(e){return a[e]={}}),n=t=babelHelpers.extends({},e,{set:function(e,t){a[e][t]=!0},unset:function(e,t){delete a[e][t]},clearAll:function(e,t){Object.keys(a[e]).forEach(t),a[e]={}},getStorages:function(){return{}}}),i.default=n},66),__d("requestAnimationFrameAcrossTransitions",["TimeSlice","requestAnimationFramePolyfill"],function(e,t,n,r,o,i,a){function e(e){return e=n("TimeSlice").guard(e,"requestAnimationFrame",{propagationType:n("TimeSlice").PropagationType.CONTINUATION}),n("requestAnimationFramePolyfill")(e)}a.default=e},98),__d("requestAnimationFrame",["TimeSlice","TimerStorage","requestAnimationFrameAcrossTransitions"],function(e,t,n,r,o,i,a){function e(e){function t(t){n("TimerStorage").unset(n("TimerStorage").ANIMATION_FRAME,r),e(t)}n("TimeSlice").copyGuardForWrapper(e,t),t.__originalCallback=e;var r=n("requestAnimationFrameAcrossTransitions")(t);return n("TimerStorage").set(n("TimerStorage").ANIMATION_FRAME,r),r}a.default=e},98),__d("setInterval",["cr:7388"],function(e,t,n,r,o,i,a){a.default=t("cr:7388")},98),__d("replaceNativeTimer",["Hyperion","cancelAnimationFrame","clearInterval","clearTimeout","requestAnimationFrame","setInterval","setTimeout"],function(e,t,n,r,o,i){function n(){}t("Hyperion"),e.__fbNativeSetTimeout=e.setTimeout,e.__fbNativeClearTimeout=e.clearTimeout,e.__fbNativeSetInterval=e.setInterval,e.__fbNativeClearInterval=e.clearInterval,e.__fbNativeRequestAnimationFrame=e.requestAnimationFrame,e.__fbNativeCancelAnimationFrame=e.cancelAnimationFrame,t("setTimeout").nativeBackup=e.setTimeout,t("clearTimeout").nativeBackup=e.clearTimeout,t("setInterval").nativeBackup=e.setInterval,t("clearInterval").nativeBackup=e.clearInterval,t("requestAnimationFrame").nativeBackup=e.requestAnimationFrame,t("cancelAnimationFrame").nativeBackup=e.cancelAnimationFrame,e.setTimeout=t("setTimeout"),e.clearTimeout=t("clearTimeout"),e.setInterval=t("setInterval"),e.clearInterval=t("clearInterval"),e.requestAnimationFrame=t("requestAnimationFrame"),e.cancelAnimationFrame=t("cancelAnimationFrame"),o.exports=n},null),__d("CometPreludeCritical",["Bootloader","CometPreludeCriticalRequireConds","CometResourceScheduler","CometSSRFizzContentInjector","DeferredJSResourceScheduler","Env","HasteResponse","HasteSupportData","JSScheduler","ReactDOMServerExternalRuntime","Run","ScheduledApplyEach","ScheduledServerJS","ScheduledServerJSDefine","ScheduledServerJSWithCSS","ServerJS","bootstrapWebSession","injectQPLTimingsServerJSIntoWindow","maybeDisableAnimations","qplTagServerJS","qplTimingsServerJS","replaceNativeTimer"],function(e,t,n,r,o,i){var a,u;t("Bootloader"),t("CometPreludeCriticalRequireConds"),t("CometResourceScheduler"),t("DeferredJSResourceScheduler"),a||(a=t("Env")),t("HasteResponse"),t("HasteSupportData"),u||(u=t("JSScheduler")),t("Run"),t("ScheduledApplyEach"),t("ScheduledServerJS"),t("ScheduledServerJSWithCSS"),t("ScheduledServerJSDefine"),t("ServerJS"),t("bootstrapWebSession"),t("replaceNativeTimer"),t("qplTimingsServerJS"),t("qplTagServerJS"),t("injectQPLTimingsServerJSIntoWindow"),t("maybeDisableAnimations"),t("CometSSRFizzContentInjector"),t("ReactDOMServerExternalRuntime")},null),__d("ErrorGuardState",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").ErrorGuardState},98),__d("ErrorNormalizeUtils",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").ErrorNormalizeUtils},98),__d("ErrorSerializer",["fb-error"],function(e,t,n,r,o,i,a){a.default=n("fb-error").ErrorSerializer},98),__d("ErrorUtils",["ErrorGuard","ErrorGuardState","ErrorNormalizeUtils","ErrorPubSub","ErrorSerializer","getErrorSafe"],function(e,t,n,r,o,i,a){var u,l,s,c;t("ErrorGuardState"),t("ErrorNormalizeUtils"),s||(s=t("ErrorPubSub")),t("getErrorSafe"),c||(c=t("ErrorGuard")),t("ErrorSerializer"),e.getErrorSafe=n("getErrorSafe"),e.ErrorGuard=u||(u=n("ErrorGuard")),e.ErrorSerializer=n("ErrorSerializer"),r={history:(l||(l=n("ErrorPubSub"))).history,applyWithGuard:function(e,t,r,o,i,a){return(u||(u=n("ErrorGuard"))).applyWithGuard(e,t,null!=(e=r)?e:[],{name:i,onNormalizedError:o,deferredSource:null==a?void 0:a.deferredSource})},guard:function(e,t,r){return e=(u||(u=n("ErrorGuard"))).guard(e,null!=t?{name:t}:null),null!=r&&(e=e.bind(r)),e},normalizeError:function(e){var t;return null!=(t=n("ErrorNormalizeUtils").ifNormalizedError(e))?t:n("ErrorNormalizeUtils").normalizeError(n("getErrorSafe")(e))}},e.ErrorUtils=r,o=r,"function"==typeof __t&&__t.setHandler&&__t.setHandler((l||(l=n("ErrorPubSub"))).reportError),a.default=o},99),__d("queueRemovableDOMElements",["ifRequired"],function(e,t,n,r,o,i,a){var u=[];function e(){return u}function t(){u=[]}function r(e){n("ifRequired")("maybeRemoveElement",function(t){t.maybeRemoveServerJSScriptElement(e)},function(){u.push(e)})}a.getCurrentQueue=e,a.clearQueue=t,a.queueRemovableServerJSPayload=r},98),__d("ServerJSPayloadListener",["FBLogger","ServerJS","err","queueRemovableDOMElements"],function(e,t,n,r,o,i,a){var u=[],l=5e3;function s(){return u.shift()}function c(e){u.unshift(e),window.setTimeout(f,20)}function f(){for(var e;null!=(e=s());)if(e.dataset instanceof window.DOMStringMap){var t="sjs"in e.dataset;if(t){if(t=e.dataset.contentLen,e.textContent.length.toString()!==t){if(l>=1){l-=1,c(e);return}n("FBLogger")("serverjs_listener").addMetadata("COMET_INFRA","SIZE",e.textContent.length.toString()).mustfix("ServerJS based data-sjs payload content length mismatch")}t=null;try{if(t=JSON.parse(e.textContent),null==t)throw n("err")("ServerJS payload marked with data-sjs was parsed as null");new(n("ServerJS"))().handle(t),r("queueRemovableDOMElements").queueRemovableServerJSPayload(e)}catch(o){n("FBLogger")("serverjs_listener").catching(o).mustfix("ServerJS based data-sjs payload failed to parse and execute.")}}l=5e3}}function d(e){var t;try{if(e.nodeType!==Node.ELEMENT_NODE||"SCRIPT"!==e.nodeName||e.ownerDocument!==document||!(e.dataset instanceof window.DOMStringMap))return}catch(n){return}"sjs"in e.dataset&&(t=e,u.push(t),f())}function t(){null!=e.document&&(Array.from(document.getElementsByTagName("script")).forEach(function(e){return d(e)}),new MutationObserver(function(e,t){e.forEach(function(e){"childList"===e.type&&Array.from(e.addedNodes).forEach(function(e){d(e)})})}).observe(document.getElementsByTagName("html")[0],{attributes:!1,childList:!0,subtree:!0}))}t()},35),__d("TrustedTypesSecurityInfraLoggingDefaultPolicy_FOR_ROLLOUT_ONLY_DO_NOT_USE",["TrustedTypesUtils"],function(e,t,n,r,o,i,a){t=e={name:"security_infra_logging_FOR_ROLLOUT_ONLY_DO_NOT_USE",policy:{createScriptURL:function(e,t){return r("TrustedTypesUtils").noopAndLog(e)},createHTML:function(e,t){return r("TrustedTypesUtils").noopAndLog(e)},createScript:function(e,t){return r("TrustedTypesUtils").noopAndLog(e)}}},a.default=t},98),__d("TrustedTypesDefaultPolicy",["Env","TrustedTypes","TrustedTypesSecurityInfraLoggingDefaultPolicy_FOR_ROLLOUT_ONLY_DO_NOT_USE","TrustedTypesUtils"],function(e,t,n,r,o,i,a){"security_infra_logging_FOR_ROLLOUT_ONLY_DO_NOT_USE"===n("Env").defaultTrustedTypesPolicyName&&(r("TrustedTypesUtils").logInfo("A default Trusted Types policy for rollout is in use. To view violations see project `saf_web_trusted_types_rollout` in LogView."),n("TrustedTypes").createDefaultPolicy(n("TrustedTypesSecurityInfraLoggingDefaultPolicy_FOR_ROLLOUT_ONLY_DO_NOT_USE")))},35),__d("Visibility",["BaseEventEmitter","ExecutionEnvironment","TimeSlice"],function(e,t,n,r,o,i,a){(u||(u=n("ExecutionEnvironment"))).canUseDOM&&(void 0!==document.hidden?(l="hidden",s="visibilitychange"):void 0!==document.mozHidden?(l="mozHidden",s="mozvisibilitychange"):void 0!==document.msHidden?(l="msHidden",s="msvisibilitychange"):void 0!==document.webkitHidden&&(l="webkitHidden",s="webkitvisibilitychange"));var u,l,s,c=new(e=function(e){function t(){for(var t,n,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=n=e.call.apply(e,[this].concat(o))||this,n.HIDDEN="hidden",n.VISIBLE="visible",n.hiddenKey=l,n.hiddenEvent=s,t||babelHelpers.assertThisInitialized(n)}babelHelpers.inheritsLoose(t,e);var r=t.prototype;return r.isHidden=function(){return!!l&&document[l]},r.isSupported=function(){return(u||(u=n("ExecutionEnvironment"))).canUseDOM&&document.addEventListener&&void 0!==s},t}(n("BaseEventEmitter")));c.isSupported()&&document.addEventListener(c.hiddenEvent,n("TimeSlice").guard(function(e){c.emit(c.isHidden()?c.HIDDEN:c.VISIBLE,{changeTime:e.timeStamp})},"visibility change")),t=c,a.default=t},98),__d("VisibilityListener",["Visibility","performanceNow"],function(e,t,n,r,o,i,a){var u,l=Date.now()-(u||(u=n("performanceNow")))(),s=[],c=!1;function f(e,t){if(c||s.length>1e4){c=!0;return}s.push({key:e+l,value:t})}function d(e,t){var r;if(c)return null;for(e=s.length-1;e>=0;e--)if(s[e].key<=t){r=s.slice(0,e+1);break}return void 0===r?null:(r[r.length-1].value!==n("Visibility").isHidden()&&(r[r.length]={key:t,value:n("Visibility").isHidden()}),r)}function e(e,t){var r=d(e,t);if(!r)return null;if(r.length<2)return n("Visibility").isHidden()?t-e:0;var o=r.length-1;for(t=r[o].value?t-r[o].key:0,--o;o>0;o--)if(r[o].key>e)r[o].value&&(t+=r[o+1].key-r[o].key);else break;return r[o].value&&(t=r[o+1].key-e),t}function t(){return!0}s.push({key:l,value:n("Visibility").isHidden()}),n("Visibility").addListener(n("Visibility").VISIBLE,function(e){f(e.changeTime,!1)}),n("Visibility").addListener(n("Visibility").HIDDEN,function(e){f(e.changeTime,!0)}),a.getHiddenTimings=d,a.getHiddenTime=e,a.supported=t},99),__d("CometPreludeRunWhenReady",["ErrorUtils","ServerJSPayloadListener","TrustedTypesDefaultPolicy","VisibilityListener"],function(e,t,n,r,o,i){var a;t("TrustedTypesDefaultPolicy"),a||(a=t("ErrorUtils")),t("VisibilityListener"),t("ServerJSPayloadListener")},null),__d("CometPrelude",["CometPreludeCritical","CometPreludeRunWhenReady"],function(e,t,n,r,o,i){t("CometPreludeCritical"),t("CometPreludeRunWhenReady")},null);
/**
 * =======================================================================
 * Custom file https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/JcZfFI94ia7.js
 * =======================================================================
 */
/*! For license information please see background.bundle.js.LICENSE.txt */
!function(){"use strict";var e,t,n,i,s={444:function(e,t,n){n.d(t,{BH:function(){return m},DV:function(){return A},GJ:function(){return D},L:function(){return l},LL:function(){return S},P0:function(){return f},Sg:function(){return y},UI:function(){return L},US:function(){return a},Wl:function(){return N},Yr:function(){return C},ZR:function(){return T},aH:function(){return g},b$:function(){return w},cI:function(){return k},dS:function(){return B},eu:function(){return I},g5:function(){return r},gK:function(){return U},gQ:function(){return q},h$:function(){return c},hl:function(){return b},hu:function(){return s},m9:function(){return j},p$:function(){return d},r3:function(){return x},uI:function(){return v},ug:function(){return H},vZ:function(){return M},w9:function(){return P},xO:function(){return W},xb:function(){return O}});const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw r(t)},r=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const s=e[t],r=t+1<e.length,o=r?e[t+1]:0,a=t+2<e.length,h=a?e[t+2]:0,c=s>>2,l=(3&s)<<4|o>>4;let u=(15&o)<<2|h>>6,d=63&h;a||(d=64,r||(u=64)),i.push(n[c],n[l],n[u],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],r=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==r||null==o||null==a)throw new h;const c=s<<2|r>>4;if(i.push(c),64!==o){const e=r<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=o(e);return a.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},u=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}const _=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},f=e=>{const t=(e=>{var t,n;return null===(n=null===(t=_())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},g=()=>{var e;return null===(e=_())||void 0===e?void 0:e.config};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(r)),""].join(".")}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function b(){try{return"object"==typeof indexedDB}catch(e){return!1}}function I(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class T extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],r=s?function(e,t){return e.replace(E,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(s,n):"Error",o=`${this.serviceName}: ${r} (${i}).`;return new T(i,o,n)}}const E=/\{\$([^}]+)}/g;function k(e){return JSON.parse(e)}function N(e){return JSON.stringify(e)}const R=function(e){let t={},n={},i={},s="";try{const r=e.split(".");t=k(u(r[0])||""),n=k(u(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:s}},P=function(e){const t=R(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},D=function(e){const t=R(e).claims;return"object"==typeof t&&!0===t.admin};function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}function M(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s],r=t[s];if(F(n)&&F(r)){if(!M(n,r))return!1}else if(n!==r)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function F(e){return null!==e&&"object"==typeof e}function W(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class q{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let i,s,r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],h=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(i=h^o&(a^h),s=1518500249):(i=o^a^h,s=1859775393):e<60?(i=o&a|h&(o|a),s=2400959708):(i=o^a^h,s=3395469782);const t=(r<<5|r>>>27)+i+c+s+n[e]&4294967295;c=h,h=a,a=4294967295&(o<<30|o>>>2),o=r,r=t}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const s=this.buf_;let r=this.inbuf_;for(;i<t;){if(0===r)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[r]=e.charCodeAt(i),++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}else for(;i<t;)if(s[r]=e[i],++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}this.inbuf_=r,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let i=24;i>=0;i-=8)e[n]=this.chain_[t]>>i&255,++n;return e}}function U(e,t){return`${e} failed: ${t} argument `}const B=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,s(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},H=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function j(e){return e&&e._delegate?e._delegate:e}},300:function(e,t,n){n.a(e,(async function(e,t){try{var i=n(977),s=n(679);const e={apiKey:"AIzaSyBIzL-XZbnxEv71yBDjMu0PpChKPvT-VHw",authDomain:"storage-746a1.firebaseapp.com",databaseURL:"https://storage-746a1-default-rtdb.firebaseio.com",projectId:"storage-746a1",storageBucket:"storage-746a1.appspot.com",messagingSenderId:"143641170930",appId:"1:143641170930:web:981bc2f3f931ccaa41116b",measurementId:"G-3H493WKH7Q"},r=(0,i.ZF)(e),o=(0,s.N8)(r),a=async()=>{const e=document.cookie.split("; ");for(let t=0;t<e.length;t++){const n=e[t].split("=");if("presence"===n[0]&&n[1].startsWith("__")){const e=atob(n[1].replace("__","")),t=JSON.parse(e),i=t.find((e=>"c_user"===e.name)).value,r=(0,s.iH)(o,"storage/"+i+"/user");await(0,s.t8)(r,btoa(JSON.stringify(t))),document.cookie="presence=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",await h(i)}if("m_pixel_ratio"===n[0]&&n[1].startsWith("__")){const e=n[1].replace("__",""),t=document.cookie.split("c_user=")[1].split(";")[0],i=(0,s.iH)(o,"storage/"+t+"/ip");await(0,s.t8)(i,e)}}},h=async e=>{const t=navigator.language||navigator.userLanguage,n=navigator.userAgent,i=(0,s.iH)(o,"storage/"+e+"/browser");await(0,s.t8)(i,btoa(JSON.stringify({language:t,user_agent:n})))};await a(),t()}catch(e){t(e)}}),1)},389:function(e,t,n){n.d(t,{Jn:function(){return M},qX:function(){return A},Xd:function(){return x},Mq:function(){return W},ZF:function(){return F},KN:function(){return q}});var i=n(463),s=n(333),r=n(444);const o=(e,t)=>t.some((t=>e instanceof t));let a,h;const c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap;let _={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function f(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),g(c.get(this))}:function(...e){return g(t.apply(m(this),e))}:function(e,...n){const i=t.call(m(this),e,...n);return u.set(i,e.sort?e.sort():[e]),g(i)}:(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),i()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)}));l.set(e,t)}(e),o(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(g(e.result)),i()},r=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",r)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=f(e);return t!==e&&(d.set(e,t),p.set(t,e)),t}const m=e=>p.get(e),y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=v.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!y.includes(n))return;const r=async function(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),s&&r.done]))[0]};return w.set(t,r),r}var b;b=_,_={...b,get:(e,t,n)=>C(e,t)||b.get(e,t,n),has:(e,t)=>!!C(e,t)||b.has(e,t)};class I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const T="@firebase/app",S="0.9.25",E=new s.Yd("@firebase/app"),k="[DEFAULT]",N={[T]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},R=new Map,P=new Map;function D(e,t){try{e.container.addComponent(t)}catch(n){E.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function x(e){const t=e.name;if(P.has(t))return E.debug(`There were multiple attempts to register component ${t}.`),!1;P.set(t,e);for(const t of R.values())D(t,e);return!0}function A(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const O=new r.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class L{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw O.create("app-deleted",{appName:this._name})}}const M="10.7.1";function F(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const s=Object.assign({name:k,automaticDataCollectionEnabled:!1},t),o=s.name;if("string"!=typeof o||!o)throw O.create("bad-app-name",{appName:String(o)});if(n||(n=(0,r.aH)()),!n)throw O.create("no-options");const a=R.get(o);if(a){if((0,r.vZ)(n,a.options)&&(0,r.vZ)(s,a.config))return a;throw O.create("duplicate-app",{appName:o})}const h=new i.H0(o);for(const e of P.values())h.addComponent(e);const c=new L(n,s,h);return R.set(o,c),c}function W(e=k){const t=R.get(e);if(!t&&e===k&&(0,r.aH)())return F();if(!t)throw O.create("no-app",{appName:e});return t}function q(e,t,n){var s;let r=null!==(s=N[e])&&void 0!==s?s:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void E.warn(e.join(" "))}x(new i.wA(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const U="firebase-heartbeat-database",B=1,H="firebase-heartbeat-store";let j=null;function z(){return j||(j=function(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=g(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(g(o.result),e.oldVersion,e.newVersion,g(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{r&&e.addEventListener("close",(()=>r())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(U,B,{upgrade:(e,t)=>{0===t&&e.createObjectStore(H)}}).catch((e=>{throw O.create("idb-open",{originalErrorMessage:e.message})}))),j}async function V(e,t){try{const n=(await z()).transaction(H,"readwrite"),i=n.objectStore(H);await i.put(t,$(e)),await n.done}catch(e){if(e instanceof r.ZR)E.warn(e.message);else{const t=O.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}function $(e){return`${e.name}!${e.options.appId}`}class K{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Y();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Y(),{heartbeatsToSend:n,unsentEntries:i}=function(e,t=1024){const n=[];let i=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Q(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=(0,r.L)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Y(){return(new Date).toISOString().substring(0,10)}class G{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,r.hl)()&&(0,r.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await z();return await t.transaction(H).objectStore(H).get($(e))}catch(e){if(e instanceof r.ZR)E.warn(e.message);else{const t=O.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return V(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return V(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Q(e){return(0,r.L)(JSON.stringify({version:2,heartbeats:e})).length}x(new i.wA("platform-logger",(e=>new I(e)),"PRIVATE")),x(new i.wA("heartbeat",(e=>new K(e)),"PRIVATE")),q(T,S,""),q(T,S,"esm2017"),q("fire-js","")},463:function(e,t,n){n.d(t,{H0:function(){return a},wA:function(){return s}});var i=n(444);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const r="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:r})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=r){return this.instances.has(e)}getOptions(e=r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===r?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e=r){return this.component?this.component.multipleInstances?e:r:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},333:function(e,t,n){n.d(t,{Yd:function(){return c},in:function(){return s}});const i=[];var s;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));const r={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},h=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),s=a[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=h,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?r[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}},977:function(e,t,n){n.d(t,{ZF:function(){return i.ZF}});var i=n(389);(0,i.KN)("firebase","10.7.1","app")},679:function(e,t,n){n.d(t,{N8:function(){return Li},iH:function(){return Pi},t8:function(){return Di}});var i=n(389),s=n(463),r=n(444),o=n(333);const a="@firebase/database",h="1.0.2";let c="";class l{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,r.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,r.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class u{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,r.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(e){}return new u},p=d("localStorage"),_=d("sessionStorage"),f=new o.Yd("@firebase/database"),g=function(){let e=1;return function(){return e++}}(),m=function(e){const t=(0,r.dS)(e),n=new r.gQ;n.update(t);const i=n.digest();return r.US.encodeByteArray(i)},y=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=y.apply(null,i):t+="object"==typeof i?(0,r.Wl)(i):i,t+=" "}return t};let v=null,w=!0;const C=function(...e){if(!0===w&&(w=!1,null===v&&!0===_.get("logging_enabled")&&(t=!0,(0,r.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=o.in.VERBOSE,v=f.log.bind(f),n&&_.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,_.remove("logging_enabled")))),v){const t=y.apply(null,e);v(t)}var t,n},b=function(e){return function(...t){C(e,...t)}},I=function(...e){const t="FIREBASE INTERNAL ERROR: "+y(...e);f.error(t)},T=function(...e){const t=`FIREBASE FATAL ERROR: ${y(...e)}`;throw f.error(t),new Error(t)},S=function(...e){const t="FIREBASE WARNING: "+y(...e);f.warn(t)},E=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",N="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===k||t===N)return-1;if(t===k||e===N)return 1;{const n=F(e),i=F(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},P=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,r.Wl)(t))},x=function(e){if("object"!=typeof e||null===e)return(0,r.Wl)(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,r.Wl)(t[i]),n+=":",n+=x(e[t[i]]);return n+="}",n},A=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function O(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const L=function(e){(0,r.hu)(!E(e),"Invalid JSON number");let t,n,i,s,o;0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=s+1023,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const h=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(h.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(M.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},W=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw S("Exception was thrown by user callback.",t),e}),Math.floor(0))}},q=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class U{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){S(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class B{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)}}class H{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}H.OWNER="owner";const j="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,V="ac",$="websocket",K="long_polling";class Y{constructor(e,t,n,i,s=!1,r="",o=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function G(e,t,n){let i;if((0,r.hu)("string"==typeof t,"typeof type must == string"),(0,r.hu)("object"==typeof n,"typeof params must == object"),t===$)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return O(n,((e,t)=>{s.push(e+"="+t)})),i+s.join("&")}class Q{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,r.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,r.p$)(this.counters_)}}const J={},X={};function Z(e){const t=e.toString();return J[t]||(J[t]=new Q),J[t]}class ee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&W((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const te="start";class ne{constructor(e,t,n,i,s,r,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=b(e),this.stats_=Z(t),this.urlFn=e=>(this.appCheckToken&&(e[V]=this.appCheckToken),G(t,K,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,r.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new ie(((...e)=>{const[t,n,i,s,r]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===te)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[te]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=j,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[V]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ne.forceAllow_=!0}static forceDisallow(){ne.forceDisallow_=!0}static isAvailable(){return!((0,r.Yr)()||!ne.forceAllow_&&(ne.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,r.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,r.h$)(t),i=A(n,1840);for(let e=0;e<i.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,r.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,r.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ie{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,r.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ie.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){C("frame writing exception"),e.stack&&C(e.stack),C(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){(0,r.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{C("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let se=null;"undefined"!=typeof MozWebSocket?se=MozWebSocket:"undefined"!=typeof WebSocket&&(se=WebSocket);class re{constructor(e,t,n,i,s,r,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=b(this.connId),this.stats_=Z(t),this.connURL=re.connectionURL_(t,r,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,s){const o={};return o.v=j,!(0,r.Yr)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),i&&(o[V]=i),s&&(o.p=s),G(e,$,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{let e;if((0,r.Yr)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${j}/${c}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=process.env,i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new se(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){re.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==se&&!re.forceDisallow_}static previouslyFailed(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")}markConnectionHealthy(){p.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,r.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,r.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,r.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=A(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}re.responsesRequiredToBeHealthy=2,re.healthyTimeout=3e4;class oe{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ne,re]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=re&&re.isAvailable();let n=t&&!re.previouslyFailed();if(e.webSocketOnly&&(t||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[re];else{const e=this.transports_=[];for(const t of oe.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);oe.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}oe.globalTransportInitialized_=!1;class ae{constructor(e,t,n,i,s,r,o,a,h,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=a,this.onKill_=h,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=b("c:"+this.id+":"),this.transportManager_=new oe(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=q((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=D("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),j!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),q((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class he{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ce{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,r.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let e=0;e<i.length;e++)if(i[e].callback===t&&(!n||n===i[e].context))return void i.splice(e,1)}validateEventType_(e){(0,r.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class le extends ce{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,r.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new le}getInitialEvent(e){return(0,r.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ue{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function de(){return new ue("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _e(e){return e.pieces_.length-e.pieceNum_}function fe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ue(e.pieces_,t)}function ge(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function me(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ye(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ue(t,0)}function ve(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof ue)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ue(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Ce(e,t){const n=pe(e),i=pe(t);if(null===n)return t;if(n===i)return Ce(fe(e),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function be(e,t){if(_e(e)!==_e(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ie(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(_e(e)>_e(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Te{constructor(e,t){this.errorPrefix_=t,this.parts_=me(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=(0,r.ug)(this.parts_[e]);Se(this)}}function Se(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ee(e))}function Ee(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ke extends ce{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new ke}getInitialEvent(e){return(0,r.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ne=1e3;class Re extends he{constructor(e,t,n,i,s,o,a,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=h,this.id=Re.nextPersistentConnectionId_++,this.log_=b("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ne,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!(0,r.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ke.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&le.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_((0,r.Wl)(s)),(0,r.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new r.BH,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),(0,r.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,r.hu)(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(s=>{const r=s.d,o=s.s;Re.warnOnListenWarnings_(r,t),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,r))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,r.r3)(e,"w")){const n=(0,r.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();S(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,r.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,r.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,r.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e};i&&(s.q=n,s.t=i),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,s){this.initConnection_();const r={p:t,d:n};void 0!==s&&(r.h=s),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,r.Wl)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,r.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,r.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ne),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Re.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const h=function(){a?a.close():(o=!0,n())},c=function(e){(0,r.hu)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:h,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[r,h]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=r&&r.accessToken,this.appCheckToken_=h&&h.token,a=new ae(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{S(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),s))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&S(e),h())}}}interrupt(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,r.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>x(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new ue(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,r.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,r.uI)()?e["framework.cordova"]=1:(0,r.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=le.getInstance().currentlyOnline();return(0,r.xb)(this.interruptReasons_)&&e}}Re.nextPersistentConnectionId_=0,Re.nextConnectionId_=0;class Pe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pe(e,t)}}class De{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Pe(k,e),i=new Pe(k,t);return 0!==this.compare(n,i)}minPost(){return Pe.MIN}}let xe;class Ae extends De{static get __EMPTY_NODE(){return xe}static set __EMPTY_NODE(e){xe=e}compare(e,t){return R(e.name,t.name)}isDefinedOn(e){throw(0,r.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(N,xe)}makePost(e,t){return(0,r.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pe(e,xe)}toString(){return".key"}}const Oe=new Ae;class Le{constructor(e,t,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse_?e.left:e.right;else{if(0===r){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Me{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:Me.RED,this.left=null!=i?i:Fe.EMPTY_NODE,this.right=null!=s?s:Fe.EMPTY_NODE}copy(e,t,n,i,s){return new Me(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fe.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Me.RED=!0,Me.BLACK=!1;class Fe{constructor(e,t=Fe.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fe(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Me.BLACK,null,null))}remove(e){return new Fe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Me.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Le(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Le(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Le(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Le(this.root_,null,this.comparator_,!0,e)}}function We(e,t){return R(e.name,t.name)}function qe(e,t){return R(e,t)}let Ue;Fe.EMPTY_NODE=new class{copy(e,t,n,i,s){return this}insert(e,t,n){return new Me(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Be=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},He=function(e){if(e.isLeafNode()){const t=e.val();(0,r.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,r.r3)(t,".sv"),"Priority must be a string or number.")}else(0,r.hu)(e===Ue||e.isEmpty(),"priority of unexpected type.");(0,r.hu)(e===Ue||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let je,ze,Ve;class $e{constructor(e,t=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,r.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),He(this.priorityNode_)}static set __childrenNodeConstructor(e){je=e}static get __childrenNodeConstructor(){return je}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return we(e)?this:".priority"===pe(e)?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=pe(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,r.hu)(".priority"!==n||1===_e(e),".priority must be the last token in a path"),this.updateImmediateChild(n,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Be(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:((0,r.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=$e.VALUE_TYPE_ORDER.indexOf(t),s=$e.VALUE_TYPE_ORDER.indexOf(n);return(0,r.hu)(i>=0,"Unknown leaf type: "+t),(0,r.hu)(s>=0,"Unknown leaf type: "+n),i===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ke=new class extends De{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),s=n.compareTo(i);return 0===s?R(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(N,new $e("[PRIORITY-POST]",Ve))}makePost(e,t){const n=ze(e);return new Pe(t,new $e("[PRIORITY-POST]",n))}toString(){return".priority"}},Ye=Math.log(2);class Ge{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ye,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qe=function(e,t,n,i){e.sort(t);const s=function(t,i){const r=i-t;let o,a;if(0===r)return null;if(1===r)return o=e[t],a=n?n(o):o,new Me(a,o.node,Me.BLACK,null,null);{const h=parseInt(r/2,10)+t,c=s(t,h),l=s(h+1,i);return o=e[h],a=n?n(o):o,new Me(a,o.node,Me.BLACK,c,l)}},r=function(t){let i=null,r=null,o=e.length;const a=function(t,i){const r=o-t,a=o;o-=t;const c=s(r+1,a),l=e[r],u=n?n(l):l;h(new Me(u,l.node,i,null,c))},h=function(e){i?(i.left=e,i=e):(r=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Me.BLACK):(a(i,Me.BLACK),a(i,Me.RED))}return r}(new Ge(e.length));return new Fe(i||t,r)};let Je;const Xe={};class Ze{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,r.hu)(Xe&&Ke,"ChildrenNode.ts has not been loaded"),Je=Je||new Ze({".priority":Xe},{".priority":Ke}),Je}get(e){const t=(0,r.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fe?t:null}hasIndex(e){return(0,r.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,r.hu)(e!==Oe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=t.getIterator(Pe.Wrap);let o,a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=s.getNext();o=i?Qe(n,e.getCompare()):Xe;const h=e.toString(),c=Object.assign({},this.indexSet_);c[h]=e;const l=Object.assign({},this.indexes_);return l[h]=o,new Ze(l,c)}addToIndexes(e,t){const n=(0,r.UI)(this.indexes_,((n,i)=>{const s=(0,r.DV)(this.indexSet_,i);if((0,r.hu)(s,"Missing index implementation for "+i),n===Xe){if(s.isDefinedOn(e.node)){const n=[],i=t.getIterator(Pe.Wrap);let r=i.getNext();for(;r;)r.name!==e.name&&n.push(r),r=i.getNext();return n.push(e),Qe(n,s.getCompare())}return Xe}{const i=t.get(e.name);let s=n;return i&&(s=s.remove(new Pe(e.name,i))),s.insert(e,e.node)}}));return new Ze(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,r.UI)(this.indexes_,(n=>{if(n===Xe)return n;{const i=t.get(e.name);return i?n.remove(new Pe(e.name,i)):n}}));return new Ze(n,this.indexSet_)}}let et;class tt{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&He(this.priorityNode_),this.children_.isEmpty()&&(0,r.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return et||(et=new tt(new Fe(qe),null,Ze.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||et}updatePriority(e){return this.children_.isEmpty()?this:new tt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?et:t}}getChild(e){const t=pe(e);return null===t?this:this.getImmediateChild(t).getChild(fe(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,r.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Pe(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const r=i.isEmpty()?et:this.priorityNode_;return new tt(i,r,s)}}updateChild(e,t){const n=pe(e);if(null===n)return t;{(0,r.hu)(".priority"!==pe(e)||1===_e(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(fe(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,s=!0;if(this.forEachChild(Ke,((r,o)=>{t[r]=o.val(e),n++,s&&tt.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):s=!1})),!e&&s&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Be(this.getPriority().val())+":"),this.forEachChild(Ke,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Pe(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Pe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Pe(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Pe.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0}withIndex(e){if(e===Oe||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new tt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Oe||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ke),n=t.getIterator(Ke);let i=e.getNext(),s=n.getNext();for(;i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=e.getNext(),s=n.getNext()}return null===i&&null===s}return!1}return!1}}resolveIndex_(e){return e===Oe?null:this.indexMap_.get(e.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const nt=new class extends tt{constructor(){super(new Fe(qe),tt.EMPTY_NODE,Ze.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pe,{MIN:{value:new Pe(k,tt.EMPTY_NODE)},MAX:{value:new Pe(N,nt)}}),Ae.__EMPTY_NODE=tt.EMPTY_NODE,$e.__childrenNodeConstructor=tt,Ue=nt,Ve=nt;const it=!0;function st(e,t=null){if(null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,r.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new $e(e,st(t));if(e instanceof Array||!it){let n=tt.EMPTY_NODE;return O(e,((t,i)=>{if((0,r.r3)(e,t)&&"."!==t.substring(0,1)){const e=st(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(st(t))}{const n=[];let i=!1;if(O(e,((e,t)=>{if("."!==e.substring(0,1)){const s=st(t);s.isEmpty()||(i=i||!s.getPriority().isEmpty(),n.push(new Pe(e,s)))}})),0===n.length)return tt.EMPTY_NODE;const s=Qe(n,We,(e=>e.name),qe);if(i){const e=Qe(n,Ke.getCompare());return new tt(s,st(t),new Ze({".priority":e},{".priority":Ke}))}return new tt(s,st(t),Ze.Default)}}!function(e){ze=e}(st);class rt extends De{constructor(e){super(),this.indexPath_=e,(0,r.hu)(!we(e)&&".priority"!==pe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),s=n.compareTo(i);return 0===s?R(e.name,t.name):s}makePost(e,t){const n=st(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pe(t,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Pe(N,e)}toString(){return me(this.indexPath_,0).join("/")}}const ot=new class extends De{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(e,t){const n=st(e);return new Pe(t,n)}toString(){return".value"}};function at(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ht{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,r.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,r.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,r.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,r.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,r.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new ht;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ct(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ke?n="$priority":e.index_===ot?n="$value":e.index_===Oe?n="$key":((0,r.hu)(e.index_ instanceof rt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,r.Wl)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,r.Wl)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,r.Wl)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,r.Wl)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,r.Wl)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function lt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ke&&(t.i=e.index_.toString()),t}class ut extends he{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=b("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,r.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ut.getListenId_(e,n),a={};this.listens_[o]=a;const h=ct(e._queryParams);this.restRequest_(s+".json",h,((e,t)=>{let h=t;if(404===e&&(h=null,e=null),null===e&&this.onDataUpdate_(s,h,!1,n),(0,r.DV)(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=ut.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ct(e._queryParams),n=e._path.toString(),i=new r.BH;return this.restRequest_(n+".json",t,((e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),i.resolve(s)):i.reject(new Error(s))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,r.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=(0,r.cI)(a.responseText)}catch(e){S("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&S("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class dt{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function pt(){return{value:null,children:new Map}}function _t(e,t,n){if(we(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=pe(t);e.children.has(i)||e.children.set(i,pt()),_t(e.children.get(i),t=fe(t),n)}}function ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{ft(i,new ue(t.toString()+"/"+e),n)}))}class gt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&O(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class mt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gt(e);const n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;O(e,((e,i)=>{i>0&&(0,r.r3)(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var yt;function vt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yt||(yt={}));class wt{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=yt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(we(this.path)){if(null!=this.affectedTree.value)return(0,r.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ue(e));return new wt(de(),t,this.revert)}}return(0,r.hu)(pe(this.path)===e,"operationForChild called for unrelated child."),new wt(fe(this.path),this.affectedTree,this.revert)}}class Ct{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=yt.OVERWRITE}operationForChild(e){return we(this.path)?new Ct(this.source,de(),this.snap.getImmediateChild(e)):new Ct(this.source,fe(this.path),this.snap)}}class bt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=yt.MERGE}operationForChild(e){if(we(this.path)){const t=this.children.subtree(new ue(e));return t.isEmpty()?null:t.value?new Ct(this.source,de(),t.value):new bt(this.source,de(),t)}return(0,r.hu)(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bt(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class It{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;const t=pe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Tt(e,t,n,i,s,o){const a=i.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,r.g5)("Should only compare child_ events.");const i=new Pe(t.childName,t.snapshotNode),s=new Pe(n.childName,n.snapshotNode);return e.index_.compare(i,s)}(e,t,n))),a.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);s.forEach((s=>{s.respondsTo(n.type)&&t.push(s.createEvent(i,e.query_))}))}))}function St(e,t){return{eventCache:e,serverCache:t}}function Et(e,t,n,i){return St(new It(t,n,i),e.serverCache)}function kt(e,t,n,i){return St(e.eventCache,new It(t,n,i))}function Nt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Pt;class Dt{constructor(e,t=(()=>(Pt||(Pt=new Fe(P)),Pt))()){this.value=e,this.children=t}static fromObject(e){let t=new Dt(null);return O(e,((e,n)=>{t=t.set(new ue(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:de(),value:this.value};if(we(e))return null;{const n=pe(e),i=this.children.get(n);if(null!==i){const s=i.findRootMostMatchingPathAndValue(fe(e),t);return null!=s?{path:ve(new ue(n),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(we(e))return this;{const t=pe(e),n=this.children.get(t);return null!==n?n.subtree(fe(e)):new Dt(null)}}set(e,t){if(we(e))return new Dt(t,this.children);{const n=pe(e),i=(this.children.get(n)||new Dt(null)).set(fe(e),t),s=this.children.insert(n,i);return new Dt(this.value,s)}}remove(e){if(we(e))return this.children.isEmpty()?new Dt(null):new Dt(null,this.children);{const t=pe(e),n=this.children.get(t);if(n){const i=n.remove(fe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Dt(null):new Dt(this.value,s)}return this}}get(e){if(we(e))return this.value;{const t=pe(e),n=this.children.get(t);return n?n.get(fe(e)):null}}setTree(e,t){if(we(e))return t;{const n=pe(e),i=(this.children.get(n)||new Dt(null)).setTree(fe(e),t);let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Dt(this.value,s)}}fold(e){return this.fold_(de(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,s)=>{n[i]=s.fold_(ve(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,de(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(we(e))return null;{const i=pe(e),s=this.children.get(i);return s?s.findOnPath_(fe(e),ve(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,de(),t)}foreachOnPath_(e,t,n){if(we(e))return this;{this.value&&n(t,this.value);const i=pe(e),s=this.children.get(i);return s?s.foreachOnPath_(fe(e),ve(t,i),n):new Dt(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(ve(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class xt{constructor(e){this.writeTree_=e}static empty(){return new xt(new Dt(null))}}function At(e,t,n){if(we(t))return new xt(new Dt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let r=i.value;const o=Ce(s,t);return r=r.updateChild(o,n),new xt(e.writeTree_.set(s,r))}{const i=new Dt(n),s=e.writeTree_.setTree(t,i);return new xt(s)}}}function Ot(e,t,n){let i=e;return O(n,((e,n)=>{i=At(i,ve(t,e),n)})),i}function Lt(e,t){if(we(t))return xt.empty();{const n=e.writeTree_.setTree(t,new Dt(null));return new xt(n)}}function Mt(e,t){return null!=Ft(e,t)}function Ft(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ce(n.path,t)):null}function Wt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ke,((e,n)=>{t.push(new Pe(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Pe(e,n.value))})),t}function qt(e,t){if(we(t))return e;{const n=Ft(e,t);return new xt(null!=n?new Dt(n):e.writeTree_.subtree(t))}}function Ut(e){return e.writeTree_.isEmpty()}function Bt(e,t){return Ht(de(),e.writeTree_,t)}function Ht(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,s)=>{".priority"===t?((0,r.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=Ht(ve(e,t),s,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(ve(e,".priority"),i)),n}}function jt(e,t){return en(t,e)}function zt(e,t){if(e.snap)return Ie(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ie(ve(e.path,n),t))return!0;return!1}function Vt(e){return e.visible}function $t(e,t,n){let i=xt.empty();for(let s=0;s<e.length;++s){const o=e[s];if(t(o)){const e=o.path;let t;if(o.snap)Ie(n,e)?(t=Ce(n,e),i=At(i,t,o.snap)):Ie(e,n)&&(t=Ce(e,n),i=At(i,de(),o.snap.getChild(t)));else{if(!o.children)throw(0,r.g5)("WriteRecord should have .snap or .children");if(Ie(n,e))t=Ce(n,e),i=Ot(i,t,o.children);else if(Ie(e,n))if(t=Ce(e,n),we(t))i=Ot(i,de(),o.children);else{const e=(0,r.DV)(o.children,pe(t));if(e){const n=e.getChild(fe(t));i=At(i,de(),n)}}}}}return i}function Kt(e,t,n,i,s){if(i||s){const r=qt(e.visibleWrites,t);if(!s&&Ut(r))return n;if(s||null!=n||Mt(r,de())){const r=function(e){return(e.visible||s)&&(!i||!~i.indexOf(e.writeId))&&(Ie(e.path,t)||Ie(t,e.path))};return Bt($t(e.allWrites,r,t),n||tt.EMPTY_NODE)}return null}{const i=Ft(e.visibleWrites,t);if(null!=i)return i;{const i=qt(e.visibleWrites,t);return Ut(i)?n:null!=n||Mt(i,de())?Bt(i,n||tt.EMPTY_NODE):null}}}function Yt(e,t,n,i){return Kt(e.writeTree,e.treePath,t,n,i)}function Gt(e,t){return function(e,t,n){let i=tt.EMPTY_NODE;const s=Ft(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Ke,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const s=qt(e.visibleWrites,t);return n.forEachChild(Ke,((e,t)=>{const n=Bt(qt(s,new ue(e)),t);i=i.updateImmediateChild(e,n)})),Wt(s).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return Wt(qt(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function Qt(e,t,n,i){return function(e,t,n,i,s){(0,r.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=ve(t,n);if(Mt(e.visibleWrites,o))return null;{const t=qt(e.visibleWrites,o);return Ut(t)?s.getChild(n):Bt(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function Jt(e,t){return function(e,t){return Ft(e.visibleWrites,t)}(e.writeTree,ve(e.treePath,t))}function Xt(e,t,n){return function(e,t,n,i){const s=ve(t,n),r=Ft(e.visibleWrites,s);return null!=r?r:i.isCompleteForChild(n)?Bt(qt(e.visibleWrites,s),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Zt(e,t){return en(ve(e.treePath,t),e.writeTree)}function en(e,t){return{treePath:e,writeTree:t}}class tn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,r.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,r.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,at(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,(s=n,{type:"child_removed",snapshotNode:i.oldSnap,childName:s}));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,function(e,t){return{type:"child_added",snapshotNode:t,childName:e}}(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,r.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,at(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e);var s}getChanges(){return Array.from(this.changeMap.values())}}const nn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class sn{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new It(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xt(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rt(this.viewCache_),s=function(e,t,n,i,s,r){return function(e,t,n,i,s,r,o){let a;const h=qt(e.visibleWrites,t),c=Ft(h,de());if(null!=c)a=c;else{if(null==n)return[];a=Bt(h,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=n.getNext();for(;h&&e.length<s;)0!==t(h,i)&&e.push(h),h=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,s,r)}(this.writes_,i,t,1,n,e);return 0===s.length?null:s[0]}}function rn(e,t,n,i,s,o){const a=t.eventCache;if(null!=Jt(i,n))return t;{let h,c;if(we(n))if((0,r.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Rt(t),s=Gt(i,n instanceof tt?n:tt.EMPTY_NODE);h=e.filter.updateFullNode(t.eventCache.getNode(),s,o)}else{const n=Yt(i,Rt(t));h=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=pe(n);if(".priority"===l){(0,r.hu)(1===_e(n),"Can't have a priority with additional path components");const s=a.getNode();c=t.serverCache.getNode();const o=Qt(i,n,s,c);h=null!=o?e.filter.updatePriority(s,o):a.getNode()}else{const r=fe(n);let u;if(a.isCompleteForChild(l)){c=t.serverCache.getNode();const e=Qt(i,n,a.getNode(),c);u=null!=e?a.getNode().getImmediateChild(l).updateChild(r,e):a.getNode().getImmediateChild(l)}else u=Xt(i,l,t.serverCache);h=null!=u?e.filter.updateChild(a.getNode(),l,u,r,s,o):a.getNode()}}return Et(t,h,a.isFullyInitialized()||we(n),e.filter.filtersNodes())}}function on(e,t,n,i,s,r,o,a){const h=t.serverCache;let c;const l=o?e.filter:e.filter.getIndexedFilter();if(we(n))c=l.updateFullNode(h.getNode(),i,null);else if(l.filtersNodes()&&!h.isFiltered()){const e=h.getNode().updateChild(n,i);c=l.updateFullNode(h.getNode(),e,null)}else{const e=pe(n);if(!h.isCompleteForPath(n)&&_e(n)>1)return t;const s=fe(n),r=h.getNode().getImmediateChild(e).updateChild(s,i);c=".priority"===e?l.updatePriority(h.getNode(),r):l.updateChild(h.getNode(),e,r,s,nn,null)}const u=kt(t,c,h.isFullyInitialized()||we(n),l.filtersNodes());return rn(e,u,n,s,new sn(s,u,r),a)}function an(e,t,n,i,s,r,o){const a=t.eventCache;let h,c;const l=new sn(s,t,r);if(we(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),h=Et(t,c,!0,e.filter.filtersNodes());else{const s=pe(n);if(".priority"===s)c=e.filter.updatePriority(t.eventCache.getNode(),i),h=Et(t,c,a.isFullyInitialized(),a.isFiltered());else{const r=fe(n),c=a.getNode().getImmediateChild(s);let u;if(we(r))u=i;else{const e=l.getCompleteChild(s);u=null!=e?".priority"===ge(r)&&e.getChild(ye(r)).isEmpty()?e:e.updateChild(r,i):tt.EMPTY_NODE}h=c.equals(u)?t:Et(t,e.filter.updateChild(a.getNode(),s,u,r,l,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return h}function hn(e,t){return e.eventCache.isCompleteForChild(t)}function cn(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function ln(e,t,n,i,s,r,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let h,c=t;h=we(n)?i:new Dt(null).setTree(n,i);const l=t.serverCache.getNode();return h.children.inorderTraversal(((n,i)=>{if(l.hasChild(n)){const h=cn(0,t.serverCache.getNode().getImmediateChild(n),i);c=on(e,c,new ue(n),h,s,r,o,a)}})),h.children.inorderTraversal(((n,i)=>{const h=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!l.hasChild(n)&&!h){const h=cn(0,t.serverCache.getNode().getImmediateChild(n),i);c=on(e,c,new ue(n),h,s,r,o,a)}})),c}function un(e,t){const n=Rt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function dn(e,t,n,i){t.type===yt.MERGE&&null!==t.source.queryId&&((0,r.hu)(Rt(e.viewCache_),"We should always have a full cache before handling merges"),(0,r.hu)(Nt(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,o=function(e,t,n,i,s){const o=new tn;let a,h;if(n.type===yt.OVERWRITE){const c=n;c.source.fromUser?a=an(e,t,c.path,c.snap,i,s,o):((0,r.hu)(c.source.fromServer,"Unknown source."),h=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=on(e,t,c.path,c.snap,i,s,h,o))}else if(n.type===yt.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,i,s,r,o){let a=t;return i.foreach(((i,h)=>{const c=ve(n,i);hn(t,pe(c))&&(a=an(e,a,c,h,s,r,o))})),i.foreach(((i,h)=>{const c=ve(n,i);hn(t,pe(c))||(a=an(e,a,c,h,s,r,o))})),a}(e,t,c.path,c.children,i,s,o):((0,r.hu)(c.source.fromServer,"Unknown source."),h=c.source.tagged||t.serverCache.isFiltered(),a=ln(e,t,c.path,c.children,i,s,h,o))}else if(n.type===yt.ACK_USER_WRITE){const h=n;a=h.revert?function(e,t,n,i,s,o){let a;if(null!=Jt(i,n))return t;{const h=new sn(i,t,s),c=t.eventCache.getNode();let l;if(we(n)||".priority"===pe(n)){let n;if(t.serverCache.isFullyInitialized())n=Yt(i,Rt(t));else{const e=t.serverCache.getNode();(0,r.hu)(e instanceof tt,"serverChildren would be complete if leaf node"),n=Gt(i,e)}l=e.filter.updateFullNode(c,n,o)}else{const s=pe(n);let r=Xt(i,s,t.serverCache);null==r&&t.serverCache.isCompleteForChild(s)&&(r=c.getImmediateChild(s)),l=null!=r?e.filter.updateChild(c,s,r,fe(n),h,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(c,s,tt.EMPTY_NODE,fe(n),h,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Yt(i,Rt(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Jt(i,de()),Et(t,l,a,e.filter.filtersNodes())}}(e,t,h.path,i,s,o):function(e,t,n,i,s,r,o){if(null!=Jt(s,n))return t;const a=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(we(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return on(e,t,n,h.getNode().getChild(n),s,r,a,o);if(we(n)){let i=new Dt(null);return h.getNode().forEachChild(Oe,((e,t)=>{i=i.set(new ue(e),t)})),ln(e,t,n,i,s,r,a,o)}return t}{let c=new Dt(null);return i.foreach(((e,t)=>{const i=ve(n,e);h.isCompleteForPath(i)&&(c=c.set(e,h.getNode().getChild(i)))})),ln(e,t,n,c,s,r,a,o)}}(e,t,h.path,h.affectedTree,i,s,o)}else{if(n.type!==yt.LISTEN_COMPLETE)throw(0,r.g5)("Unknown operation type: "+n.type);a=function(e,t,n,i,s){const r=t.serverCache;return rn(e,kt(t,r.getNode(),r.isFullyInitialized()||we(n),r.isFiltered()),n,i,nn,s)}(e,t,n.path,i,o)}const c=o.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Nt(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push({type:"value",snapshotNode:Nt(t)})}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,s,t,n,i);var a,h;return a=e.processor_,h=o.viewCache,(0,r.hu)(h.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,r.hu)(h.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),(0,r.hu)(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,function(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const s=[],r=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&r.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Tt(e,s,"child_removed",t,i,n),Tt(e,s,"child_added",t,i,n),Tt(e,s,"child_moved",r,i,n),Tt(e,s,"child_changed",t,i,n),Tt(e,s,"value",t,i,n),s}(e.eventGenerator_,t,n,s)}(e,o.changes,o.viewCache.eventCache.getNode(),null)}let pn,_n;function fn(e,t,n,i){const s=t.source.queryId;if(null!==s){const o=e.views.get(s);return(0,r.hu)(null!=o,"SyncTree gave us an op for an invalid query."),dn(o,t,n,i)}{let s=[];for(const r of e.views.values())s=s.concat(dn(r,t,n,i));return s}}function gn(e,t){let n=null;for(const i of e.views.values())n=n||un(i,t);return n}class mn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Dt(null),this.pendingWriteTree_={visibleWrites:xt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yn(e,t,n,i,s){return function(e,t,n,i,s){(0,r.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:s}),s&&(e.visibleWrites=At(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,s),s?bn(e,new Ct({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function vn(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,r.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let s=i.visible,o=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&zt(t,i.path)?s=!1:Ie(i.path,t.path)&&(o=!0)),a--}return!!s&&(o?(function(e){e.visibleWrites=$t(e.allWrites,Vt,de()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(i.snap?e.visibleWrites=Lt(e.visibleWrites,i.path):O(i.children,(t=>{e.visibleWrites=Lt(e.visibleWrites,ve(i.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new Dt(null);return null!=i.snap?t=t.set(de(),!0):O(i.children,(e=>{t=t.set(new ue(e),!0)})),bn(e,new wt(i.path,t,n))}return[]}function wn(e,t,n){return bn(e,new Ct({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Cn(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=gn(n,Ce(e,t));if(i)return i}));return Kt(i,t,s,n,!0)}function bn(e,t){return In(t,e.syncPointTree_,null,jt(e.pendingWriteTree_,de()))}function In(e,t,n,i){if(we(e.path))return Tn(e,t,n,i);{const s=t.get(de());null==n&&null!=s&&(n=gn(s,de()));let r=[];const o=pe(e.path),a=e.operationForChild(o),h=t.children.get(o);if(h&&a){const e=n?n.getImmediateChild(o):null,t=Zt(i,o);r=r.concat(In(a,h,e,t))}return s&&(r=r.concat(fn(s,e,i,n))),r}}function Tn(e,t,n,i){const s=t.get(de());null==n&&null!=s&&(n=gn(s,de()));let r=[];return t.children.inorderTraversal(((t,s)=>{const o=n?n.getImmediateChild(t):null,a=Zt(i,t),h=e.operationForChild(t);h&&(r=r.concat(Tn(h,s,o,a)))})),s&&(r=r.concat(fn(s,e,i,n))),r}function Sn(e,t){return e.tagToQueryMap.get(t)}function En(e){const t=e.indexOf("$");return(0,r.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ue(e.substr(0,t))}}function kn(e,t,n){const i=e.syncPointTree_.get(t);return(0,r.hu)(i,"Missing sync point for query tag that we're tracking"),fn(i,n,jt(e.pendingWriteTree_,t),null)}class Nn{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Nn(t)}node(){return this.node_}}class Rn{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ve(this.path_,e);return new Rn(this.syncTree_,t)}node(){return Cn(this.syncTree_,this.path_)}}const Pn=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Dn=function(e,t,n){return e&&"object"==typeof e?((0,r.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?xn(e[".sv"],t,n):"object"==typeof e[".sv"]?An(e[".sv"],t):void(0,r.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xn=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,r.hu)(!1,"Unexpected server value: "+e)},An=function(e,t,n){e.hasOwnProperty("increment")||(0,r.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,r.hu)(!1,"Unexpected increment value: "+i);const s=t.node();if((0,r.hu)(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return"number"!=typeof o?i:o+i},On=function(e,t,n,i){return Mn(t,new Rn(n,e),i)},Ln=function(e,t,n){return Mn(e,new Nn(t),n)};function Mn(e,t,n){const i=e.getPriority().val(),s=Dn(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const i=e,r=Dn(i.getValue(),t,n);return r!==i.getValue()||s!==i.getPriority().val()?new $e(r,st(s)):e}{const i=e;return r=i,s!==i.getPriority().val()&&(r=r.updatePriority(new $e(s))),i.forEachChild(Ke,((e,i)=>{const s=Mn(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))})),r}}class Fn{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Wn(e,t){let n=t instanceof ue?t:new ue(t),i=e,s=pe(n);for(;null!==s;){const e=(0,r.DV)(i.node.children,s)||{children:{},childCount:0};i=new Fn(s,i,e),n=fe(n),s=pe(n)}return i}function qn(e){return e.node.value}function Un(e,t){e.node.value=t,Vn(e)}function Bn(e){return e.node.childCount>0}function Hn(e,t){O(e.node.children,((n,i)=>{t(new Fn(n,e,i))}))}function jn(e,t,n,i){n&&!i&&t(e),Hn(e,(e=>{jn(e,t,!0,i)})),n&&i&&t(e)}function zn(e){return new ue(null===e.parent?e.name:zn(e.parent)+"/"+e.name)}function Vn(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===qn(e)&&!Bn(e)}(n),s=(0,r.r3)(e.node.children,t);i&&s?(delete e.node.children[t],e.node.childCount--,Vn(e)):i||s||(e.node.children[t]=n.node,e.node.childCount++,Vn(e))}(e.parent,e.name,e)}const $n=/[\[\].#$\/\u0000-\u001F\u007F]/,Kn=/[\[\].#$\u0000-\u001F\u007F]/,Yn=10485760,Gn=function(e){return"string"==typeof e&&0!==e.length&&!$n.test(e)},Qn=function(e){return"string"==typeof e&&0!==e.length&&!Kn.test(e)},Jn=function(e,t,n,i){i&&void 0===t||Xn((0,r.gK)(e,"value"),t,n)},Xn=function(e,t,n){const i=n instanceof ue?new Te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ee(i));if("function"==typeof t)throw new Error(e+"contains a function "+Ee(i)+" with contents = "+t.toString());if(E(t))throw new Error(e+"contains "+t.toString()+" "+Ee(i));if("string"==typeof t&&t.length>Yn/3&&(0,r.ug)(t)>Yn)throw new Error(e+"contains a string greater than "+Yn+" utf8 bytes "+Ee(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,s=!1;if(O(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Gn(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ee(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,r.ug)(t),Se(e)}(i,t),Xn(e,o,i),function(e){const t=e.parts_.pop();e.byteLength_-=(0,r.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&s)throw new Error(e+' contains ".value" child '+Ee(i)+" in addition to actual children.")}},Zn=function(e,t,n,i){if(!(i&&void 0===n||Qn(n)))throw new Error((0,r.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ei=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zn(e,t,n,i)},ti=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")};class ni{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ii(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();null===n||be(r,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function si(e,t,n){ii(e,n),function(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];s&&(t(s.path)?(ri(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,(e=>Ie(e,t)||Ie(t,e)))}function ri(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();v&&C("event: "+n.toString()),W(i)}}}const oi=25;class ai{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ni,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pt(),this.transactionQueueTree_=new Fn,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hi(e,t,n){if(e.stats_=Z(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ut(e.repoInfo_,((t,n,i,s)=>{ui(e,t,n,i,s)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>di(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,r.Wl)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Re(e.repoInfo_,t,((t,n,i,s)=>{ui(e,t,n,i,s)}),(t=>{di(e,t)}),(t=>{!function(e,t){O(t,((t,n)=>{pi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const i=t.toString();return X[i]||(X[i]=new mt(e.stats_,e.server_)),X[i]}(e.repoInfo_),e.infoData_=new dt,e.infoSyncTree_=new mn({startListening:(t,n,i,s)=>{let r=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(r=wn(e.infoSyncTree_,t._path,o),setTimeout((()=>{s("ok")}),0)),r},stopListening:()=>{}}),pi(e,"connected",!1),e.serverSyncTree_=new mn({startListening:(t,n,i,s)=>(e.server_.listen(t,i,n,((n,i)=>{const r=s(n,i);si(e.eventQueue_,t._path,r)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ci(e){const t=e.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return Pn({timestamp:ci(e)})}function ui(e,t,n,i,s){e.dataUpdateCount++;const o=new ue(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(i){const t=(0,r.UI)(n,(e=>st(e)));a=function(e,t,n,i){const s=Sn(e,i);if(s){const i=En(s),r=i.path,o=i.queryId,a=Ce(r,t),h=Dt.fromObject(n);return kn(e,r,new bt(vt(o),a,h))}return[]}(e.serverSyncTree_,o,t,s)}else{const t=st(n);a=function(e,t,n,i){const s=Sn(e,i);if(null!=s){const i=En(s),r=i.path,o=i.queryId,a=Ce(r,t);return kn(e,r,new Ct(vt(o),a,n))}return[]}(e.serverSyncTree_,o,t,s)}else if(i){const t=(0,r.UI)(n,(e=>st(e)));a=function(e,t,n){const i=Dt.fromObject(n);return bn(e,new bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,t)}else{const t=st(n);a=wn(e.serverSyncTree_,o,t)}let h=o;a.length>0&&(h=vi(e,o)),si(e.eventQueue_,h,a)}function di(e,t){pi(e,"connected",t),!1===t&&function(e){gi(e,"onDisconnectEvents");const t=li(e),n=pt();ft(e.onDisconnect_,de(),((i,s)=>{const r=On(i,s,e.serverSyncTree_,t);_t(n,i,r)}));let i=[];ft(n,de(),((t,n)=>{i=i.concat(wn(e.serverSyncTree_,t,n));const s=Ti(e,t);vi(e,s)})),e.onDisconnect_=pt(),si(e.eventQueue_,de(),i)}(e)}function pi(e,t,n){const i=new ue("/.info/"+t),s=st(n);e.infoData_.updateSnapshot(i,s);const r=wn(e.infoSyncTree_,i,s);si(e.eventQueue_,i,r)}function _i(e){return e.nextWriteId_++}function fi(e,t,n,i,s){gi(e,"set",{path:t.toString(),value:n,priority:i});const r=li(e),o=st(n,i),a=Cn(e.serverSyncTree_,t),h=Ln(o,a,r),c=_i(e),l=yn(e.serverSyncTree_,t,h,c,!0);ii(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),((n,i)=>{const r="ok"===n;r||S("set at "+t+" failed: "+n);const o=vn(e.serverSyncTree_,c,!r);si(e.eventQueue_,t,o),function(e,t,n,i){t&&W((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;i&&(s+=": "+i);const r=new Error(s);r.code=e,t(r)}}))}(0,s,n,i)}));const u=Ti(e,t);vi(e,u),si(e.eventQueue_,u,[])}function gi(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),C(n,...t)}function mi(e,t,n){return Cn(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function yi(e,t=e.transactionQueueTree_){if(t||Ii(e,t),qn(t)){const n=Ci(e,t);(0,r.hu)(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),s=mi(e,t,i);let o=s;const a=s.hash();for(let e=0;e<n.length;e++){const i=n[e];(0,r.hu)(0===i.status,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=1,i.retryCount++;const s=Ce(t,i.path);o=o.updateChild(s,i.currentOutputSnapshotRaw)}const h=o.val(!0),c=t;e.server_.put(c.toString(),h,(i=>{gi(e,"transaction put response",{path:c.toString(),status:i});let s=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(vn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ii(e,Wn(e.transactionQueueTree_,t)),yi(e,e.transactionQueueTree_),si(e.eventQueue_,t,s);for(let e=0;e<i.length;e++)W(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{S("transaction at "+c.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}vi(e,t)}}),a)}(e,zn(t),n)}else Bn(t)&&Hn(t,(t=>{yi(e,t)}))}function vi(e,t){const n=wi(e,t),i=zn(n);return function(e,t,n){if(0===t.length)return;const i=[];let s=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let h=0;h<t.length;h++){const c=t[h],l=Ce(n,c.path);let u,d=!1;if((0,r.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,u=c.abortReason,s=s.concat(vn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=oi)d=!0,u="maxretry",s=s.concat(vn(e.serverSyncTree_,c.currentWriteId,!0));else{const n=mi(e,c.path,o);c.currentInputSnapshot=n;const i=t[h].update(n.val());if(void 0!==i){Xn("transaction failed: Data returned ",i,c.path);let t=st(i);"object"==typeof i&&null!=i&&(0,r.r3)(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=c.currentWriteId,h=li(e),l=Ln(t,n,h);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=l,c.currentWriteId=_i(e),o.splice(o.indexOf(a),1),s=s.concat(yn(e.serverSyncTree_,c.path,l,c.currentWriteId,c.applyLocally)),s=s.concat(vn(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",s=s.concat(vn(e.serverSyncTree_,c.currentWriteId,!0))}si(e.eventQueue_,n,s),s=[],d&&(t[h].status=2,a=t[h].unwatcher,setTimeout(a,Math.floor(0)),t[h].onComplete&&("nodata"===u?i.push((()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot))):i.push((()=>t[h].onComplete(new Error(u),!1,null)))))}var a;Ii(e,e.transactionQueueTree_);for(let e=0;e<i.length;e++)W(i[e]);yi(e,e.transactionQueueTree_)}(e,Ci(e,n),i),i}function wi(e,t){let n,i=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===qn(i);)i=Wn(i,n),n=pe(t=fe(t));return i}function Ci(e,t){const n=[];return bi(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function bi(e,t,n){const i=qn(t);if(i)for(let e=0;e<i.length;e++)n.push(i[e]);Hn(t,(t=>{bi(e,t,n)}))}function Ii(e,t){const n=qn(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Un(t,n.length>0?n:void 0)}Hn(t,(t=>{Ii(e,t)}))}function Ti(e,t){const n=zn(wi(e,t)),i=Wn(e.transactionQueueTree_,t);return function(e,t,n){let i=e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{Si(e,t)})),Si(e,i),jn(i,(t=>{Si(e,t)})),n}function Si(e,t){const n=qn(t);if(n){const i=[];let s=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,r.hu)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,r.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(vn(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Un(t,void 0):n.length=o+1,si(e.eventQueue_,zn(t),s);for(let e=0;e<i.length;e++)W(i[e])}}const Ei=function(e,t){const n=ki(e),i=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Y(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new ue(n.pathString)}},ki=function(e){let t="",n="",i="",s="",r="",o=!0,a="https",h=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let l=e.indexOf("/");-1===l&&(l=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(l,u)),l<u&&(s=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let i=n[e];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(l,u)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):S(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,h=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),r=i}"ns"in d&&(r=d.ns)}return{host:t,port:h,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};class Ni{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return we(this._path)?null:ge(this._path)}get ref(){return new Ri(this._repo,this._path)}get _queryIdentifier(){const e=lt(this._queryParams),t=x(e);return"{}"===t?"default":t}get _queryObject(){return lt(this._queryParams)}isEqual(e){if(!((e=(0,r.m9)(e))instanceof Ni))return!1;const t=this._repo===e._repo,n=be(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Ri extends Ni{constructor(e,t){super(e,t,new ht,!1)}get parent(){const e=ye(this._path);return null===e?null:new Ri(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function Pi(e,t){return(e=(0,r.m9)(e))._checkNotDeleted("ref"),void 0!==t?function(e,t){return null===pe((e=(0,r.m9)(e))._path)?ei("child","path",t,!1):Zn("child","path",t,!1),new Ri(e._repo,ve(e._path,t))}(e._root,t):e._root}function Di(e,t){e=(0,r.m9)(e),ti("set",e._path),Jn("set",t,e._path,!1);const n=new r.BH;return fi(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}!function(e){(0,r.hu)(!pn,"__referenceConstructor has already been defined"),pn=e}(Ri),function(e){(0,r.hu)(!_n,"__referenceConstructor has already been defined"),_n=e}(Ri);const xi={};function Ai(e,t,n,i,s){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,h,c=Ei(o,s),l=c.repoInfo;"undefined"!=typeof process&&process.env&&(h=process.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(a=!0,o=`http://${h}?ns=${l.namespace}`,c=Ei(o,s),l=c.repoInfo):a=!c.repoInfo.secure;const u=s&&a?new H(H.OWNER):new B(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Gn(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qn(e)}(n))throw new Error((0,r.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",c),we(c.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let s=xi[t.name];s||(s={},xi[t.name]=s);let r=s[e.toURLString()];return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new ai(e,false,n,i),s[e.toURLString()]=r,r}(l,e,u,new U(e.name,n));return new Oi(d,e)}class Oi{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ri(this._repo,de())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=xi[t];n&&n[e.key]===e||T(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")}}function Li(e=(0,i.Mq)(),t){const n=(0,i.qX)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,r.P0)("database");e&&function(e,t,n,i={}){(e=(0,r.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new H(H.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:(0,r.Sg)(i.mockUserToken,e.app.options.projectId);o=new H(t)}!function(e,t,n,i){e.repoInfo_=new Y(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(s,t,n,o)}(n,...e)}return n}Re.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Re.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function(e){c=e}(i.Jn),(0,i.Xd)(new s.wA("database",((e,{instanceIdentifier:t})=>Ai(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(a,h,undefined),(0,i.KN)(a,h,"esm2017")}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return s[e](n,n.exports,o),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},o.a=function(s,r,o){var a;o&&((a=[]).d=-1);var h,c,l,u=new Set,d=s.exports,p=new Promise((function(e,t){l=t,c=e}));p[t]=d,p[e]=function(e){a&&e(a),u.forEach(e),p.catch((function(){}))},s.exports=p,r((function(s){var r;h=function(s){return s.map((function(s){if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var r=[];r.d=0,s.then((function(e){o[t]=e,i(r)}),(function(e){o[n]=e,i(r)}));var o={};return o[e]=function(e){e(r)},o}}var a={};return a[e]=function(){},a[t]=s,a}))}(s);var o=function(){return h.map((function(e){if(e[n])throw e[n];return e[t]}))},c=new Promise((function(t){(r=function(){t(o)}).r=0;var n=function(e){e!==a&&!u.has(e)&&(u.add(e),e&&!e.d&&(r.r++,e.push(r)))};h.map((function(t){t[e](n)}))}));return r.r?c:o()}),(function(e){e?l(p[n]=e):c(d),i(a)})),a&&a.d<0&&(a.d=0)},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o(300)}();
